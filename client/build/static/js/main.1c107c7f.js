/*! For license information please see main.1c107c7f.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function f(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||x}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||x}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=f.prototype;var b=v.prototype=new y;b.constructor=v,p(b,f.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,s){var n,a={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!k.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(1===l)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===a[n]&&(a[n]=l[n]);return{$$typeof:r,type:e,key:i,ref:o,props:a,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,n,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case s:l=!0}}if(l)return i=i(l=e),e=""===a?"."+E(l,0):a,j(i)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),T(i,t,n,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+E(o=e[c],c);l+=T(o,t,n,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,n,d=a+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,r){if(null==e)return e;var s=[],n=0;return T(e,s,"","",function(e){return t.call(r,e,n++)}),s}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,r){L(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=n,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=F,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:r,type:e.type,key:a,ref:i,props:n,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,r){return A.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,r){return A.current.useReducer(e,t,r)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return A.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},119:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(345)},340:(e,t,r)=>{e.exports=r(761)},345:(e,t,r)=>{var s=r(950),n=r(340);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},x={};function p(e,t,r,s,n,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,r,s){var n=g.hasOwnProperty(t)?g[t]:null;(null!==n?0!==n.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,s){if(null===t||"undefined"===typeof t||function(e,t,r,s){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,s))return!0;if(s)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,n,s)&&(r=null),s||null===n?function(e){return!!u.call(x,e)||!u.call(h,e)&&(m.test(e)?x[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,s=n.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,y);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var I,O=Object.assign;function z(e){if(void 0===I)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var B=!1;function _(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),a=s.stack.split("\n"),i=n.length-1,o=a.length-1;1<=i&&0<=o&&n[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||n[i]!==a[o]){var l="\n"+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=_(e.type,!1);case 11:return e=_(e.type.render,!1);case 1:return e=_(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){s=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=H(e)?e.checked?"true":"false":e.value),(e=s)!==r&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function K(e,t){var r=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){J(e,t);var r=W(t.value),s=t.type;if(null!=r)"number"===s?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&G(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(s&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ae(e,t){var r=W(t.value),s=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=s&&(e.defaultValue=""+s)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function pe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var s=0===r.indexOf("--"),n=pe(r,t[r],s);"float"===r&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}Object.keys(he).forEach(function(e){xe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var fe=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function Se(e){if(e=vn(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=jn(t),we(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Pe(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Le=!1;function Me(e,t,r){if(Le)return e(t,r);Le=!0;try{return Ee(e,t,r)}finally{Le=!1,(null!==Ne||null!==ke)&&(Te(),Pe())}}function Ae(e,t){var r=e.stateNode;if(null===r)return null;var s=jn(r);if(null===s)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var De=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){De=!1}function Fe(e,t,r,s,n,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Ie=!1,Oe=null,ze=!1,Be=null,_e={onError:function(e){Ie=!0,Oe=e}};function Ue(e,t,r,s,n,a,i,o,l){Ie=!1,Oe=null,Fe.apply(_e,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(null===n)break;var i=n.alternate;if(null===i){if(null!==(s=n.return)){r=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return We(n),e;if(i===s)return We(n),t;i=i.sibling}throw Error(a(188))}if(r.return!==s.return)r=n,s=i;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,s=i;break}if(l===s){o=!0,s=n,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=n;break}if(l===s){o=!0,s=i,r=n;break}l=l.sibling}if(!o)throw Error(a(189))}}if(r.alternate!==s)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ye=n.unstable_scheduleCallback,Ge=n.unstable_cancelCallback,Qe=n.unstable_shouldYield,Ke=n.unstable_requestPaint,Je=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,rt=n.unstable_LowPriority,st=n.unstable_IdlePriority,nt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var r=e.pendingLanes;if(0===r)return 0;var s=0,n=e.suspendedLanes,a=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~n;0!==o?s=ut(o):0!==(a&=i)&&(s=ut(a))}else 0!==(i=r&~n)?s=ut(i):0!==a&&(s=ut(a));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&n)&&((n=s&-s)>=(a=t&-t)||16===n&&0!==(4194240&a)))return t;if(0!==(4&s)&&(s|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)n=1<<(r=31-it(t)),s|=e[r],t&=~n;return s}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ft(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-it(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,St,Ct=!1,Pt=[],Et=null,Tt=null,Lt=null,Mt=new Map,At=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function It(e,t,r,s,n,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[n]},null!==t&&(null!==(t=vn(t))&&wt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Ot(e){var t=yn(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void St(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vn(r))&&wt(t),e.blockedOn=r,!1;var s=new(r=e.nativeEvent).constructor(r.type,r);be=s,r.target.dispatchEvent(s),be=null,t.shift()}return!0}function Bt(e,t,r){zt(e)&&r.delete(t)}function _t(){Ct=!1,null!==Et&&zt(Et)&&(Et=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Lt&&zt(Lt)&&(Lt=null),Mt.forEach(Bt),At.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_t)))}function qt(e){function t(t){return Ut(t,e)}if(0<Pt.length){Ut(Pt[0],e);for(var r=1;r<Pt.length;r++){var s=Pt[r];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Tt&&Ut(Tt,e),null!==Lt&&Ut(Lt,e),Mt.forEach(t),At.forEach(t),r=0;r<Dt.length;r++)(s=Dt[r]).blockedOn===e&&(s.blockedOn=null);for(;0<Dt.length&&null===(r=Dt[0]).blockedOn;)Ot(r),null===r.blockedOn&&Dt.shift()}var Vt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,r,s){var n=vt,a=Vt.transition;Vt.transition=null;try{vt=1,Yt(e,t,r,s)}finally{vt=n,Vt.transition=a}}function $t(e,t,r,s){var n=vt,a=Vt.transition;Vt.transition=null;try{vt=4,Yt(e,t,r,s)}finally{vt=n,Vt.transition=a}}function Yt(e,t,r,s){if(Wt){var n=Qt(e,t,r,s);if(null===n)Vs(e,t,s,Gt,r),Ft(e,s);else if(function(e,t,r,s,n){switch(t){case"focusin":return Et=It(Et,e,t,r,s,n),!0;case"dragenter":return Tt=It(Tt,e,t,r,s,n),!0;case"mouseover":return Lt=It(Lt,e,t,r,s,n),!0;case"pointerover":var a=n.pointerId;return Mt.set(a,It(Mt.get(a)||null,e,t,r,s,n)),!0;case"gotpointercapture":return a=n.pointerId,At.set(a,It(At.get(a)||null,e,t,r,s,n)),!0}return!1}(n,e,t,r,s))s.stopPropagation();else if(Ft(e,s),4&t&&-1<Rt.indexOf(e)){for(;null!==n;){var a=vn(n);if(null!==a&&jt(a),null===(a=Qt(e,t,r,s))&&Vs(e,t,s,Gt,r),a===n)break;n=a}null!==n&&s.stopPropagation()}else Vs(e,t,s,null,r)}}var Gt=null;function Qt(e,t,r,s){if(Gt=null,null!==(e=yn(e=je(s))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,s=r.length,n="value"in Jt?Jt.value:Jt.textContent,a=n.length;for(e=0;e<s&&r[e]===n[e];e++);var i=s-e;for(t=1;t<=i&&r[s-t]===n[a-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function sr(){return!1}function nr(e){function t(t,r,s,n,a){for(var i in this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=n,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?rr:sr,this.isPropagationStopped=sr,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,ir,or,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=nr(lr),dr=O({},lr,{view:0,detail:0}),ur=nr(dr),mr=O({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(ar=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=ar=0,or=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),hr=nr(mr),xr=nr(O({},mr,{dataTransfer:0})),pr=nr(O({},dr,{relatedTarget:0})),gr=nr(O({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),fr=O({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=nr(fr),vr=nr(O({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function kr(){return Nr}var Sr=O({},dr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=nr(Sr),Pr=nr(O({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=nr(O({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Tr=nr(O({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Lr=O({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=nr(Lr),Ar=[9,13,27,32],Dr=d&&"CompositionEvent"in window,Rr=null;d&&"documentMode"in document&&(Rr=document.documentMode);var Fr=d&&"TextEvent"in window&&!Rr,Ir=d&&(!Dr||Rr&&8<Rr&&11>=Rr),Or=String.fromCharCode(32),zr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Ar.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _r(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Wr(e,t,r,s){Ce(s),0<(t=Hs(t,"onChange")).length&&(r=new cr("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Hr=null,$r=null;function Yr(e){Os(e,0)}function Gr(e){if(Y(bn(e)))return e}function Qr(e,t){if("change"===e)return t}var Kr=!1;if(d){var Jr;if(d){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Jr=Xr}else Jr=!1;Kr=Jr&&(!document.documentMode||9<document.documentMode)}function es(){Hr&&(Hr.detachEvent("onpropertychange",ts),$r=Hr=null)}function ts(e){if("value"===e.propertyName&&Gr($r)){var t=[];Wr(t,$r,e,je(e)),Me(Yr,t)}}function rs(e,t,r){"focusin"===e?(es(),$r=r,(Hr=t).attachEvent("onpropertychange",ts)):"focusout"===e&&es()}function ss(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gr($r)}function ns(e,t){if("click"===e)return Gr(t)}function as(e,t){if("input"===e||"change"===e)return Gr(t)}var is="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function os(e,t){if(is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!u.call(t,n)||!is(e[n],t[n]))return!1}return!0}function ls(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cs(e,t){var r,s=ls(e);for(e=0;s;){if(3===s.nodeType){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ls(s)}}function ds(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ds(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function us(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(s){r=!1}if(!r)break;t=G((e=t.contentWindow).document)}return t}function ms(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hs(e){var t=us(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ds(r.ownerDocument.documentElement,r)){if(null!==s&&ms(r))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=r.textContent.length,a=Math.min(s.start,n);s=void 0===s.end?a:Math.min(s.end,n),!e.extend&&a>s&&(n=s,s=a,a=n),n=cs(r,a);var i=cs(r,s);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xs=d&&"documentMode"in document&&11>=document.documentMode,ps=null,gs=null,fs=null,ys=!1;function vs(e,t,r){var s=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ys||null==ps||ps!==G(s)||("selectionStart"in(s=ps)&&ms(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},fs&&os(fs,s)||(fs=s,0<(s=Hs(gs,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=ps)))}function bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var js={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},ws={},Ns={};function ks(e){if(ws[e])return ws[e];if(!js[e])return e;var t,r=js[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ns)return ws[e]=r[t];return e}d&&(Ns=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);var Ss=ks("animationend"),Cs=ks("animationiteration"),Ps=ks("animationstart"),Es=ks("transitionend"),Ts=new Map,Ls="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){Ts.set(e,t),l(t,[e])}for(var As=0;As<Ls.length;As++){var Ds=Ls[As];Ms(Ds.toLowerCase(),"on"+(Ds[0].toUpperCase()+Ds.slice(1)))}Ms(Ss,"onAnimationEnd"),Ms(Cs,"onAnimationIteration"),Ms(Ps,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(Es,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fs=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function Is(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,s,n,i,o,l,c){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var d=Oe;Ie=!1,Oe=null,ze||(ze=!0,Be=d)}}(s,t,void 0,e),e.currentTarget=null}function Os(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&n.isPropagationStopped())break e;Is(n,o,c),a=l}else for(i=0;i<s.length;i++){if(l=(o=s[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&n.isPropagationStopped())break e;Is(n,o,c),a=l}}}if(ze)throw e=Be,ze=!1,Be=null,e}function zs(e,t){var r=t[pn];void 0===r&&(r=t[pn]=new Set);var s=e+"__bubble";r.has(s)||(qs(t,e,2,!1),r.add(s))}function Bs(e,t,r){var s=0;t&&(s|=4),qs(r,e,s,t)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[_s]){e[_s]=!0,i.forEach(function(t){"selectionchange"!==t&&(Fs.has(t)||Bs(t,!1,e),Bs(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_s]||(t[_s]=!0,Bs("selectionchange",!1,t))}}function qs(e,t,r,s){switch(Kt(t)){case 1:var n=Ht;break;case 4:n=$t;break;default:n=Yt}r=n.bind(null,t,r,e),n=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),s?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Vs(e,t,r,s,n){var a=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var i=s.tag;if(3===i||4===i){var o=s.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===i)for(i=s.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;i=i.return}for(;null!==o;){if(null===(i=yn(o)))return;if(5===(l=i.tag)||6===l){s=a=i;continue e}o=o.parentNode}}s=s.return}Me(function(){var s=a,n=je(r),i=[];e:{var o=Ts.get(e);if(void 0!==o){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":c="focus",l=pr;break;case"focusout":c="blur",l=pr;break;case"beforeblur":case"afterblur":l=pr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case Ss:case Cs:case Ps:l=gr;break;case Es:l=Tr;break;case"scroll":l=ur;break;case"wheel":l=Mr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pr}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var h,x=s;null!==x;){var p=(h=x).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Ae(x,m))&&d.push(Ws(x,p,h)))),u)break;x=x.return}0<d.length&&(o=new l(o,c,null,r,n),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!yn(c)&&!c[xn])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=s,null!==(c=(c=r.relatedTarget||r.toElement)?yn(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=s),l!==c)){if(d=hr,p="onMouseLeave",m="onMouseEnter",x="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pr,p="onPointerLeave",m="onPointerEnter",x="pointer"),u=null==l?o:bn(l),h=null==c?o:bn(c),(o=new d(p,x+"leave",l,r,n)).target=u,o.relatedTarget=h,p=null,yn(n)===s&&((d=new d(m,x+"enter",c,r,n)).target=h,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(m=c,x=0,h=d=l;h;h=$s(h))x++;for(h=0,p=m;p;p=$s(p))h++;for(;0<x-h;)d=$s(d),x--;for(;0<h-x;)m=$s(m),h--;for(;x--;){if(d===m||null!==m&&d===m.alternate)break e;d=$s(d),m=$s(m)}d=null}else d=null;null!==l&&Ys(i,o,l,d,!1),null!==c&&null!==u&&Ys(i,u,c,d,!0)}if("select"===(l=(o=s?bn(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qr;else if(Vr(o))if(Kr)g=as;else{g=ss;var f=rs}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ns);switch(g&&(g=g(e,s))?Wr(i,g,r,n):(f&&f(e,o,s),"focusout"===e&&(f=o._wrapperState)&&f.controlled&&"number"===o.type&&ee(o,"number",o.value)),f=s?bn(s):window,e){case"focusin":(Vr(f)||"true"===f.contentEditable)&&(ps=f,gs=s,fs=null);break;case"focusout":fs=gs=ps=null;break;case"mousedown":ys=!0;break;case"contextmenu":case"mouseup":case"dragend":ys=!1,vs(i,r,n);break;case"selectionchange":if(xs)break;case"keydown":case"keyup":vs(i,r,n)}var y;if(Dr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ur?Br(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Ir&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ur&&(y=er()):(Xt="value"in(Jt=n)?Jt.value:Jt.textContent,Ur=!0)),0<(f=Hs(s,v)).length&&(v=new vr(v,e,null,r,n),i.push({event:v,listeners:f}),y?v.data=y:null!==(y=_r(r))&&(v.data=y))),(y=Fr?function(e,t){switch(e){case"compositionend":return _r(t);case"keypress":return 32!==t.which?null:(zr=!0,Or);case"textInput":return(e=t.data)===Or&&zr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Dr&&Br(e,t)?(e=er(),Zt=Xt=Jt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ir&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(s=Hs(s,"onBeforeInput")).length&&(n=new vr("onBeforeInput","beforeinput",null,r,n),i.push({event:n,listeners:s}),n.data=y))}Os(i,t)})}function Ws(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hs(e,t){for(var r=t+"Capture",s=[];null!==e;){var n=e,a=n.stateNode;5===n.tag&&null!==a&&(n=a,null!=(a=Ae(e,r))&&s.unshift(Ws(e,a,n)),null!=(a=Ae(e,t))&&s.push(Ws(e,a,n))),e=e.return}return s}function $s(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ys(e,t,r,s,n){for(var a=t._reactName,i=[];null!==r&&r!==s;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===s)break;5===o.tag&&null!==c&&(o=c,n?null!=(l=Ae(r,a))&&i.unshift(Ws(r,l,o)):n||null!=(l=Ae(r,a))&&i.push(Ws(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Gs=/\r\n?/g,Qs=/\u0000|\uFFFD/g;function Ks(e){return("string"===typeof e?e:""+e).replace(Gs,"\n").replace(Qs,"")}function Js(e,t,r){if(t=Ks(t),Ks(e)!==t&&r)throw Error(a(425))}function Xs(){}var Zs=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rn="function"===typeof setTimeout?setTimeout:void 0,sn="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,an="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(on)}:rn;function on(e){setTimeout(function(){throw e})}function ln(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===s)return e.removeChild(n),void qt(t);s--}else"$"!==r&&"$?"!==r&&"$!"!==r||s++;r=n}while(r);qt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),mn="__reactFiber$"+un,hn="__reactProps$"+un,xn="__reactContainer$"+un,pn="__reactEvents$"+un,gn="__reactListeners$"+un,fn="__reactHandles$"+un;function yn(e){var t=e[mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xn]||r[mn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=dn(e);null!==e;){if(r=e[mn])return r;e=dn(e)}return t}r=(e=r).parentNode}return null}function vn(e){return!(e=e[mn]||e[xn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function jn(e){return e[hn]||null}var wn=[],Nn=-1;function kn(e){return{current:e}}function Sn(e){0>Nn||(e.current=wn[Nn],wn[Nn]=null,Nn--)}function Cn(e,t){Nn++,wn[Nn]=e.current,e.current=t}var Pn={},En=kn(Pn),Tn=kn(!1),Ln=Pn;function Mn(e,t){var r=e.type.contextTypes;if(!r)return Pn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n,a={};for(n in r)a[n]=t[n];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function An(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Dn(){Sn(Tn),Sn(En)}function Rn(e,t,r){if(En.current!==Pn)throw Error(a(168));Cn(En,t),Cn(Tn,r)}function Fn(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return r;for(var n in s=s.getChildContext())if(!(n in t))throw Error(a(108,V(e)||"Unknown",n));return O({},r,s)}function In(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,Ln=En.current,Cn(En,e),Cn(Tn,Tn.current),!0}function On(e,t,r){var s=e.stateNode;if(!s)throw Error(a(169));r?(e=Fn(e,t,Ln),s.__reactInternalMemoizedMergedChildContext=e,Sn(Tn),Sn(En),Cn(En,e)):Sn(Tn),Cn(Tn,r)}var zn=null,Bn=!1,_n=!1;function Un(e){null===zn?zn=[e]:zn.push(e)}function qn(){if(!_n&&null!==zn){_n=!0;var e=0,t=vt;try{var r=zn;for(vt=1;e<r.length;e++){var s=r[e];do{s=s(!0)}while(null!==s)}zn=null,Bn=!1}catch(n){throw null!==zn&&(zn=zn.slice(e+1)),Ye(Ze,qn),n}finally{vt=t,_n=!1}}return null}var Vn=[],Wn=0,Hn=null,$n=0,Yn=[],Gn=0,Qn=null,Kn=1,Jn="";function Xn(e,t){Vn[Wn++]=$n,Vn[Wn++]=Hn,Hn=e,$n=t}function Zn(e,t,r){Yn[Gn++]=Kn,Yn[Gn++]=Jn,Yn[Gn++]=Qn,Qn=e;var s=Kn;e=Jn;var n=32-it(s)-1;s&=~(1<<n),r+=1;var a=32-it(t)+n;if(30<a){var i=n-n%5;a=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Kn=1<<32-it(t)+n|r<<n|s,Jn=a+e}else Kn=1<<a|r<<n|s,Jn=e}function ea(e){null!==e.return&&(Xn(e,1),Zn(e,1,0))}function ta(e){for(;e===Hn;)Hn=Vn[--Wn],Vn[Wn]=null,$n=Vn[--Wn],Vn[Wn]=null;for(;e===Qn;)Qn=Yn[--Gn],Yn[Gn]=null,Jn=Yn[--Gn],Yn[Gn]=null,Kn=Yn[--Gn],Yn[Gn]=null}var ra=null,sa=null,na=!1,aa=null;function ia(e,t){var r=Mc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function oa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,sa=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,sa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qn?{id:Kn,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Mc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,sa=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(na){var t=sa;if(t){var r=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cn(r.nextSibling);var s=ra;t&&oa(e,t)?ia(s,r):(e.flags=-4097&e.flags|2,na=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,na=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ua(e){if(e!==ra)return!1;if(!na)return da(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=sa)){if(la(e))throw ma(),Error(a(418));for(;t;)ia(e,t),t=cn(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){sa=cn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}sa=null}}else sa=ra?cn(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=sa;e;)e=cn(e.nextSibling)}function ha(){sa=ra=null,na=!1}function xa(e){null===aa?aa=[e]:aa.push(e)}var pa=b.ReactCurrentBatchConfig;function ga(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var s=r.stateNode}if(!s)throw Error(a(147,e));var n=s,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function va(e){function t(t,r){if(e){var s=t.deletions;null===s?(t.deletions=[r],t.flags|=16):s.push(r)}}function r(r,s){if(!e)return null;for(;null!==s;)t(r,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function i(t,r,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<r?(t.flags|=2,r):s:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,s){return null===t||6!==t.tag?((t=Oc(r,e.mode,s)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,s){var a=r.type;return a===N?u(e,t,r.props.children,s,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&ya(a)===t.type)?((s=n(t,r.props)).ref=ga(e,t,r),s.return=e,s):((s=Rc(r.type,r.key,r.props,null,e.mode,s)).ref=ga(e,t,r),s.return=e,s)}function d(e,t,r,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=zc(r,e.mode,s)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,s,a){return null===t||7!==t.tag?((t=Fc(r,e.mode,s,a)).return=e,t):((t=n(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Rc(t.type,t.key,t.props,null,e.mode,r)).ref=ga(e,null,t),r.return=e,r;case w:return(t=zc(t,e.mode,r)).return=e,t;case A:return m(e,(0,t._init)(t._payload),r)}if(te(t)||F(t))return(t=Fc(t,e.mode,r,null)).return=e,t;fa(e,t)}return null}function h(e,t,r,s){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==n?null:l(e,t,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===n?c(e,t,r,s):null;case w:return r.key===n?d(e,t,r,s):null;case A:return h(e,t,(n=r._init)(r._payload),s)}if(te(r)||F(r))return null!==n?null:u(e,t,r,s,null);fa(e,r)}return null}function x(e,t,r,s,n){if("string"===typeof s&&""!==s||"number"===typeof s)return l(t,e=e.get(r)||null,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return c(t,e=e.get(null===s.key?r:s.key)||null,s,n);case w:return d(t,e=e.get(null===s.key?r:s.key)||null,s,n);case A:return x(e,t,r,(0,s._init)(s._payload),n)}if(te(s)||F(s))return u(t,e=e.get(r)||null,s,n,null);fa(t,s)}return null}function p(n,a,o,l){for(var c=null,d=null,u=a,p=a=0,g=null;null!==u&&p<o.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var f=h(n,u,o[p],l);if(null===f){null===u&&(u=g);break}e&&u&&null===f.alternate&&t(n,u),a=i(f,a,p),null===d?c=f:d.sibling=f,d=f,u=g}if(p===o.length)return r(n,u),na&&Xn(n,p),c;if(null===u){for(;p<o.length;p++)null!==(u=m(n,o[p],l))&&(a=i(u,a,p),null===d?c=u:d.sibling=u,d=u);return na&&Xn(n,p),c}for(u=s(n,u);p<o.length;p++)null!==(g=x(u,n,p,o[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),a=i(g,a,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(n,e)}),na&&Xn(n,p),c}function g(n,o,l,c){var d=F(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,p=o,g=o=0,f=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(f=p,p=null):f=p.sibling;var v=h(n,p,y.value,c);if(null===v){null===p&&(p=f);break}e&&p&&null===v.alternate&&t(n,p),o=i(v,o,g),null===u?d=v:u.sibling=v,u=v,p=f}if(y.done)return r(n,p),na&&Xn(n,g),d;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=m(n,y.value,c))&&(o=i(y,o,g),null===u?d=y:u.sibling=y,u=y);return na&&Xn(n,g),d}for(p=s(n,p);!y.done;g++,y=l.next())null!==(y=x(p,n,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=i(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&p.forEach(function(e){return t(n,e)}),na&&Xn(n,g),d}return function e(s,a,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){r(s,d.sibling),(a=n(d,i.props.children)).return=s,s=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ya(c)===d.type){r(s,d.sibling),(a=n(d,i.props)).ref=ga(s,d,i),a.return=s,s=a;break e}r(s,d);break}t(s,d),d=d.sibling}i.type===N?((a=Fc(i.props.children,s.mode,l,i.key)).return=s,s=a):((l=Rc(i.type,i.key,i.props,null,s.mode,l)).ref=ga(s,a,i),l.return=s,s=l)}return o(s);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){r(s,a.sibling),(a=n(a,i.children||[])).return=s,s=a;break e}r(s,a);break}t(s,a),a=a.sibling}(a=zc(i,s.mode,l)).return=s,s=a}return o(s);case A:return e(s,a,(d=i._init)(i._payload),l)}if(te(i))return p(s,a,i,l);if(F(i))return g(s,a,i,l);fa(s,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(r(s,a.sibling),(a=n(a,i)).return=s,s=a):(r(s,a),(a=Oc(i,s.mode,l)).return=s,s=a),o(s)):r(s,a)}}var ba=va(!0),ja=va(!1),wa=kn(null),Na=null,ka=null,Sa=null;function Ca(){Sa=ka=Na=null}function Pa(e){var t=wa.current;Sn(wa),e._currentValue=t}function Ea(e,t,r){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Ta(e,t){Na=e,Sa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function La(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Na)throw Error(a(308));ka=e,Na.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ma=null;function Aa(e){null===Ma?Ma=[e]:Ma.push(e)}function Da(e,t,r,s){var n=t.interleaved;return null===n?(r.next=r,Aa(t)):(r.next=n.next,n.next=r),t.interleaved=r,Ra(e,s)}function Ra(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Fa=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,r){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&El)){var n=s.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),s.pending=t,Ra(e,r)}return null===(n=s.interleaved)?(t.next=t,Aa(s)):(t.next=n.next,n.next=t),s.interleaved=t,Ra(e,r)}function _a(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Ua(e,t){var r=e.updateQueue,s=e.alternate;if(null!==s&&r===(s=s.updateQueue)){var n=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?n=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?n=a=t:a=a.next=t}else n=a=t;return r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:s.shared,effects:s.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qa(e,t,r,s){var n=e.updateQueue;Fa=!1;var a=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=n.baseState;for(i=0,d=c=l=null,o=a;;){var m=o.lane,h=o.eventTime;if((s&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,p=o;switch(m=t,h=r,p.tag){case 1:if("function"===typeof(x=p.payload)){u=x.call(h,u,m);break e}u=x;break e;case 3:x.flags=-65537&x.flags|128;case 0:if(null===(m="function"===typeof(x=p.payload)?x.call(h,u,m):x)||void 0===m)break e;u=O({},u,m);break e;case 2:Fa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=n.effects)?n.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=m;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(m=o).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===a&&(n.shared.lanes=0);Il|=i,e.lanes=i,e.memoizedState=u}}function Va(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(null!==n){if(s.callback=null,s=r,"function"!==typeof n)throw Error(a(191,n));n.call(s)}}}var Wa={},Ha=kn(Wa),$a=kn(Wa),Ya=kn(Wa);function Ga(e){if(e===Wa)throw Error(a(174));return e}function Qa(e,t){switch(Cn(Ya,t),Cn($a,e),Cn(Ha,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sn(Ha),Cn(Ha,t)}function Ka(){Sn(Ha),Sn($a),Sn(Ya)}function Ja(e){Ga(Ya.current);var t=Ga(Ha.current),r=le(t,e.type);t!==r&&(Cn($a,e),Cn(Ha,r))}function Xa(e){$a.current===e&&(Sn(Ha),Sn($a))}var Za=kn(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var si=b.ReactCurrentDispatcher,ni=b.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(a(321))}function xi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!is(e[r],t[r]))return!1;return!0}function pi(e,t,r,s,n,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,si.current=null===e||null===e.memoizedState?Xi:Zi,e=r(s,n),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,si.current=eo,e=r(s,n)}while(di)}if(si.current=Ji,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function gi(){var e=0!==ui;return ui=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=yi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var s=oi,n=s.baseQueue,i=r.pending;if(null!==i){if(null!==n){var o=n.next;n.next=i.next,i.next=o}s.baseQueue=n=i,r.pending=null}if(null!==n){i=n.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=s):c=c.next=m,ii.lanes|=u,Il|=u}d=d.next}while(null!==d&&d!==i);null===c?o=s:c.next=l,is(s,t.memoizedState)||(vo=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(null!==(e=r.interleaved)){n=e;do{i=n.lane,ii.lanes|=i,Il|=i,n=n.next}while(n!==e)}else null===n&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ji(e){var t=yi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,i=t.memoizedState;if(null!==n){r.pending=null;var o=n=n.next;do{i=e(i,o.action),o=o.next}while(o!==n);is(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function wi(){}function Ni(e,t){var r=ii,s=yi(),n=t(),i=!is(s.memoizedState,n);if(i&&(s.memoizedState=n,vo=!0),s=s.queue,Fi(Ci.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(r.flags|=2048,Li(9,Si.bind(null,r,s,n,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&ai)||ki(r,t,n)}return n}function ki(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Si(e,t,r,s){t.value=r,t.getSnapshot=s,Pi(t)&&Ei(e)}function Ci(e,t,r){return r(function(){Pi(t)&&Ei(e)})}function Pi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!is(e,r)}catch(s){return!0}}function Ei(e){var t=Ra(e,1);null!==t&&rc(t,e,1,-1)}function Ti(e){var t=fi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[t.memoizedState,e]}function Li(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function Mi(){return yi().memoizedState}function Ai(e,t,r,s){var n=fi();ii.flags|=e,n.memoizedState=Li(1|t,r,void 0,void 0===s?null:s)}function Di(e,t,r,s){var n=yi();s=void 0===s?null:s;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==s&&xi(s,i.deps))return void(n.memoizedState=Li(t,r,a,s))}ii.flags|=e,n.memoizedState=Li(1|t,r,a,s)}function Ri(e,t){return Ai(8390656,8,e,t)}function Fi(e,t){return Di(2048,8,e,t)}function Ii(e,t){return Di(4,2,e,t)}function Oi(e,t){return Di(4,4,e,t)}function zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Di(4,4,zi.bind(null,t,e),r)}function _i(){}function Ui(e,t){var r=yi();t=void 0===t?null:t;var s=r.memoizedState;return null!==s&&null!==t&&xi(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function qi(e,t){var r=yi();t=void 0===t?null:t;var s=r.memoizedState;return null!==s&&null!==t&&xi(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Vi(e,t,r){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=r):(is(r,t)||(r=pt(),ii.lanes|=r,Il|=r,e.baseState=!0),t)}function Wi(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var s=ni.transition;ni.transition={};try{e(!1),t()}finally{vt=r,ni.transition=s}}function Hi(){return yi().memoizedState}function $i(e,t,r){var s=tc(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Gi(e))Qi(t,r);else if(null!==(r=Da(e,t,r,s))){rc(r,e,s,ec()),Ki(r,t,s)}}function Yi(e,t,r){var s=tc(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Qi(t,n);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,r);if(n.hasEagerState=!0,n.eagerState=o,is(o,i)){var l=t.interleaved;return null===l?(n.next=n,Aa(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(c){}null!==(r=Da(e,t,n,s))&&(rc(r,e,s,n=ec()),Ki(r,t,s))}}function Gi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Qi(e,t){di=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ki(e,t,r){if(0!==(4194240&r)){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Ji={readContext:La,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Xi={readContext:La,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:La,useEffect:Ri,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ai(4194308,4,zi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var r=fi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=fi();return t=void 0!==r?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=$i.bind(null,ii,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:Ti,useDebugValue:_i,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Ti(!1),t=e[0];return e=Wi.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ii,n=fi();if(na){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Tl)throw Error(a(349));0!==(30&ai)||ki(s,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,Ri(Ci.bind(null,s,i,e),[e]),s.flags|=2048,Li(9,Si.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=fi(),t=Tl.identifierPrefix;if(na){var r=Jn;t=":"+t+"R"+(r=(Kn&~(1<<32-it(Kn)-1)).toString(32)+r),0<(r=ui++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:La,useCallback:Ui,useContext:La,useEffect:Fi,useImperativeHandle:Bi,useInsertionEffect:Ii,useLayoutEffect:Oi,useMemo:qi,useReducer:bi,useRef:Mi,useState:function(){return bi(vi)},useDebugValue:_i,useDeferredValue:function(e){return Vi(yi(),oi.memoizedState,e)},useTransition:function(){return[bi(vi)[0],yi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:La,useCallback:Ui,useContext:La,useEffect:Fi,useImperativeHandle:Bi,useInsertionEffect:Ii,useLayoutEffect:Oi,useMemo:qi,useReducer:ji,useRef:Mi,useState:function(){return ji(vi)},useDebugValue:_i,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:Vi(t,oi.memoizedState,e)},useTransition:function(){return[ji(vi)[0],yi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var r in t=O({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ro(e,t,r,s){r=null===(r=r(s,t=e.memoizedState))||void 0===r?t:O({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ec(),n=tc(e),a=za(s,n);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ba(e,a,n))&&(rc(t,e,n,s),_a(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ec(),n=tc(e),a=za(s,n);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ba(e,a,n))&&(rc(t,e,n,s),_a(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),s=tc(e),n=za(r,s);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Ba(e,n,s))&&(rc(t,e,s,r),_a(t,e,s))}};function no(e,t,r,s,n,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!os(r,s)||!os(n,a))}function ao(e,t,r){var s=!1,n=Pn,a=t.contextType;return"object"===typeof a&&null!==a?a=La(a):(n=An(t)?Ln:En.current,a=(s=null!==(s=t.contextTypes)&&void 0!==s)?Mn(e,n):Pn),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,r,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function oo(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Ia(e);var a=t.contextType;"object"===typeof a&&null!==a?n.context=La(a):(a=An(t)?Ln:En.current,n.context=Mn(e,a)),n.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ro(e,t,a,r),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&so.enqueueReplaceState(n,n.state,null),qa(e,r,n,s),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var r="",s=t;do{r+=U(s),s=s.return}while(s);var n=r}catch(a){n="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:n,digest:null}}function co(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,r){(r=za(-1,r)).tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Wl||(Wl=!0,Hl=s),uo(0,t)},r}function xo(e,t,r){(r=za(-1,r)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){uo(0,t),"function"!==typeof s&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function po(e,t,r){var s=e.pingCache;if(null===s){s=e.pingCache=new mo;var n=new Set;s.set(t,n)}else void 0===(n=s.get(t))&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fo(e,t,r,s,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=za(-1,1)).tag=2,Ba(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var yo=b.ReactCurrentOwner,vo=!1;function bo(e,t,r,s){t.child=null===e?ja(t,null,r,s):ba(t,e.child,r,s)}function jo(e,t,r,s,n){r=r.render;var a=t.ref;return Ta(t,n),s=pi(e,t,r,s,a,n),r=gi(),null===e||vo?(na&&r&&ea(t),t.flags|=1,bo(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Wo(e,t,n))}function wo(e,t,r,s,n){if(null===e){var a=r.type;return"function"!==typeof a||Ac(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Rc(r.type,null,s,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,No(e,t,a,s,n))}if(a=e.child,0===(e.lanes&n)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:os)(i,s)&&e.ref===t.ref)return Wo(e,t,n)}return t.flags|=1,(e=Dc(a,s)).ref=t.ref,e.return=t,t.child=e}function No(e,t,r,s,n){if(null!==e){var a=e.memoizedProps;if(os(a,s)&&e.ref===t.ref){if(vo=!1,t.pendingProps=s=a,0===(e.lanes&n))return t.lanes=e.lanes,Wo(e,t,n);0!==(131072&e.flags)&&(vo=!0)}}return Co(e,t,r,s,n)}function ko(e,t,r){var s=t.pendingProps,n=s.children,a=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Dl,Al),Al|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cn(Dl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==a?a.baseLanes:r,Cn(Dl,Al),Al|=s}else null!==a?(s=a.baseLanes|r,t.memoizedState=null):s=r,Cn(Dl,Al),Al|=s;return bo(e,t,n,r),t.child}function So(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,r,s,n){var a=An(r)?Ln:En.current;return a=Mn(t,a),Ta(t,n),r=pi(e,t,r,s,a,n),s=gi(),null===e||vo?(na&&s&&ea(t),t.flags|=1,bo(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Wo(e,t,n))}function Po(e,t,r,s,n){if(An(r)){var a=!0;In(t)}else a=!1;if(Ta(t,n),null===t.stateNode)Vo(e,t),ao(t,r,s),oo(t,r,s,n),s=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=La(c):c=Mn(t,c=An(r)?Ln:En.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==s||l!==c)&&io(t,i,s,c),Fa=!1;var m=t.memoizedState;i.state=m,qa(t,s,i,n),l=t.memoizedState,o!==s||m!==l||Tn.current||Fa?("function"===typeof d&&(ro(t,r,d,s),l=t.memoizedState),(o=Fa||no(t,r,o,s,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),i.props=s,i.state=l,i.context=c,s=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Oa(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=La(l):l=Mn(t,l=An(r)?Ln:En.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&io(t,i,s,l),Fa=!1,m=t.memoizedState,i.state=m,qa(t,s,i,n);var x=t.memoizedState;o!==u||m!==x||Tn.current||Fa?("function"===typeof h&&(ro(t,r,h,s),x=t.memoizedState),(c=Fa||no(t,r,c,s,m,x,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(s,x,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(s,x,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),i.props=s,i.state=x,i.context=l,s=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return Eo(e,t,r,s,a,n)}function Eo(e,t,r,s,n,a){So(e,t);var i=0!==(128&t.flags);if(!s&&!i)return n&&On(t,r,!1),Wo(e,t,a);s=t.stateNode,yo.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&i?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,o,a)):bo(e,t,o,a),t.memoizedState=s.state,n&&On(t,r,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Rn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rn(0,t.context,!1),Qa(e,t.containerInfo)}function Lo(e,t,r,s,n){return ha(),xa(n),t.flags|=256,bo(e,t,r,s),t.child}var Mo,Ao,Do,Ro,Fo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,r){var s,n=t.pendingProps,i=Za.current,o=!1,l=0!==(128&t.flags);if((s=l)||(s=(null===e||null!==e.memoizedState)&&0!==(2&i)),s?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cn(Za,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&n)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,n,0,null),e=Fc(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(r),t.memoizedState=Fo,e):zo(t,l));if(null!==(i=e.memoizedState)&&null!==(s=i.dehydrated))return function(e,t,r,s,n,i,o){if(r)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,s=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=s.fallback,n=t.mode,s=Ic({mode:"visible",children:s.children},n,0,null),(i=Fc(i,n,o,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,0!==(1&t.mode)&&ba(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Fo,i);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===n.data){if(s=n.nextSibling&&n.nextSibling.dataset)var l=s.dgst;return s=l,Bo(e,t,o,s=co(i=Error(a(419)),s,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(s=Tl)){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(s.suspendedLanes|o))?0:n)&&n!==i.retryLane&&(i.retryLane=n,Ra(e,n),rc(s,e,n,-1))}return pc(),Bo(e,t,o,s=co(Error(a(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,sa=cn(n.nextSibling),ra=t,na=!0,aa=null,null!==e&&(Yn[Gn++]=Kn,Yn[Gn++]=Jn,Yn[Gn++]=Qn,Kn=e.id,Jn=e.overflow,Qn=t),t=zo(t,s.children),t.flags|=4096,t)}(e,t,l,n,s,i,r);if(o){o=n.fallback,l=t.mode,s=(i=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&l)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Dc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==s?o=Dc(s,o):(o=Fc(o,l,r,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Fo,n}return e=(o=e.child).sibling,n=Dc(o,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,r,s){return null!==s&&xa(s),ba(t,e.child,null,r),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function _o(e,t,r){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Ea(e.return,t,r)}function Uo(e,t,r,s,n){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=n)}function qo(e,t,r){var s=t.pendingProps,n=s.revealOrder,a=s.tail;if(bo(e,t,s.children,r),0!==(2&(s=Za.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_o(e,r,t);else if(19===e.tag)_o(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Cn(Za,s),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Uo(t,!1,n,r,a);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ei(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Uo(t,!0,r,null,a);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Dc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Dc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ho(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;null!==r;)null!==r.alternate&&(s=r),r=r.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,s|=14680064&n.subtreeFlags,s|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Yo(e,t,r){var s=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return An(t.type)&&Dn(),$o(t),null;case 3:return s=t.stateNode,Ka(),Sn(Tn),Sn(En),ri(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Ao(e,t),$o(t),null;case 5:Xa(t);var n=Ga(Ya.current);if(r=t.type,null!==e&&null!=t.stateNode)Do(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(a(166));return $o(t),null}if(e=Ga(Ha.current),ua(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[mn]=t,s[hn]=i,e=0!==(1&t.mode),r){case"dialog":zs("cancel",s),zs("close",s);break;case"iframe":case"object":case"embed":zs("load",s);break;case"video":case"audio":for(n=0;n<Rs.length;n++)zs(Rs[n],s);break;case"source":zs("error",s);break;case"img":case"image":case"link":zs("error",s),zs("load",s);break;case"details":zs("toggle",s);break;case"input":K(s,i),zs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},zs("invalid",s);break;case"textarea":ne(s,i),zs("invalid",s)}for(var l in ye(r,i),n=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?s.textContent!==c&&(!0!==i.suppressHydrationWarning&&Js(s.textContent,c,e),n=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Js(s.textContent,c,e),n=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zs("scroll",s)}switch(r){case"input":$(s),Z(s,i,!0);break;case"textarea":$(s),ie(s);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(s.onclick=Xs)}s=n,t.updateQueue=s,null!==s&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=l.createElement(r,{is:s.is}):(e=l.createElement(r),"select"===r&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,r),e[mn]=t,e[hn]=s,Mo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(r,s),r){case"dialog":zs("cancel",e),zs("close",e),n=s;break;case"iframe":case"object":case"embed":zs("load",e),n=s;break;case"video":case"audio":for(n=0;n<Rs.length;n++)zs(Rs[n],e);n=s;break;case"source":zs("error",e),n=s;break;case"img":case"image":case"link":zs("error",e),zs("load",e),n=s;break;case"details":zs("toggle",e),n=s;break;case"input":K(e,s),n=Q(e,s),zs("invalid",e);break;case"option":default:n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=O({},s,{value:void 0}),zs("invalid",e);break;case"textarea":ne(e,s),n=se(e,s),zs("invalid",e)}for(i in ye(r,n),c=n)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&zs("scroll",e):null!=d&&v(e,i,d,l))}switch(r){case"input":$(e),Z(e,s,!1);break;case"textarea":$(e),ie(e);break;case"option":null!=s.value&&e.setAttribute("value",""+W(s.value));break;case"select":e.multiple=!!s.multiple,null!=(i=s.value)?re(e,!!s.multiple,i,!1):null!=s.defaultValue&&re(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Xs)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(a(166));if(r=Ga(Ya.current),Ga(Ha.current),ua(t)){if(s=t.stateNode,r=t.memoizedProps,s[mn]=t,(i=s.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Js(s.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Js(s.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(s=(9===r.nodeType?r:r.ownerDocument).createTextNode(s))[mn]=t,t.stateNode=s}return $o(t),null;case 13:if(Sn(Za),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==sa&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,i=!1;else if(i=ua(t),null!==s&&null!==s.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[mn]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Rl&&(Rl=3):pc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return Ka(),Ao(e,t),null===e&&Us(t.stateNode.containerInfo),$o(t),null;case 10:return Pa(t.type._context),$o(t),null;case 19:if(Sn(Za),null===(i=t.memoizedState))return $o(t),null;if(s=0!==(128&t.flags),null===(l=i.rendering))if(s)Ho(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;null!==r;)e=s,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Cn(Za,1&Za.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>ql&&(t.flags|=128,s=!0,Ho(i,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=ei(l))){if(t.flags|=128,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!na)return $o(t),null}else 2*Je()-i.renderingStartTime>ql&&1073741824!==r&&(t.flags|=128,s=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,r=Za.current,Cn(Za,s?1&r|2:1&r),t):($o(t),null);case 22:case 23:return uc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Al)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Go(e,t){switch(ta(t),t.tag){case 1:return An(t.type)&&Dn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ka(),Sn(Tn),Sn(En),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Sn(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sn(Za),null;case 4:return Ka(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Mo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ao=function(){},Do=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,Ga(Ha.current);var a,i=null;switch(r){case"input":n=Q(e,n),s=Q(e,s),i=[];break;case"select":n=O({},n,{value:void 0}),s=O({},s,{value:void 0}),i=[];break;case"textarea":n=se(e,n),s=se(e,s),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof s.onClick&&(e.onclick=Xs)}for(d in ye(r,s),r=null,n)if(!s.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var l=n[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=null!=n?n[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zs("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,r,s){r!==s&&(t.flags|=4)};var Qo=!1,Ko=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(s){kc(e,t,s)}else r.current=null}function el(e,t,r){try{r()}catch(s){kc(e,t,s)}}var tl=!1;function rl(e,t,r){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var n=s=s.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,void 0!==a&&el(t,r,a)}n=n.next}while(n!==s)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mn],delete t[hn],delete t[pn],delete t[gn],delete t[fn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xs));else if(4!==s&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==s&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function ml(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(nt,r)}catch(o){}switch(r.tag){case 5:Ko||Zo(r,t);case 6:var s=dl,n=ul;dl=null,ml(e,t,r),ul=n,null!==(dl=s)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?ln(e.parentNode,r):1===e.nodeType&&ln(e,r),qt(e)):ln(dl,r.stateNode));break;case 4:s=dl,n=ul,dl=r.stateNode.containerInfo,ul=!0,ml(e,t,r),dl=s,ul=n;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(s=r.updateQueue)&&null!==(s=s.lastEffect))){n=s=s.next;do{var a=n,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(r,t,i),n=n.next}while(n!==s)}ml(e,t,r);break;case 1:if(!Ko&&(Zo(r,t),"function"===typeof(s=r.stateNode).componentWillUnmount))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){kc(r,t,o)}ml(e,t,r);break;case 21:ml(e,t,r);break;case 22:1&r.mode?(Ko=(s=Ko)||null!==r.memoizedState,ml(e,t,r),Ko=s):ml(e,t,r);break;default:ml(e,t,r)}}function xl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Jo),t.forEach(function(t){var s=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(s,s))})}}function pl(e,t){var r=t.deletions;if(null!==r)for(var s=0;s<r.length;s++){var n=r[s];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));hl(i,o,n),dl=null,ul=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){kc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),fl(e),4&s){try{rl(3,e,e.return),sl(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:pl(t,e),fl(e),512&s&&null!==r&&Zo(r,r.return);break;case 5:if(pl(t,e),fl(e),512&s&&null!==r&&Zo(r,r.return),32&e.flags){var n=e.stateNode;try{me(n,"")}catch(g){kc(e,e.return,g)}}if(4&s&&null!=(n=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(n,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?ge(n,m):"dangerouslySetInnerHTML"===u?ue(n,m):"children"===u?me(n,m):v(n,u,m,d)}switch(l){case"input":X(n,i);break;case"textarea":ae(n,i);break;case"select":var h=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var x=i.value;null!=x?re(n,!!i.multiple,x,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(n,!!i.multiple,i.defaultValue,!0):re(n,!!i.multiple,i.multiple?[]:"",!1))}n[hn]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(pl(t,e),fl(e),4&s){if(null===e.stateNode)throw Error(a(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(pl(t,e),fl(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:pl(t,e),fl(e);break;case 13:pl(t,e),fl(e),8192&(n=e.child).flags&&(i=null!==n.memoizedState,n.stateNode.isHidden=i,!i||null!==n.alternate&&null!==n.alternate.memoizedState||(Ul=Je())),4&s&&xl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ko=(d=Ko)||u,pl(t,e),Ko=d):pl(t,e),fl(e),8192&s){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(m=Xo=u;null!==Xo;){switch(x=(h=Xo).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Zo(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){s=h,r=h.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){kc(s,r,g)}}break;case 5:Zo(h,h.return);break;case 22:if(null!==h.memoizedState){jl(m);continue}}null!==x?(x.return=h,Xo=x):jl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{n=m.stateNode,d?"function"===typeof(i=n.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pl(t,e),fl(e),4&s&&xl(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var s=r;break e}r=r.return}throw Error(a(160))}switch(s.tag){case 5:var n=s.stateNode;32&s.flags&&(me(n,""),s.flags&=-33),cl(e,ol(e),n);break;case 3:case 4:var i=s.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Xo=e,vl(e,t,r)}function vl(e,t,r){for(var s=0!==(1&e.mode);null!==Xo;){var n=Xo,a=n.child;if(22===n.tag&&s){var i=null!==n.memoizedState||Qo;if(!i){var o=n.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=Qo;var c=Ko;if(Qo=i,(Ko=l)&&!c)for(Xo=n;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?wl(n):null!==l?(l.return=i,Xo=l):wl(n);for(;null!==a;)Xo=a,vl(a,t,r),a=a.sibling;Xo=n,Qo=o,Ko=c}bl(e)}else 0!==(8772&n.subtreeFlags)&&null!==a?(a.return=n,Xo=a):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||sl(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Ko)if(null===r)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:to(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Va(t,i,s);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Va(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(a(163))}Ko||512&t.flags&&nl(t)}catch(h){kc(t,t.return,h)}}if(t===e){Xo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xo=r;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xo=r;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sl(4,t)}catch(l){kc(t,r,l)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var n=t.return;try{s.componentDidMount()}catch(l){kc(t,n,l)}}var a=t.return;try{nl(t)}catch(l){kc(t,a,l)}break;case 5:var i=t.return;try{nl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Nl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Pl=b.ReactCurrentBatchConfig,El=0,Tl=null,Ll=null,Ml=0,Al=0,Dl=kn(0),Rl=0,Fl=null,Il=0,Ol=0,zl=0,Bl=null,_l=null,Ul=0,ql=1/0,Vl=null,Wl=!1,Hl=null,$l=null,Yl=!1,Gl=null,Ql=0,Kl=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Ml?Ml&-Ml:null!==pa.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function rc(e,t,r,s){if(50<Kl)throw Kl=0,Jl=null,Error(a(185));ft(e,r,s),0!==(2&El)&&e===Tl||(e===Tl&&(0===(2&El)&&(Ol|=r),4===Rl&&oc(e,Ml)),sc(e,s),1===r&&0===El&&0===(1&t.mode)&&(ql=Je()+500,Bn&&qn()))}function sc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=n[i];-1===l?0!==(o&r)&&0===(o&s)||(n[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var s=mt(e,e===Tl?Ml:0);if(0===s)null!==r&&Ge(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=r&&Ge(r),1===t)0===e.tag?function(e){Bn=!0,Un(e)}(lc.bind(null,e)):Un(lc.bind(null,e)),an(function(){0===(6&El)&&qn()}),r=null;else{switch(bt(s)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=st}r=Tc(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(a(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var s=mt(e,e===Tl?Ml:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=gc(e,s);else{t=s;var n=El;El|=2;var i=xc();for(Tl===e&&Ml===t||(Vl=null,ql=Je()+500,mc(e,t));;)try{yc();break}catch(l){hc(e,l)}Ca(),Sl.current=i,El=n,null!==Ll?t=0:(Tl=null,Ml=0,t=Rl)}if(0!==t){if(2===t&&(0!==(n=xt(e))&&(s=n,t=ac(e,n))),1===t)throw r=Fl,mc(e,0),oc(e,s),sc(e,Je()),r;if(6===t)oc(e,s);else{if(n=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var s=0;s<r.length;s++){var n=r[s],a=n.getSnapshot;n=n.value;try{if(!is(a(),n))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=gc(e,s))&&(0!==(i=xt(e))&&(s=i,t=ac(e,i))),1===t))throw r=Fl,mc(e,0),oc(e,s),sc(e,Je()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,_l,Vl);break;case 3:if(oc(e,s),(130023424&s)===s&&10<(t=Ul+500-Je())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=rn(jc.bind(null,e,_l,Vl),t);break}jc(e,_l,Vl);break;case 4:if(oc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,n=-1;0<s;){var o=31-it(s);i=1<<o,(o=t[o])>n&&(n=o),s&=~i}if(s=n,10<(s=(120>(s=Je()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kl(s/1960))-s)){e.timeoutHandle=rn(jc.bind(null,e,_l,Vl),s);break}jc(e,_l,Vl);break;default:throw Error(a(329))}}}return sc(e,Je()),e.callbackNode===r?nc.bind(null,e):null}function ac(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=_l,_l=r,null!==t&&ic(t)),e}function ic(e){null===_l?_l=e:_l.push.apply(_l,e)}function oc(e,t){for(t&=~zl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),s=1<<r;e[r]=-1,t&=~s}}function lc(e){if(0!==(6&El))throw Error(a(327));wc();var t=mt(e,0);if(0===(1&t))return sc(e,Je()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var s=xt(e);0!==s&&(t=s,r=ac(e,s))}if(1===r)throw r=Fl,mc(e,0),oc(e,t),sc(e,Je()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,_l,Vl),sc(e,Je()),null}function cc(e,t){var r=El;El|=1;try{return e(t)}finally{0===(El=r)&&(ql=Je()+500,Bn&&qn())}}function dc(e){null!==Gl&&0===Gl.tag&&0===(6&El)&&wc();var t=El;El|=1;var r=Pl.transition,s=vt;try{if(Pl.transition=null,vt=1,e)return e()}finally{vt=s,Pl.transition=r,0===(6&(El=t))&&qn()}}function uc(){Al=Dl.current,Sn(Dl)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,sn(r)),null!==Ll)for(r=Ll.return;null!==r;){var s=r;switch(ta(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Dn();break;case 3:Ka(),Sn(Tn),Sn(En),ri();break;case 5:Xa(s);break;case 4:Ka();break;case 13:case 19:Sn(Za);break;case 10:Pa(s.type._context);break;case 22:case 23:uc()}r=r.return}if(Tl=e,Ll=e=Dc(e.current,null),Ml=Al=t,Rl=0,Fl=null,zl=Ol=Il=0,_l=Bl=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(s=(r=Ma[t]).interleaved)){r.interleaved=null;var n=s.next,a=r.pending;if(null!==a){var i=a.next;a.next=n,s.next=i}r.pending=s}Ma=null}return e}function hc(e,t){for(;;){var r=Ll;try{if(Ca(),si.current=Ji,ci){for(var s=ii.memoizedState;null!==s;){var n=s.queue;null!==n&&(n.pending=null),s=s.next}ci=!1}if(ai=0,li=oi=ii=null,di=!1,ui=0,Cl.current=null,null===r||null===r.return){Rl=1,Fl=t,Ll=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=go(o);if(null!==x){x.flags&=-257,fo(x,o,l,0,t),1&x.mode&&po(i,d,t),c=d;var p=(t=x).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){po(i,d,t),pc();break e}c=Error(a(426))}else if(na&&1&l.mode){var f=go(o);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),fo(f,o,l,0,t),xa(lo(c,l));break e}}i=c=lo(c,l),4!==Rl&&(Rl=2),null===Bl?Bl=[i]:Bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,ho(0,c,t));break e;case 1:l=c;var y=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===$l||!$l.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,xo(i,l,t));break e}}i=i.return}while(null!==i)}bc(r)}catch(b){t=b,Ll===r&&null!==r&&(Ll=r=r.return);continue}break}}function xc(){var e=Sl.current;return Sl.current=Ji,null===e?Ji:e}function pc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Tl||0===(268435455&Il)&&0===(268435455&Ol)||oc(Tl,Ml)}function gc(e,t){var r=El;El|=2;var s=xc();for(Tl===e&&Ml===t||(Vl=null,mc(e,t));;)try{fc();break}catch(n){hc(e,n)}if(Ca(),El=r,Sl.current=s,null!==Ll)throw Error(a(261));return Tl=null,Ml=0,Rl}function fc(){for(;null!==Ll;)vc(Ll)}function yc(){for(;null!==Ll&&!Qe();)vc(Ll)}function vc(e){var t=Nl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bc(e):Ll=t,Cl.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Yo(r,t,Al)))return void(Ll=r)}else{if(null!==(r=Go(r,t)))return r.flags&=32767,void(Ll=r);if(null===e)return Rl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Rl&&(Rl=5)}function jc(e,t,r){var s=vt,n=Pl.transition;try{Pl.transition=null,vt=1,function(e,t,r,s){do{wc()}while(null!==Gl);if(0!==(6&El))throw Error(a(327));r=e.finishedWork;var n=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-it(r),a=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~a}}(e,i),e===Tl&&(Ll=Tl=null,Ml=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Yl||(Yl=!0,Tc(tt,function(){return wc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Pl.transition,Pl.transition=null;var o=vt;vt=1;var l=El;El|=4,Cl.current=null,function(e,t){if(Zs=Wt,ms(e=us())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch(j){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var x;m!==r||0!==n&&3!==m.nodeType||(l=o+n),m!==i||0!==s&&3!==m.nodeType||(c=o+s),3===m.nodeType&&(o+=m.nodeValue.length),null!==(x=m.firstChild);)h=m,m=x;for(;;){if(m===e)break t;if(h===r&&++d===n&&(l=o),h===i&&++u===s&&(c=o),null!==(x=m.nextSibling))break;h=(m=h).parentNode}m=x}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(en={focusedElem:e,selectionRange:r},Wt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,f=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),f);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}p=tl,tl=!1}(e,r),gl(r,e),hs(en),Wt=!!Zs,en=Zs=null,e.current=r,yl(r,e,n),Ke(),El=l,vt=o,Pl.transition=i}else e.current=r;if(Yl&&(Yl=!1,Gl=e,Ql=n),i=e.pendingLanes,0===i&&($l=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),sc(e,Je()),null!==t)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Jl?Kl++:(Kl=0,Jl=e):Kl=0,qn()}(e,t,r,s)}finally{Pl.transition=n,vt=s}return null}function wc(){if(null!==Gl){var e=bt(Ql),t=Pl.transition,r=vt;try{if(Pl.transition=null,vt=16>e?16:e,null===Gl)var s=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&El))throw Error(a(331));var n=El;for(El|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:rl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Xo=m;else for(;null!==Xo;){var h=(u=Xo).sibling,x=u.return;if(al(u),u===d){Xo=null;break}if(null!==h){h.return=x,Xo=h;break}Xo=x}}}var p=i.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xo=y;break e}Xo=i.return}}var v=e.current;for(Xo=v;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=v;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){Xo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Xo=j;break e}Xo=l.return}}if(El=n,qn(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(nt,e)}catch(w){}s=!0}return s}finally{vt=r,Pl.transition=t}}return!1}function Nc(e,t,r){e=Ba(e,t=ho(0,t=lo(r,t),1),1),t=ec(),null!==e&&(ft(e,1,t),sc(e,t))}function kc(e,t,r){if(3===e.tag)Nc(e,e,r);else for(;null!==t;){if(3===t.tag){Nc(t,e,r);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===$l||!$l.has(s))){t=Ba(t,e=xo(t,e=lo(r,e),1),1),e=ec(),null!==t&&(ft(t,1,e),sc(t,e));break}}t=t.return}}function Sc(e,t,r){var s=e.pingCache;null!==s&&s.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Tl===e&&(Ml&r)===r&&(4===Rl||3===Rl&&(130023424&Ml)===Ml&&500>Je()-Ul?mc(e,0):zl|=r),sc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Ra(e,t))&&(ft(e,t,r),sc(e,r))}function Pc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}null!==s&&s.delete(t),Cc(e,r)}function Tc(e,t){return Ye(e,t)}function Lc(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,r,s){return new Lc(e,t,r,s)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var r=e.alternate;return null===r?((r=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rc(e,t,r,s,n,i){var o=2;if(s=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Fc(r.children,n,i,t);case k:o=8,n|=8;break;case S:return(e=Mc(12,r,t,2|n)).elementType=S,e.lanes=i,e;case T:return(e=Mc(13,r,t,n)).elementType=T,e.lanes=i,e;case L:return(e=Mc(19,r,t,n)).elementType=L,e.lanes=i,e;case D:return Ic(r,n,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case P:o=9;break e;case E:o=11;break e;case M:o=14;break e;case A:o=16,s=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mc(o,r,t,n)).elementType=e,t.type=s,t.lanes=i,t}function Fc(e,t,r,s){return(e=Mc(7,e,s,t)).lanes=r,e}function Ic(e,t,r,s){return(e=Mc(22,e,s,t)).elementType=D,e.lanes=r,e.stateNode={isHidden:!1},e}function Oc(e,t,r){return(e=Mc(6,e,null,t)).lanes=r,e}function zc(e,t,r){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function _c(e,t,r,s,n,a,i,o,l){return e=new Bc(e,t,r,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(a),e}function Uc(e){if(!e)return Pn;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(An(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(An(r))return Fn(e,r,t)}return t}function qc(e,t,r,s,n,a,i,o,l){return(e=_c(r,s,!0,e,0,a,0,o,l)).context=Uc(null),r=e.current,(a=za(s=ec(),n=tc(r))).callback=void 0!==t&&null!==t?t:null,Ba(r,a,n),e.current.lanes=n,ft(e,n,s),sc(e,s),e}function Vc(e,t,r,s){var n=t.current,a=ec(),i=tc(n);return r=Uc(r),null===t.context?t.context=r:t.pendingContext=r,(t=za(a,i)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Ba(n,t,i))&&(rc(e,n,i,a),_a(e,n,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function $c(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Nl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tn.current)vo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return vo=!1,function(e,t,r){switch(t.tag){case 3:To(t),ha();break;case 5:Ja(t);break;case 1:An(t.type)&&In(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;Cn(wa,s._currentValue),s._currentValue=n;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(Cn(Za,1&Za.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Oo(e,t,r):(Cn(Za,1&Za.current),null!==(e=Wo(e,t,r))?e.sibling:null);Cn(Za,1&Za.current);break;case 19:if(s=0!==(r&t.childLanes),0!==(128&e.flags)){if(s)return qo(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Cn(Za,Za.current),s)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,r)}return Wo(e,t,r)}(e,t,r);vo=0!==(131072&e.flags)}else vo=!1,na&&0!==(1048576&t.flags)&&Zn(t,$n,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Vo(e,t),e=t.pendingProps;var n=Mn(t,En.current);Ta(t,r),n=pi(null,t,s,e,n,r);var i=gi();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,An(s)?(i=!0,In(t)):i=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Ia(t),n.updater=so,t.stateNode=n,n._reactInternals=t,oo(t,s,e,r),t=Eo(null,t,s,!0,i,r)):(t.tag=0,na&&i&&ea(t),bo(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,s=(n=s._init)(s._payload),t.type=s,n=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===M)return 14}return 2}(s),e=to(s,e),n){case 0:t=Co(null,t,s,e,r);break e;case 1:t=Po(null,t,s,e,r);break e;case 11:t=jo(null,t,s,e,r);break e;case 14:t=wo(null,t,s,to(s.type,e),r);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,Co(e,t,s,n=t.elementType===s?n:to(s,n),r);case 1:return s=t.type,n=t.pendingProps,Po(e,t,s,n=t.elementType===s?n:to(s,n),r);case 3:e:{if(To(t),null===e)throw Error(a(387));s=t.pendingProps,n=(i=t.memoizedState).element,Oa(e,t),qa(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Lo(e,t,s,r,n=lo(Error(a(423)),t));break e}if(s!==n){t=Lo(e,t,s,r,n=lo(Error(a(424)),t));break e}for(sa=cn(t.stateNode.containerInfo.firstChild),ra=t,na=!0,aa=null,r=ja(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ha(),s===n){t=Wo(e,t,r);break e}bo(e,t,s,r)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),s=t.type,n=t.pendingProps,i=null!==e?e.memoizedProps:null,o=n.children,tn(s,n)?o=null:null!==i&&tn(s,i)&&(t.flags|=32),So(e,t),bo(e,t,o,r),t.child;case 6:return null===e&&ca(t),null;case 13:return Oo(e,t,r);case 4:return Qa(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=ba(t,null,s,r):bo(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,jo(e,t,s,n=t.elementType===s?n:to(s,n),r);case 7:return bo(e,t,t.pendingProps,r),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,i=t.memoizedProps,o=n.value,Cn(wa,s._currentValue),s._currentValue=o,null!==i)if(is(i.value,o)){if(i.children===n.children&&!Tn.current){t=Wo(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===s){if(1===i.tag){(c=za(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Ea(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ea(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,Ta(t,r),s=s(n=La(n)),t.flags|=1,bo(e,t,s,r),t.child;case 14:return n=to(s=t.type,t.pendingProps),wo(e,t,s,n=to(s.type,n),r);case 15:return No(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:to(s,n),Vo(e,t),t.tag=1,An(s)?(e=!0,In(t)):e=!1,Ta(t,r),ao(t,s,n),oo(t,s,n,r),Eo(null,t,s,!0,e,r);case 19:return qo(e,t,r);case 22:return ko(e,t,r)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,r,s,n){var a=r._reactRootContainer;if(a){var i=a;if("function"===typeof n){var o=n;n=function(){var e=Wc(i);o.call(e)}}Vc(t,i,e,n)}else i=function(e,t,r,s,n){if(n){if("function"===typeof s){var a=s;s=function(){var e=Wc(i);a.call(e)}}var i=qc(t,s,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[xn]=i.current,Us(8===e.nodeType?e.parentNode:e),dc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof s){var o=s;s=function(){var e=Wc(l);o.call(e)}}var l=_c(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[xn]=l.current,Us(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,l,r,s)}),l}(r,t,e,n,s);return Wc(i)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[xn]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&0!==t&&t<Dt[r].priority;r++);Dt.splice(r,0,e),0===r&&Ot(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),sc(t,Je()),0===(6&El)&&(ql=Je()+500,qn()))}break;case 13:dc(function(){var t=Ra(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),$c(e,1)}},wt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)rc(t,e,134217728,ec());$c(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),r=Ra(e,t);if(null!==r)rc(r,e,t,ec());$c(e,t)}},kt=function(){return vt},St=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},we=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=jn(s);if(!n)throw Error(a(90));Y(s),X(s,n)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Te=dc;var ed={usingClientEntryPoint:!1,Events:[vn,bn,jn,Ce,Pe,cc]},td={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{nt=sd.inject(rd),at=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(a(200));return function(e,t,r){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==s?null:""+s,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Kc(e))throw Error(a(299));var r=!1,s="",n=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=_c(e,1,!1,null,0,r,0,s,n),e[xn]=t.current,Us(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Jc(t))throw Error(a(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Kc(e))throw Error(a(405));var s=null!=r&&r.hydratedSources||null,n=!1,i="",o=Yc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=qc(t,null,e,1,null!=r?r:null,n,0,i,o),e[xn]=t.current,Us(e),s)for(e=0;e<s.length;e++)n=(n=(r=s[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Qc(t)},t.render=function(e,t,r){if(!Jc(t))throw Error(a(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Jc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,r,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,r)=>{var s=r(119);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},414:(e,t,r)=>{e.exports=r(654)},654:(e,t,r)=>{var s=r(950),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,a={},c=null,d=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,s)&&!l.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},761:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var s=r-1>>>1,n=e[s];if(!(0<a(n,t)))break e;e[s]=t,e[r]=n,r=s}}function s(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var s=0,n=e.length,i=n>>>1;s<i;){var o=2*(s+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,r))c<n&&0>a(d,l)?(e[s]=d,e[c]=r,s=c):(e[s]=l,e[o]=r,s=o);else{if(!(c<n&&0>a(d,r)))break e;e[s]=d,e[c]=r,s=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,x=!1,p=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=s(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=s(d)}}function j(e){if(g=!1,b(e),!p)if(null!==s(c))p=!0,D(w);else{var t=s(d);null!==t&&R(j,t.startTime-e)}}function w(e,r){p=!1,g&&(g=!1,y(C),C=-1),x=!0;var a=h;try{for(b(r),m=s(c);null!==m&&(!(m.expirationTime>r)||e&&!T());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var o=i(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?m.callback=o:m===s(c)&&n(c),b(r)}else n(c);m=s(c)}if(null!==m)var l=!0;else{var u=s(d);null!==u&&R(j,u.startTime-r),l=!1}return l}finally{m=null,h=a,x=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,P=5,E=-1;function T(){return!(t.unstable_now()-E<P)}function L(){if(null!==S){var e=t.unstable_now();E=e;var r=!0;try{r=S(!0,e)}finally{r?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(L)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,A=M.port2;M.port1.onmessage=L,N=function(){A.postMessage(null)}}else N=function(){f(L,0)};function D(e){S=e,k||(k=!0,N())}function R(e,r){C=f(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||x||(p=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,n,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,r(d,e),null===s(c)&&e===s(d)&&(g?(y(C),C=-1):g=!0,R(j,a-i))):(e.sortIndex=o,r(c,e),p||x||(p=!0,D(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},950:(e,t,r)=>{e.exports=r(49)}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,r),a.exports}r.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"===typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"===typeof s.then)return s}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&s;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>s[e]);return i.default=()=>s,r.d(a,i),a}})(),r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,s)=>(r.f[s](e,t),t),[])),r.u=e=>"static/js/"+e+".ee4ee946.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ecochain-client:";r.l=(s,n,a,i)=>{if(e[s])e[s].push(n);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+a),o.src=s),e[s]=[n];var m=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var n=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach(e=>e(r)),t)return t(r)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,s)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var a=new Promise((r,s)=>n=e[t]=[r,s]);s.push(n[2]=a);var i=r.p+r.u(t),o=new Error;r.l(i,s=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,n[1](o)}},"chunk-"+t,t)}};var t=(t,s)=>{var n,a,i=s[0],o=s[1],l=s[2],c=0;if(i.some(t=>0!==e[t])){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(l)l(r)}for(t&&t(s);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},s=self.webpackChunkecochain_client=self.webpackChunkecochain_client||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s={};r.r(s),r.d(s,{hasBrowserEnv:()=>Zt,hasStandardBrowserEnv:()=>tr,hasStandardBrowserWebWorkerEnv:()=>rr,navigator:()=>er,origin:()=>sr});var n,a=r(950),i=r.t(a,2),o=r(352);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r,s){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:r,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function x(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function g(e,t,r,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,u=n.Pop,p=null,g=f();function f(){return(o.state||{idx:null}).idx}function y(){u=n.Pop;let e=f(),t=null==e?null:e-g;g=e,p&&p({action:u,location:b.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:x(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,o.replaceState(l({},o.state,{idx:g}),""));let b={get action(){return u},get location(){return e(a,o)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(c,y),p=e,()=>{a.removeEventListener(c,y),p=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=n.Push;let s=h(b.location,e,t);r&&r(s,e),g=f()+1;let l=m(s,g),c=b.createHref(s);try{o.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(c)}i&&p&&p({action:u,location:b.location,delta:1})},replace:function(e,t){u=n.Replace;let s=h(b.location,e,t);r&&r(s,e),g=f();let a=m(s,g),l=b.createHref(s);o.replaceState(a,"",l),i&&p&&p({action:u,location:b.location,delta:0})},go:e=>o.go(e)};return b}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,r){return void 0===r&&(r="/"),v(e,t,r,!1)}function v(e,t,r,s){let n=D(("string"===typeof t?p(t):t).pathname||"/",r);if(null==n)return null;let a=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=A(n);i=L(a[o],e,s)}return i}function b(e,t,r,s){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===s&&(s="");let n=(e,n,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(s),'Absolute route path "'+i.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(s.length));let o=z([s,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let s of j(e.path))n(e,t,s);else n(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...s]=t,n=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===s.length)return n?[a,""]:[a];let i=j(s.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),n&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,N=3,k=2,S=1,C=10,P=-2,E=e=>"*"===e;function T(e,t){let r=e.split("/"),s=r.length;return r.some(E)&&(s+=P),t&&(s+=k),r.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?N:""===t?S:C),s)}function L(e,t,r){void 0===r&&(r=!1);let{routesMeta:s}=e,n={},a="/",i=[];for(let o=0;o<s.length;++o){let e=s[o],l=o===s.length-1,c="/"===a?t:t.slice(a.length)||"/",d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!s[s.length-1].route.index&&(d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),i.push({params:n,pathname:z([a,d.pathname]),pathnameBase:B(z([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=z([a,d.pathnameBase]))}return i}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(s.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let a=new RegExp(n,t?void 0:"i");return[a,s]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let a=n[0],i=a.replace(/(.)\/+$/,"$1"),o=n.slice(1),l=s.reduce((e,t,r)=>{let{paramName:s,isOptional:n}=t;if("*"===s){let e=o[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[s]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&"/"!==s?null:e.slice(r)||"/"}function R(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let r=F(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function O(e,t,r,s){let n;void 0===s&&(s=!1),"string"===typeof e?n=p(e):(n=l({},e),d(!n.pathname||!n.pathname.includes("?"),R("?","pathname","search",n)),d(!n.pathname||!n.pathname.includes("#"),R("#","pathname","hash",n)),d(!n.search||!n.search.includes("#"),R("#","search","hash",n)));let a,i=""===e||""===n.pathname,o=i?"/":n.pathname;if(null==o)a=r;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:s="",hash:n=""}="string"===typeof e?p(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:_(s),hash:U(n)}}(n,a),u=o&&"/"!==o&&o.endsWith("/"),m=(i||"."===o)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const z=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],W=(new Set(V),["get",...V]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},H.apply(this,arguments)}const $=a.createContext(null);const Y=a.createContext(null);const G=a.createContext(null);const Q=a.createContext(null);const K=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function X(){return null!=a.useContext(Q)}function Z(){return X()||d(!1),a.useContext(Q).location}function ee(e){a.useContext(G).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(K);return e?function(){let{router:e}=me(de.UseNavigateStable),t=xe(ue.UseNavigateStable),r=a.useRef(!1);ee(()=>{r.current=!0});let s=a.useCallback(function(s,n){void 0===n&&(n={}),r.current&&("number"===typeof s?e.navigate(s):e.navigate(s,H({fromRouteId:t},n)))},[e,t]);return s}():function(){X()||d(!1);let e=a.useContext($),{basename:t,future:r,navigator:s}=a.useContext(G),{matches:n}=a.useContext(K),{pathname:i}=Z(),o=JSON.stringify(I(n,r.v7_relativeSplatPath)),l=a.useRef(!1);return ee(()=>{l.current=!0}),a.useCallback(function(r,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof r)return void s.go(r);let a=O(r,JSON.parse(o),i,"path"===n.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:z([t,a.pathname])),(n.replace?s.replace:s.push)(a,n.state,n)},[t,s,o,i,e])}()}function re(){let{matches:e}=a.useContext(K),t=e[e.length-1];return t?t.params:{}}function se(e,t){let{relative:r}=void 0===t?{}:t,{future:s}=a.useContext(G),{matches:n}=a.useContext(K),{pathname:i}=Z(),o=JSON.stringify(I(n,s.v7_relativeSplatPath));return a.useMemo(()=>O(e,JSON.parse(o),i,"path"===r),[e,o,i,r])}function ne(e,t,r,s){X()||d(!1);let{navigator:i}=a.useContext(G),{matches:o}=a.useContext(K),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let m,h=Z();if(t){var x;let e="string"===typeof t?p(t):t;"/"===u||(null==(x=e.pathname)?void 0:x.startsWith(u))||d(!1),m=e}else m=h;let g=m.pathname||"/",f=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");f="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=y(e,{pathname:f});let b=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:z([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,s);return t&&b?a.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:n.Pop}},b):b}function ae(){let e=function(){var e;let t=a.useContext(J),r=he(ue.UseRouteError),s=xe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[s]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:n},r):null,null)}const ie=a.createElement(ae,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(K.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:r,children:s}=e,n=a.useContext($);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(K.Provider,{value:t},s)}function ce(e,t,r,s){var n;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(n=r)?void 0:n.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:s}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||n){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,s,n)=>{let i,d=!1,m=null,h=null;var x;r&&(i=l&&s.route.id?l[s.route.id]:void 0,m=s.route.errorElement||ie,c&&(u<0&&0===n?(x="route-fallback",!1||pe[x]||(pe[x]=!0),d=!0,h=null):u===n&&(d=!0,h=s.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,n+1)),g=()=>{let t;return t=i?m:d?h:s.route.Component?a.createElement(s.route.Component,null):s.route.element?s.route.element:e,a.createElement(le,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:t})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===n)?a.createElement(oe,{location:r.location,revalidation:r.revalidation,component:m,error:i,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function me(e){let t=a.useContext($);return t||d(!1),t}function he(e){let t=a.useContext(Y);return t||d(!1),t}function xe(e){let t=function(){let e=a.useContext(K);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const pe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function fe(e){let{to:t,replace:r,state:s,relative:n}=e;X()||d(!1);let{future:i,static:o}=a.useContext(G),{matches:l}=a.useContext(K),{pathname:c}=Z(),u=te(),m=O(t,I(l,i.v7_relativeSplatPath),c,"path"===n),h=JSON.stringify(m);return a.useEffect(()=>u(JSON.parse(h),{replace:r,state:s,relative:n}),[u,h,n,r,s]),null}function ye(e){d(!1)}function ve(e){let{basename:t="/",children:r=null,location:s,navigationType:i=n.Pop,navigator:o,static:l=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),m=a.useMemo(()=>({basename:u,navigator:o,static:l,future:H({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof s&&(s=p(s));let{pathname:h="/",search:x="",hash:g="",state:f=null,key:y="default"}=s,v=a.useMemo(()=>{let e=D(h,u);return null==e?null:{location:{pathname:e,search:x,hash:g,state:f,key:y},navigationType:i}},[u,h,x,g,f,y,i]);return null==v?null:a.createElement(G.Provider,{value:m},a.createElement(Q.Provider,{children:r,value:v}))}function be(e){let{children:t,location:r}=e;return ne(je(t),r)}new Promise(()=>{});a.Component;function je(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,s)=>{if(!a.isValidElement(e))return;let n=[...t,s];if(e.type===a.Fragment)return void r.push.apply(r,je(e.props.children,n));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=je(e.props.children,n)),r.push(i)}),r}const we="undefined"!==typeof document,Ne=we?a.useLayoutEffect:a.useEffect;function ke(){const e=(0,a.useRef)(!1);return Ne(()=>(e.current=!0,()=>{e.current=!1}),[]),e}const Se=e=>e;class Ce{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Pe=["prepare","read","update","preRender","render","postRender"];const{schedule:Ee,cancel:Te,state:Le,steps:Me}=function(e,t){let r=!1,s=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=Pe.reduce((e,t)=>(e[t]=function(e){let t=new Ce,r=new Ce,s=0,n=!1,a=!1;const i=new WeakSet,o={schedule:function(e){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&n,o=a?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),o.add(e)&&a&&n&&(s=t.order.length),e},cancel:e=>{r.remove(e),i.delete(e)},process:l=>{if(n)a=!0;else{if(n=!0,[t,r]=[r,t],r.clear(),s=t.order.length,s)for(let r=0;r<s;r++){const s=t.order[r];s(l),i.has(s)&&(o.schedule(s),e())}n=!1,a&&(a=!1,o.process(l))}}};return o}(()=>r=!0),e),{}),i=e=>a[e].process(n),o=()=>{const a=performance.now();r=!1,n.delta=s?1e3/60:Math.max(Math.min(a-n.timestamp,40),1),n.timestamp=a,n.isProcessing=!0,Pe.forEach(i),n.isProcessing=!1,r&&t&&(s=!1,e(o))},l=Pe.reduce((t,i)=>{const l=a[i];return t[i]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,s=!0,n.isProcessing||e(o)),l.schedule(t,a,i)},t},{});return{schedule:l,cancel:e=>Pe.forEach(t=>a[t].cancel(e)),state:n,steps:a}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Se,!0);const Ae=(0,a.createContext)(null);function De(e){const t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}class Re extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Fe(e){let{children:t,isPresent:r}=e;const s=(0,a.useId)(),n=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{const{width:e,height:t,top:a,left:o}=i.current;if(r||!n.current||!e||!t)return;n.current.dataset.motionPopId=s;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[r]),a.createElement(Re,{isPresent:r,childRef:n,sizeRef:i},a.cloneElement(t,{ref:n}))}const Ie=e=>{let{children:t,initial:r,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:l}=e;const c=De(Oe),d=(0,a.useId)(),u=(0,a.useMemo)(()=>({id:d,initial:r,isPresent:s,custom:i,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;n&&n()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[s]);return(0,a.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[s]),a.useEffect(()=>{!s&&!c.size&&n&&n()},[s]),"popLayout"===l&&(t=a.createElement(Fe,{isPresent:s},t)),a.createElement(Ae.Provider,{value:u},t)};function Oe(){return new Map}const ze=(0,a.createContext)({});let Be=Se,_e=Se;const Ue=e=>e.key||"";const qe=e=>{let{children:t,custom:r,initial:s=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:l="sync"}=e;_e(!i,"Replace exitBeforeEnter with mode='wait'");const c=(0,a.useContext)(ze).forceRender||function(){const e=ke(),[t,r]=(0,a.useState)(0),s=(0,a.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,a.useCallback)(()=>Ee.postRender(s),[s]),t]}()[0],d=ke(),u=function(e){const t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(t);let m=u;const h=(0,a.useRef)(new Map).current,x=(0,a.useRef)(m),p=(0,a.useRef)(new Map).current,g=(0,a.useRef)(!0);var f;if(Ne(()=>{g.current=!1,function(e,t){e.forEach(e=>{const r=Ue(e);t.set(r,e)})}(u,p),x.current=m}),f=()=>{g.current=!0,p.clear(),h.clear()},(0,a.useEffect)(()=>()=>f(),[]),g.current)return a.createElement(a.Fragment,null,m.map(e=>a.createElement(Ie,{key:Ue(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:o,mode:l},e)));m=[...m];const y=x.current.map(Ue),v=u.map(Ue),b=y.length;for(let a=0;a<b;a++){const e=y[a];-1!==v.indexOf(e)||h.has(e)||h.set(e,void 0)}return"wait"===l&&h.size&&(m=[]),h.forEach((e,t)=>{if(-1!==v.indexOf(t))return;const s=p.get(t);if(!s)return;const i=y.indexOf(t);let g=e;if(!g){const e=()=>{h.delete(t);const e=Array.from(p.keys()).filter(e=>!v.includes(e));if(e.forEach(e=>p.delete(e)),x.current=u.filter(r=>{const s=Ue(r);return s===t||e.includes(s)}),!h.size){if(!1===d.current)return;c(),n&&n()}};g=a.createElement(Ie,{key:Ue(s),isPresent:!1,onExitComplete:e,custom:r,presenceAffectsLayout:o,mode:l},s),h.set(t,g)}m.splice(i,0,g)}),m=m.map(e=>{const t=e.key;return h.has(t)?e:a.createElement(Ie,{key:Ue(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)}),a.createElement(a.Fragment,null,h.size?m:m.map(e=>(0,a.cloneElement)(e)))};function Ve(e,t){return function(){return e.apply(t,arguments)}}const{toString:We}=Object.prototype,{getPrototypeOf:He}=Object,{iterator:$e,toStringTag:Ye}=Symbol,Ge=(Qe=Object.create(null),e=>{const t=We.call(e);return Qe[t]||(Qe[t]=t.slice(8,-1).toLowerCase())});var Qe;const Ke=e=>(e=e.toLowerCase(),t=>Ge(t)===e),Je=e=>t=>typeof t===e,{isArray:Xe}=Array,Ze=Je("undefined");function et(e){return null!==e&&!Ze(e)&&null!==e.constructor&&!Ze(e.constructor)&&st(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tt=Ke("ArrayBuffer");const rt=Je("string"),st=Je("function"),nt=Je("number"),at=e=>null!==e&&"object"===typeof e,it=e=>{if("object"!==Ge(e))return!1;const t=He(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ye in e)&&!($e in e)},ot=Ke("Date"),lt=Ke("File"),ct=Ke("Blob"),dt=Ke("FileList"),ut=Ke("URLSearchParams"),[mt,ht,xt,pt]=["ReadableStream","Request","Response","Headers"].map(Ke);function gt(e,t){let r,s,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Xe(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(et(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let i;for(r=0;r<a;r++)i=s[r],t.call(null,e[i],i,e)}}function ft(e,t){if(et(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s,n=r.length;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const yt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,vt=e=>!Ze(e)&&e!==yt;const bt=(jt="undefined"!==typeof Uint8Array&&He(Uint8Array),e=>jt&&e instanceof jt);var jt;const wt=Ke("HTMLFormElement"),Nt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),kt=Ke("RegExp"),St=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};gt(r,(r,n)=>{let a;!1!==(a=t(r,n,e))&&(s[n]=a||r)}),Object.defineProperties(e,s)};const Ct=Ke("AsyncFunction"),Pt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),s=[],yt.addEventListener("message",e=>{let{source:t,data:n}=e;t===yt&&n===r&&s.length&&s.shift()()},!1),e=>{s.push(e),yt.postMessage(r,"*")}):e=>setTimeout(e);var r,s})("function"===typeof setImmediate,st(yt.postMessage)),Et="undefined"!==typeof queueMicrotask?queueMicrotask.bind(yt):"undefined"!==typeof process&&process.nextTick||Pt,Tt={isArray:Xe,isArrayBuffer:tt,isBuffer:et,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||st(e.append)&&("formdata"===(t=Ge(e))||"object"===t&&st(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tt(e.buffer),t},isString:rt,isNumber:nt,isBoolean:e=>!0===e||!1===e,isObject:at,isPlainObject:it,isEmptyObject:e=>{if(!at(e)||et(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:mt,isRequest:ht,isResponse:xt,isHeaders:pt,isUndefined:Ze,isDate:ot,isFile:lt,isBlob:ct,isRegExp:kt,isFunction:st,isStream:e=>at(e)&&st(e.pipe),isURLSearchParams:ut,isTypedArray:bt,isFileList:dt,forEach:gt,merge:function e(){const{caseless:t}=vt(this)&&this||{},r={},s=(s,n)=>{const a=t&&ft(r,n)||n;it(r[a])&&it(s)?r[a]=e(r[a],s):it(s)?r[a]=e({},s):Xe(s)?r[a]=s.slice():r[a]=s};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&gt(arguments[n],s);return r},extend:function(e,t,r){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return gt(t,(t,s)=>{r&&st(t)?e[s]=Ve(t,r):e[s]=t},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,s)=>{let n,a,i;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)i=n[a],s&&!s(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&He(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ge,kindOfTest:Ke,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return-1!==s&&s===r},toArray:e=>{if(!e)return null;if(Xe(e))return e;let t=e.length;if(!nt(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[$e]).call(e);let s;for(;(s=r.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const s=[];for(;null!==(r=e.exec(t));)s.push(r);return s},isHTMLForm:wt,hasOwnProperty:Nt,hasOwnProp:Nt,reduceDescriptors:St,freezeMethods:e=>{St(e,(t,r)=>{if(st(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const s=e[r];st(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},s=e=>{e.forEach(e=>{r[e]=!0})};return Xe(e)?s(e):s(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ft,global:yt,isContextDefined:vt,isSpecCompliantForm:function(e){return!!(e&&st(e.append)&&"FormData"===e[Ye]&&e[$e])},toJSONObject:e=>{const t=new Array(10),r=(e,s)=>{if(at(e)){if(t.indexOf(e)>=0)return;if(et(e))return e;if(!("toJSON"in e)){t[s]=e;const n=Xe(e)?[]:{};return gt(e,(e,t)=>{const a=r(e,s+1);!Ze(a)&&(n[t]=a)}),t[s]=void 0,n}}return e};return r(e,0)},isAsyncFn:Ct,isThenable:e=>e&&(at(e)||st(e))&&st(e.then)&&st(e.catch),setImmediate:Pt,asap:Et,isIterable:e=>null!=e&&st(e[$e])};function Lt(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}Tt.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Tt.toJSONObject(this.config),code:this.code,status:this.status}}});const Mt=Lt.prototype,At={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{At[e]={value:e}}),Object.defineProperties(Lt,At),Object.defineProperty(Mt,"isAxiosError",{value:!0}),Lt.from=(e,t,r,s,n,a)=>{const i=Object.create(Mt);return Tt.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Lt.call(i,e.message,t,r,s,n),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Dt=Lt;function Rt(e){return Tt.isPlainObject(e)||Tt.isArray(e)}function Ft(e){return Tt.endsWith(e,"[]")?e.slice(0,-2):e}function It(e,t,r){return e?e.concat(t).map(function(e,t){return e=Ft(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Ot=Tt.toFlatObject(Tt,{},null,function(e){return/^is[A-Z]/.test(e)});const zt=function(e,t,r){if(!Tt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(r=Tt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Tt.isUndefined(t[e])})).metaTokens,n=r.visitor||c,a=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Tt.isSpecCompliantForm(t);if(!Tt.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Tt.isDate(e))return e.toISOString();if(Tt.isBoolean(e))return e.toString();if(!o&&Tt.isBlob(e))throw new Dt("Blob is not supported. Use a Buffer instead.");return Tt.isArrayBuffer(e)||Tt.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let o=e;if(e&&!n&&"object"===typeof e)if(Tt.endsWith(r,"{}"))r=s?r:r.slice(0,-2),e=JSON.stringify(e);else if(Tt.isArray(e)&&function(e){return Tt.isArray(e)&&!e.some(Rt)}(e)||(Tt.isFileList(e)||Tt.endsWith(r,"[]"))&&(o=Tt.toArray(e)))return r=Ft(r),o.forEach(function(e,s){!Tt.isUndefined(e)&&null!==e&&t.append(!0===i?It([r],s,a):null===i?r:r+"[]",l(e))}),!1;return!!Rt(e)||(t.append(It(n,r,a),l(e)),!1)}const d=[],u=Object.assign(Ot,{defaultVisitor:c,convertValue:l,isVisitable:Rt});if(!Tt.isObject(e))throw new TypeError("data must be an object");return function e(r,s){if(!Tt.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+s.join("."));d.push(r),Tt.forEach(r,function(r,a){!0===(!(Tt.isUndefined(r)||null===r)&&n.call(t,r,Tt.isString(a)?a.trim():a,s,u))&&e(r,s?s.concat(a):[a])}),d.pop()}}(e),t};function Bt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function _t(e,t){this._pairs=[],e&&zt(e,this,t)}const Ut=_t.prototype;Ut.append=function(e,t){this._pairs.push([e,t])},Ut.toString=function(e){const t=e?function(t){return e.call(this,t,Bt)}:Bt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const qt=_t;function Vt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wt(e,t,r){if(!t)return e;const s=r&&r.encode||Vt;Tt.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let a;if(a=n?n(t,r):Tt.isURLSearchParams(t)?t.toString():new qt(t,r).toString(s),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Ht=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Tt.forEach(this.handlers,function(t){null!==t&&e(t)})}},$t={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}function Gt(e){var t=function(e,t){if("object"!=Yt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=Yt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yt(t)?t:t+""}function Qt(e,t,r){return(t=Gt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(r),!0).forEach(function(t){Qt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Xt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:qt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Zt="undefined"!==typeof window&&"undefined"!==typeof document,er="object"===typeof navigator&&navigator||void 0,tr=Zt&&(!er||["ReactNative","NativeScript","NS"].indexOf(er.product)<0),rr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,sr=Zt&&window.location.href||"http://localhost",nr=Jt(Jt({},s),Xt);const ar=function(e){function t(e,r,s,n){let a=e[n++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=n>=e.length;if(a=!a&&Tt.isArray(s)?s.length:a,o)return Tt.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!i;s[a]&&Tt.isObject(s[a])||(s[a]=[]);return t(e,r,s[a],n)&&Tt.isArray(s[a])&&(s[a]=function(e){const t={},r=Object.keys(e);let s;const n=r.length;let a;for(s=0;s<n;s++)a=r[s],t[a]=e[a];return t}(s[a])),!i}if(Tt.isFormData(e)&&Tt.isFunction(e.entries)){const r={};return Tt.forEachEntry(e,(e,s)=>{t(function(e){return Tt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,r,0)}),r}return null};const ir={transitional:$t,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,n=Tt.isObject(e);n&&Tt.isHTMLForm(e)&&(e=new FormData(e));if(Tt.isFormData(e))return s?JSON.stringify(ar(e)):e;if(Tt.isArrayBuffer(e)||Tt.isBuffer(e)||Tt.isStream(e)||Tt.isFile(e)||Tt.isBlob(e)||Tt.isReadableStream(e))return e;if(Tt.isArrayBufferView(e))return e.buffer;if(Tt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return zt(e,new nr.classes.URLSearchParams,Jt({visitor:function(e,t,r,s){return nr.isNode&&Tt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Tt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return zt(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||s?(t.setContentType("application/json",!1),function(e,t,r){if(Tt.isString(e))try{return(t||JSON.parse)(e),Tt.trim(e)}catch(s){if("SyntaxError"!==s.name)throw s}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ir.transitional,r=t&&t.forcedJSONParsing,s="json"===this.responseType;if(Tt.isResponse(e)||Tt.isReadableStream(e))return e;if(e&&Tt.isString(e)&&(r&&!this.responseType||s)){const r=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(n){if(r){if("SyntaxError"===n.name)throw Dt.from(n,Dt.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nr.classes.FormData,Blob:nr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Tt.forEach(["delete","get","head","post","put","patch"],e=>{ir.headers[e]={}});const or=ir,lr=Tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cr=Symbol("internals");function dr(e){return e&&String(e).trim().toLowerCase()}function ur(e){return!1===e||null==e?e:Tt.isArray(e)?e.map(ur):String(e)}function mr(e,t,r,s,n){return Tt.isFunction(s)?s.call(this,t,r):(n&&(t=r),Tt.isString(t)?Tt.isString(s)?-1!==t.indexOf(s):Tt.isRegExp(s)?s.test(t):void 0:void 0)}class hr{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function n(e,t,r){const n=dr(t);if(!n)throw new Error("header name must be a non-empty string");const a=Tt.findKey(s,n);(!a||void 0===s[a]||!0===r||void 0===r&&!1!==s[a])&&(s[a||t]=ur(e))}const a=(e,t)=>Tt.forEach(e,(e,r)=>n(e,r,t));if(Tt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Tt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,s,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),r=e.substring(0,n).trim().toLowerCase(),s=e.substring(n+1).trim(),!r||t[r]&&lr[r]||("set-cookie"===r?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t})(e),t);else if(Tt.isObject(e)&&Tt.isIterable(e)){let r,s,n={};for(const t of e){if(!Tt.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[s=t[0]]=(r=n[s])?Tt.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}a(n,t)}else null!=e&&n(t,e,r);return this}get(e,t){if(e=dr(e)){const r=Tt.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}(e);if(Tt.isFunction(t))return t.call(this,e,r);if(Tt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=dr(e)){const r=Tt.findKey(this,e);return!(!r||void 0===this[r]||t&&!mr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let s=!1;function n(e){if(e=dr(e)){const n=Tt.findKey(r,e);!n||t&&!mr(0,r[n],n,t)||(delete r[n],s=!0)}}return Tt.isArray(e)?e.forEach(n):n(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const n=t[r];e&&!mr(0,this[n],n,e,!0)||(delete this[n],s=!0)}return s}normalize(e){const t=this,r={};return Tt.forEach(this,(s,n)=>{const a=Tt.findKey(r,n);if(a)return t[a]=ur(s),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(n):String(n).trim();i!==n&&delete t[n],t[i]=ur(s),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Tt.forEach(this,(r,s)=>{null!=r&&!1!==r&&(t[s]=e&&Tt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,s=new Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[cr]=this[cr]={accessors:{}}).accessors,r=this.prototype;function s(e){const s=dr(e);t[s]||(!function(e,t){const r=Tt.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(e,r,n){return this[s].call(this,t,e,r,n)},configurable:!0})})}(r,e),t[s]=!0)}return Tt.isArray(e)?e.forEach(s):s(e),this}}hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Tt.reduceDescriptors(hr.prototype,(e,t)=>{let{value:r}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[s]=e}}}),Tt.freezeMethods(hr);const xr=hr;function pr(e,t){const r=this||or,s=t||r,n=xr.from(s.headers);let a=s.data;return Tt.forEach(e,function(e){a=e.call(r,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function gr(e){return!(!e||!e.__CANCEL__)}function fr(e,t,r){Dt.call(this,null==e?"canceled":e,Dt.ERR_CANCELED,t,r),this.name="CanceledError"}Tt.inherits(fr,Dt,{__CANCEL__:!0});const yr=fr;function vr(e,t,r){const s=r.config.validateStatus;r.status&&s&&!s(r.status)?t(new Dt("Request failed with status code "+r.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const br=function(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=s[i];n||(n=l),r[a]=o,s[a]=l;let d=i,u=0;for(;d!==a;)u+=r[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-n<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const jr=function(e,t){let r,s,n=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=a,r=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(r=l,s||(s=setTimeout(()=>{s=null,i(r)},a-t)))},()=>r&&i(r)]},wr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const n=br(50,250);return jr(r=>{const a=r.loaded,i=r.lengthComputable?r.total:void 0,o=a-s,l=n(o);s=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},Nr=(e,t)=>{const r=null!=e;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},kr=e=>function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return Tt.asap(()=>e(...r))},Sr=nr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,nr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(nr.origin),nr.navigator&&/(msie|trident)/i.test(nr.navigator.userAgent)):()=>!0,Cr=nr.hasStandardBrowserEnv?{write(e,t,r,s,n,a){const i=[e+"="+encodeURIComponent(t)];Tt.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Tt.isString(s)&&i.push("path="+s),Tt.isString(n)&&i.push("domain="+n),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Pr(e,t,r){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Er=e=>e instanceof xr?Jt({},e):e;function Tr(e,t){t=t||{};const r={};function s(e,t,r,s){return Tt.isPlainObject(e)&&Tt.isPlainObject(t)?Tt.merge.call({caseless:s},e,t):Tt.isPlainObject(t)?Tt.merge({},t):Tt.isArray(t)?t.slice():t}function n(e,t,r,n){return Tt.isUndefined(t)?Tt.isUndefined(e)?void 0:s(void 0,e,0,n):s(e,t,0,n)}function a(e,t){if(!Tt.isUndefined(t))return s(void 0,t)}function i(e,t){return Tt.isUndefined(t)?Tt.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function o(r,n,a){return a in t?s(r,n):a in e?s(void 0,r):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,r)=>n(Er(e),Er(t),0,!0)};return Tt.forEach(Object.keys(Jt(Jt({},e),t)),function(s){const a=l[s]||n,i=a(e[s],t[s],s);Tt.isUndefined(i)&&a!==o||(r[s]=i)}),r}const Lr=e=>{const t=Tr({},e);let r,{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=xr.from(o),t.url=Wt(Pr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Tt.isFormData(s))if(nr.hasStandardBrowserEnv||nr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(r=o.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(nr.hasStandardBrowserEnv&&(n&&Tt.isFunction(n)&&(n=n(t)),n||!1!==n&&Sr(t.url))){const e=a&&i&&Cr.read(i);e&&o.set(a,e)}return t},Mr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const s=Lr(e);let n=s.data;const a=xr.from(s.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=s;function x(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(i),s.signal&&s.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function g(){if(!p)return;const s=xr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());vr(function(e){t(e),x()},function(e){r(e),x()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:s,config:e,request:p}),p=null}p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(r(new Dt("Request aborted",Dt.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new Dt("Network Error",Dt.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const n=s.transitional||$t;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),r(new Dt(t,n.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,e,p)),p=null},void 0===n&&a.setContentType(null),"setRequestHeader"in p&&Tt.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),Tt.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),u&&"json"!==u&&(p.responseType=s.responseType),h&&([l,d]=wr(h,!0),p.addEventListener("progress",l)),m&&p.upload&&([o,c]=wr(m),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(i=t=>{p&&(r(!t||t.type?new yr(null,e,p):t),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(i),s.signal&&(s.signal.aborted?i():s.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);f&&-1===nr.protocols.indexOf(f)?r(new Dt("Unsupported protocol "+f+":",Dt.ERR_BAD_REQUEST,e)):p.send(n||null)})},Ar=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,s=new AbortController;const n=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;s.abort(t instanceof Dt?t:new yr(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,n(new Dt("timeout ".concat(t," of ms exceeded"),Dt.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:o}=s;return o.unsubscribe=()=>Tt.asap(i),o}};function Dr(e,t){this.v=e,this.k=t}function Rr(e){return function(){return new Fr(e.apply(this,arguments))}}function Fr(e){var t,r;function s(t,r){try{var a=e[t](r),i=a.value,o=i instanceof Dr;Promise.resolve(o?i.v:i).then(function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return s(l,r);r=e[l](r).value}n(a.done?"return":"normal",r)},function(e){s("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?s(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(a,i){var o={key:e,arg:n,resolve:a,reject:i,next:null};r?r=r.next=o:(t=r=o,s(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function Ir(e){return new Dr(e,0)}function Or(e){var t={},r=!1;function s(t,s){return r=!0,s=new Promise(function(r){r(e[t](s))}),{done:!1,value:new Dr(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):s("return",e)}),t}function zr(e){var t,r,s,n=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,s=Symbol.iterator);n--;){if(r&&null!=(t=e[r]))return t.call(e);if(s&&null!=(t=e[s]))return new Br(t.call(e));r="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function Br(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Br=function(e){this.s=e,this.n=e.next},Br.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Br(e)}Fr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Fr.prototype.next=function(e){return this._invoke("next",e)},Fr.prototype.throw=function(e){return this._invoke("throw",e)},Fr.prototype.return=function(e){return this._invoke("return",e)};const _r=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let s,n=0;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Ur=function(){var e=Rr(function*(e,t){var r,s=!1,n=!1;try{for(var a,i=zr(qr(e));s=!(a=yield Ir(i.next())).done;s=!1){const e=a.value;yield*Or(zr(_r(e,t)))}}catch(o){n=!0,r=o}finally{try{s&&null!=i.return&&(yield Ir(i.return()))}finally{if(n)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),qr=function(){var e=Rr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Or(zr(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Ir(t.read());if(e)break;yield r}}finally{yield Ir(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Vr=(e,t,r,s)=>{const n=Ur(e,t);let a,i=0,o=e=>{a||(a=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await n.next();if(t)return o(),void e.close();let a=s.byteLength;if(r){let e=i+=a;r(e)}e.enqueue(new Uint8Array(s))}catch(t){throw o(t),t}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},Wr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Hr=Wr&&"function"===typeof ReadableStream,$r=Wr&&("function"===typeof TextEncoder?(Yr=new TextEncoder,e=>Yr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Yr;const Gr=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return!!e(...r)}catch(n){return!1}},Qr=Hr&&Gr(()=>{let e=!1;const t=new Request(nr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Kr=Hr&&Gr(()=>Tt.isReadableStream(new Response("").body)),Jr={stream:Kr&&(e=>e.body)};var Xr;Wr&&(Xr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jr[e]&&(Jr[e]=Tt.isFunction(Xr[e])?t=>t[e]():(t,r)=>{throw new Dt("Response type '".concat(e,"' is not supported"),Dt.ERR_NOT_SUPPORT,r)})}));const Zr=async(e,t)=>{const r=Tt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Tt.isBlob(e))return e.size;if(Tt.isSpecCompliantForm(e)){const t=new Request(nr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Tt.isArrayBufferView(e)||Tt.isArrayBuffer(e)?e.byteLength:(Tt.isURLSearchParams(e)&&(e+=""),Tt.isString(e)?(await $r(e)).byteLength:void 0)})(t):r},es=Wr&&(async e=>{let{url:t,method:r,data:s,signal:n,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=Lr(e);c=c?(c+"").toLowerCase():"text";let h,x=Ar([n,a&&a.toAbortSignal()],i);const p=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let g;try{if(l&&Qr&&"get"!==r&&"head"!==r&&0!==(g=await Zr(d,s))){let e,r=new Request(t,{method:"POST",body:s,duplex:"half"});if(Tt.isFormData(s)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=Nr(g,wr(kr(l)));s=Vr(r.body,65536,e,t)}}Tt.isString(u)||(u=u?"include":"omit");const n="credentials"in Request.prototype;h=new Request(t,Jt(Jt({},m),{},{signal:x,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:n?u:void 0}));let a=await fetch(h,m);const i=Kr&&("stream"===c||"response"===c);if(Kr&&(o||i&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=Tt.toFiniteNumber(a.headers.get("content-length")),[r,s]=o&&Nr(t,wr(kr(o),!0))||[];a=new Response(Vr(a.body,65536,r,()=>{s&&s(),p&&p()}),e)}c=c||"text";let f=await Jr[Tt.findKey(Jr,c)||"text"](a,e);return!i&&p&&p(),await new Promise((t,r)=>{vr(t,r,{data:f,headers:xr.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})})}catch(f){if(p&&p(),f&&"TypeError"===f.name&&/Load failed|fetch/i.test(f.message))throw Object.assign(new Dt("Network Error",Dt.ERR_NETWORK,e,h),{cause:f.cause||f});throw Dt.from(f,f&&f.code,e,h)}}),ts={http:null,xhr:Mr,fetch:es};Tt.forEach(ts,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const rs=e=>"- ".concat(e),ss=e=>Tt.isFunction(e)||null===e||!1===e,ns=e=>{e=Tt.isArray(e)?e:[e];const{length:t}=e;let r,s;const n={};for(let a=0;a<t;a++){let t;if(r=e[a],s=r,!ss(r)&&(s=ts[(t=String(r)).toLowerCase()],void 0===s))throw new Dt("Unknown adapter '".concat(t,"'"));if(s)break;n[t||"#"+a]=s}if(!s){const e=Object.entries(n).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let r=t?e.length>1?"since :\n"+e.map(rs).join("\n"):" "+rs(e[0]):"as no adapter specified";throw new Dt("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return s};function as(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yr(null,e)}function is(e){as(e),e.headers=xr.from(e.headers),e.data=pr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ns(e.adapter||or.adapter)(e).then(function(t){return as(e),t.data=pr.call(e,e.transformResponse,t),t.headers=xr.from(t.headers),t},function(t){return gr(t)||(as(e),t&&t.response&&(t.response.data=pr.call(e,e.transformResponse,t.response),t.response.headers=xr.from(t.response.headers))),Promise.reject(t)})}const os="1.11.0",ls={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ls[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const cs={};ls.transitional=function(e,t,r){function s(e,t){return"[Axios v"+os+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,a)=>{if(!1===e)throw new Dt(s(n," has been removed"+(t?" in "+t:"")),Dt.ERR_DEPRECATED);return t&&!cs[n]&&(cs[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},ls.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const ds={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const a=s[n],i=t[a];if(i){const t=e[a],r=void 0===t||i(t,a,e);if(!0!==r)throw new Dt("option "+a+" must be "+r,Dt.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Dt("Unknown option "+a,Dt.ERR_BAD_OPTION)}},validators:ls},us=ds.validators;class ms{constructor(e){this.defaults=e||{},this.interceptors={request:new Ht,response:new Ht}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(s){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Tr(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:n}=t;void 0!==r&&ds.assertOptions(r,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),null!=s&&(Tt.isFunction(s)?t.paramsSerializer={serialize:s}:ds.assertOptions(s,{encode:us.function,serialize:us.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ds.assertOptions(t,{baseUrl:us.spelling("baseURL"),withXsrfToken:us.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=n&&Tt.merge(n.common,n[t.method]);n&&Tt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=xr.concat(a,n);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[is.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=is.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Wt(Pr((e=Tr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Tt.forEach(["delete","get","head","options"],function(e){ms.prototype[e]=function(t,r){return this.request(Tr(r||{},{method:e,url:t,data:(r||{}).data}))}}),Tt.forEach(["post","put","patch"],function(e){function t(t){return function(r,s,n){return this.request(Tr(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}ms.prototype[e]=t(),ms.prototype[e+"Form"]=t(!0)});const hs=ms;class xs{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{r.subscribe(e),t=e}).then(e);return s.cancel=function(){r.unsubscribe(t)},s},e(function(e,s,n){r.reason||(r.reason=new yr(e,s,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xs(function(t){e=t}),cancel:e}}}const ps=xs;const gs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gs).forEach(e=>{let[t,r]=e;gs[r]=t});const fs=gs;const ys=function e(t){const r=new hs(t),s=Ve(hs.prototype.request,r);return Tt.extend(s,hs.prototype,r,{allOwnKeys:!0}),Tt.extend(s,r,null,{allOwnKeys:!0}),s.create=function(r){return e(Tr(t,r))},s}(or);ys.Axios=hs,ys.CanceledError=yr,ys.CancelToken=ps,ys.isCancel=gr,ys.VERSION=os,ys.toFormData=zt,ys.AxiosError=Dt,ys.Cancel=ys.CanceledError,ys.all=function(e){return Promise.all(e)},ys.spread=function(e){return function(t){return e.apply(null,t)}},ys.isAxiosError=function(e){return Tt.isObject(e)&&!0===e.isAxiosError},ys.mergeConfig=Tr,ys.AxiosHeaders=xr,ys.formToJSON=e=>ar(Tt.isHTMLForm(e)?new FormData(e):e),ys.getAdapter=ns,ys.HttpStatusCode=fs,ys.default=ys;const vs=ys;async function bs(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;for(let i=0;i<=r;i++)try{return await e()}catch(a){var n;if(t=a,vs.isAxiosError(a)&&null!==(n=a.response)&&void 0!==n&&n.status&&a.response.status>=400&&a.response.status<500)throw a;if(i===r)throw a;const e=s*Math.pow(2,i);console.log("API call failed, retrying in ".concat(e,"ms... (attempt ").concat(i+1,"/").concat(r+1,")")),await new Promise(t=>setTimeout(t,e))}throw t}const js=vs.create({baseURL:"https://ecochain-j1nj.onrender.com/api",timeout:15e3,headers:{"Content-Type":"application/json"}});js.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),js.interceptors.response.use(e=>e,e=>{var t,r,s,n,a,i;return console.error("API Error:",{url:null===(t=e.config)||void 0===t?void 0:t.url,method:null===(r=e.config)||void 0===r?void 0:r.method,baseURL:null===(s=e.config)||void 0===s?void 0:s.baseURL,status:null===(n=e.response)||void 0===n?void 0:n.status,statusText:null===(a=e.response)||void 0===a?void 0:a.statusText,data:null===(i=e.response)||void 0===i?void 0:i.data,message:e.message}),e.response&&401===e.response.status&&console.warn("API request unauthorized - token may be expired"),Promise.reject(e)});const ws=async e=>bs(e,3,1e3),Ns=e=>ws(()=>js.post("/auth/register",e)),ks=e=>ws(()=>js.post("/auth/login",e)),Ss=e=>ws(()=>js.post("/auth/verify-otp",e)),Cs=e=>ws(()=>js.post("/auth/resend-otp",e)),Ps=e=>ws(()=>js.post("/auth/refresh",{refreshToken:e})),Es=()=>ws(()=>js.post("/auth/logout")),Ts=()=>ws(()=>js.get("/auth/me")),Ls=e=>ws(()=>js.put("/auth/profile",e)),Ms=e=>ws(()=>js.put("/auth/profile/image",e,{headers:{"Content-Type":"multipart/form-data"}})),As=e=>ws(()=>js.put("/auth/change-password",e)),Ds=e=>ws(()=>js.get("/collections/".concat(e))),Rs=(e,t)=>ws(()=>js.put("/collections/".concat(e,"/status"),t)),Fs=e=>ws(()=>js.post("/orders",e)),Is=()=>ws(()=>js.get("/orders/user")),Os=e=>ws(()=>js.get("/orders/".concat(e))),zs=e=>ws(()=>js.get("/orders/tracking/".concat(e))),Bs=()=>ws(()=>js.get("/eco-token/wallet")),_s=e=>ws(()=>js.get("/eco-token/transactions",{params:e})),Us=e=>ws(()=>js.get("/eco-token/transactions/".concat(e))),qs=e=>ws(()=>js.get("/eco-token/wallet/stats/earnings",{params:{period:e}})),Vs=e=>ws(()=>js.get("/eco-token/wallet/stats/spending",{params:{period:e}})),Ws=()=>ws(()=>js.get("/eco-token/wallet/stats/impact")),Hs=js;const $s=new class{constructor(){this.userData=null,this.lastFetchTime=0,this.fetchPromise=null,this.cacheDuration=1e4,this.pendingRequests=[]}async getUserData(){const e=Date.now();return this.userData&&e-this.lastFetchTime<this.cacheDuration?this.userData:(this.fetchPromise||(this.fetchPromise=new Promise((e,t)=>{this.fetchUserData().then(t=>{this.pendingRequests.forEach(e=>e.resolve(t)),this.pendingRequests=[],e(t)}).catch(e=>{this.pendingRequests.forEach(t=>t.reject(e)),this.pendingRequests=[],t(e)}).finally(()=>{this.fetchPromise=null})})),this.fetchPromise)}async refreshUserData(){return this.userData=null,this.getUserData()}updateCachedData(e){this.userData=e,this.lastFetchTime=Date.now()}clearCache(){this.userData=null,this.lastFetchTime=0}async fetchUserData(){try{const e=await Ts();return e.data.success?(this.userData=e.data.data,this.lastFetchTime=Date.now(),this.userData):null}catch(e){throw console.error("Error fetching user data:",e),e}}};var Ys=r(414);const Gs=(0,a.createContext)(void 0),Qs=e=>{let{children:t}=e;const[r,s]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),u=(0,a.useCallback)(()=>{try{n&&Es().catch(e=>{console.error("Logout API error:",e)})}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),$s.clearCache(),s(null),i(null),l(null)}},[n]);(0,a.useEffect)(()=>{(async()=>{const e=localStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken");if(e&&t)try{i(e),l(t);const r=await $s.getUserData();if(!r)throw new Error("Failed to get user data");s(r)}catch(r){console.error("Auth check failed:",r),u()}d(!1)})()},[u]);return(0,Ys.jsx)(Gs.Provider,{value:{user:r,token:n,refreshToken:o,isAuthenticated:!!r,isLoading:c,login:async(e,t)=>{d(!0);try{const r=await ks({email:e,password:t});if(!r.data.success)throw new Error(r.data.message||"Login failed");{const{user:e,tokens:t}=r.data.data;s(e),i(t.accessToken),l(t.refreshToken),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),localStorage.setItem("user",JSON.stringify(e))}}catch(u){var r,n,a,o,c;console.error("Login error:",u);let e="Login failed. Please try again.";throw 401===(null===(r=u.response)||void 0===r?void 0:r.status)?e="Invalid email or password. Please try again.":403===(null===(n=u.response)||void 0===n?void 0:n.status)?e="Your account is not authorized. Please contact support.":429===(null===(a=u.response)||void 0===a?void 0:a.status)?e="Too many login attempts. Please try again later.":null!==(o=u.response)&&void 0!==o&&null!==(c=o.data)&&void 0!==c&&c.message?e=u.response.data.message:u.message&&(e=u.message),new Error(e)}finally{d(!1)}},register:async function(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"user",o=arguments.length>5?arguments[5]:void 0;d(!0);try{const c={name:e,email:t,password:r,phone:n,role:a};"collector"===a&&null!==o&&void 0!==o&&o.collectorData?c.collectorInfo=o.collectorData:"factory"===a&&null!==o&&void 0!==o&&o.factoryData&&(c.factoryInfo=o.factoryData);const d=await Ns(c);if(d.data.success){if(d.data.data.requiresEmailVerification)return{requiresEmailVerification:!0};{const{user:e,tokens:t}=d.data.data;return s(e),i(t.accessToken),l(t.refreshToken),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),localStorage.setItem("user",JSON.stringify(e)),{requiresEmailVerification:!1}}}throw new Error(d.data.message||"Sign up failed")}catch(g){var c,u,m,h;console.error("Sign up error:",g);let e="Sign up failed. Please try again.";if(409===(null===(c=g.response)||void 0===c?void 0:c.status))e="An account with this email already exists.";else if(400===(null===(u=g.response)||void 0===u?void 0:u.status)){var x,p;e=(null===(x=g.response)||void 0===x||null===(p=x.data)||void 0===p?void 0:p.message)||"Invalid sign up data. Please check your information."}else null!==(m=g.response)&&void 0!==m&&null!==(h=m.data)&&void 0!==h&&h.message?e=g.response.data.message:g.message&&(e=g.message);throw new Error(e)}finally{d(!1)}},verifyOTP:async(e,t)=>{d(!0);try{const r=await Ss({email:e,otp:t});if(!r.data.success)throw new Error(r.data.message||"OTP verification failed");{const{user:e,tokens:t}=r.data.data;s(e),t&&(i(t.accessToken),l(t.refreshToken),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken)),localStorage.setItem("user",JSON.stringify(e)),"factory"!==e.role&&"collector"!==e.role||t||setTimeout(()=>{window.location.href="factory"===e.role?"/factory-application":"/collector-application"},100)}}catch(a){var r,n;console.error("OTP verification error:",a);let e="OTP verification failed. Please try again.";throw null!==(r=a.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.message?e=a.response.data.message:a.message&&(e=a.message),new Error(e)}finally{d(!1)}},resendOTP:async e=>{d(!0);try{const t=await Cs({email:e});if(t.data.success)return;throw new Error(t.data.message||"Failed to resend OTP")}catch(s){var t,r;console.error("Resend OTP error:",s);let e="Failed to resend OTP. Please try again.";throw null!==(t=s.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.message?e=s.response.data.message:s.message&&(e=s.message),new Error(e)}finally{d(!1)}},logout:u,refreshAccessToken:async()=>{const e=localStorage.getItem("refreshToken");if(!e)throw new Error("No refresh token available");try{const t=await Ps(e);if(!t.data.success)throw new Error("Token refresh failed");{const{accessToken:e,refreshToken:r}=t.data.data;i(e),l(r),localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",r);const n=await $s.refreshUserData();n&&s(n)}}catch(t){throw console.error("Token refresh error:",t),u(),t}},updateUser:e=>{s(e),localStorage.setItem("user",JSON.stringify(e)),$s.updateCachedData(e)}},children:t})},Ks=()=>{const e=(0,a.useContext)(Gs);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Js=(0,a.createContext)(void 0),Xs=e=>{let{children:t}=e;const[r,s]=(0,a.useState)([]),{user:n}=Ks();(0,a.useEffect)(()=>{if(n){const t="cart_".concat(n.id||n.userId),r=localStorage.getItem(t);if(r)try{s(JSON.parse(r))}catch(e){console.error("Failed to parse cart from localStorage:",e),localStorage.removeItem(t)}}},[n]),(0,a.useEffect)(()=>{if(n&&r.length>=0){const e="cart_".concat(n.id||n.userId);localStorage.setItem(e,JSON.stringify(r))}},[r,n]),(0,a.useEffect)(()=>{n||(s([]),Object.keys(localStorage).forEach(e=>{e.startsWith("cart_")&&localStorage.removeItem(e)}))},[n]);const i=e=>{s(r.filter(t=>t.product.id!==e))},o=Math.round(100*r.reduce((e,t)=>e+t.product.price*t.quantity,0))/100,l=Math.round(r.reduce((e,t)=>e+t.product.tokenPrice*t.quantity,0));return(0,Ys.jsx)(Js.Provider,{value:{cart:r,addToCart:e=>{const t=r.find(t=>t.product.id===e.id);s(t?r.map(t=>t.product.id===e.id?Jt(Jt({},t),{},{quantity:t.quantity+1}):t):[...r,{product:e,quantity:1}])},removeFromCart:i,updateQuantity:(e,t)=>{t<=0?i(e):s(r.map(r=>r.product.id===e?Jt(Jt({},r),{},{quantity:Math.max(1,t)}):r))},clearCart:()=>{s([])},cartTotal:o,tokenTotal:l},children:t})},Zs=()=>{const e=(0,a.useContext)(Js);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e};const en=new class{constructor(){this.baseURL="/collections"}calculateEstimatedTokens(e,t){const r={plastic:10,paper:5,metal:15,glass:8,electronic:20,organic:3,other:2},s={excellent:1.5,good:1.2,fair:1,poor:.7},n=s[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fair"]||s.fair,a=(r[e]||r.other)*t;return Math.max(0,Math.round(a*n))}async createSubmission(e){try{const t=new FormData;t.append("type",e.wasteType),t.append("weight",e.quantity.toString()),t.append("preferredTimeSlot",e.pickupTimeSlot),t.append("pickupDate",e.pickupDate),e.quality&&t.append("quality",e.quality),e.description&&t.append("description",e.description);const r={address:e.pickupAddress,coordinates:null};t.append("location",JSON.stringify(r)),e.images&&e.images.length>0&&e.images.forEach(e=>{t.append("images",e)});return(await bs(()=>Hs.post(this.baseURL,t,{headers:{"Content-Type":"multipart/form-data"}}),3,2e3)).data}catch(r){if(console.error("Waste service error:",r),r.response){var t;const e=(null===(t=r.response.data)||void 0===t?void 0:t.message)||"Failed to create waste submission";throw new Error(e)}throw r.request?new Error("Network error. Please check your connection and try again."):new Error("An unexpected error occurred. Please try again.")}}async getUserSubmissions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2?arguments[2]:void 0;try{const s=new URLSearchParams({page:e.toString(),limit:t.toString()});r&&s.append("status",r);const n=await bs(()=>Hs.get("".concat(this.baseURL,"/user?").concat(s.toString())),3,2e3);if(!n||!n.data)throw new Error("Invalid response received from server");return n.data}catch(l){var s,n,a,i,o;console.error("Get submissions error:",l);const e=(null===(s=l.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||(404===(null===(a=l.response)||void 0===a?void 0:a.status)?"No submissions found":401===(null===(i=l.response)||void 0===i?void 0:i.status)?"Authentication required":403===(null===(o=l.response)||void 0===o?void 0:o.status)?"Not authorized to view submissions":"Failed to fetch submissions");throw new Error(e)}}async getSubmissionById(e){try{return(await bs(()=>Hs.get("".concat(this.baseURL,"/").concat(e)),3,2e3)).data}catch(s){var t,r;throw console.error("Get submission error:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch submission")}}async updateSubmission(e,t){try{return(await bs(()=>Hs.put("".concat(this.baseURL,"/").concat(e),t),3,2e3)).data}catch(n){var r,s;throw console.error("Update submission error:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to update submission")}}async deleteSubmission(e){try{return(await bs(()=>Hs.delete("".concat(this.baseURL,"/").concat(e)),3,2e3)).data}catch(s){var t,r;throw console.error("Delete submission error:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to delete submission")}}async getAvailableCollections(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{const r=new URLSearchParams({status:"requested",page:e.toString(),limit:t.toString()});return(await bs(()=>Hs.get("".concat(this.baseURL,"?").concat(r.toString())),3,2e3)).data}catch(n){var r,s;throw console.error("Get available collections error:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to fetch available collections")}}async getMyAssignedCollections(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{const r=new URLSearchParams({assignedToMe:"true",page:e.toString(),limit:t.toString()});return(await bs(()=>Hs.get("".concat(this.baseURL,"?").concat(r.toString())),3,2e3)).data}catch(n){var r,s;throw console.error("Get assigned collections error:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to fetch assigned collections")}}async assignCollector(e){try{return(await bs(()=>Hs.post("".concat(this.baseURL,"/").concat(e,"/assign")),3,2e3)).data}catch(s){var t,r;throw console.error("Assign collector error:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to assign collector")}}async updateCollectionStatus(e,t,r){try{return(await bs(()=>Hs.put("".concat(this.baseURL,"/").concat(e,"/status"),{status:t,notes:r}),3,2e3)).data}catch(a){var s,n;throw console.error("Update collection status error:",a),new Error((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to update collection status")}}async completeCollection(e,t){try{return(await bs(()=>Hs.post("".concat(this.baseURL,"/").concat(e,"/complete"),t||{}),3,2e3)).data}catch(n){var r,s;throw console.error("Complete collection error:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to complete collection")}}async markAsCollected(e){try{return(await bs(()=>Hs.post("".concat(this.baseURL,"/").concat(e,"/collected")),3,2e3)).data}catch(s){var t,r;throw console.error("Mark as collected error:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to mark collection as collected")}}},tn=en,rn={login:async e=>{const t=await Hs.post("/auth/login",e);if(t.data.success)return t.data.data;throw new Error(t.data.message||"Login failed")},register:async e=>{const t=await Hs.post("/auth/register",e);if(t.data.success)return t.data.data;throw new Error(t.data.message||"Sign up failed")},getCurrentUser:async()=>{const e=await Hs.get("/auth/me");if(e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to get user data")},updateProfile:async e=>{const t=await Hs.put("/auth/profile",e);if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to update profile")},logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/"}},sn=()=>localStorage.getItem("token"),nn=()=>{const e=(()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null})();return(null===e||void 0===e?void 0:e.role)||null};const an=new class{constructor(){this.socket=null,this.reconnectTimer=null,this.pingTimer=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.pingInterval=25e3,this.maxReconnectDelay=3e4,this.messageHandlers=new Map,this.entitySubscriptions=[],this.isConnected=!1,this.isConnecting=!1,this.url=void 0,this.lastHeartbeat=Date.now(),this.reconnectTimeout=null;"wss://ecochain-j1nj.onrender.com".endsWith("/ws")?this.url="wss://ecochain-j1nj.onrender.com":this.url="".concat("wss://ecochain-j1nj.onrender.com","/ws"),"https:"===window.location.protocol&&this.url.startsWith("ws://")&&(this.url=this.url.replace("ws://","wss://"))}connect(){return new Promise((e,t)=>{if(this.isConnecting)return void t(new Error("Connection already in progress"));if(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))return void e();const r=sn();if(r){this.isConnecting=!0;try{this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null);const s="".concat(this.url,"?token=").concat(encodeURIComponent(r));this.socket=new WebSocket(s),this.socket.onopen=()=>{console.log("WebSocket connection established"),this.isConnected=!0,this.isConnecting=!1,this.reconnectAttempts=0,this.lastHeartbeat=Date.now(),this.startPingInterval(),this.entitySubscriptions.length>0&&this.subscribe(this.entitySubscriptions),e()},this.socket.onclose=e=>{this.isConnected=!1,this.isConnecting=!1,console.log("WebSocket connection closed: ".concat(e.code," ").concat(e.reason)),this.clearPingInterval(),1008!==e.code&&1e3!==e.code&&this.reconnectAttempts<this.maxReconnectAttempts?this.scheduleReconnect():this.reconnectAttempts>=this.maxReconnectAttempts&&console.error("Max reconnect attempts reached, stopping reconnection attempts")},this.socket.onerror=e=>{this.isConnecting=!1,console.error("WebSocket error:",e),console.error("WebSocket URL:",s),console.error("Current environment:","production"),console.error("REACT_APP_WS_URL:","wss://ecochain-j1nj.onrender.com"),this.isConnected||t(new Error("Failed to connect to sync service. Check console for details."))},this.socket.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleMessage(t),this.lastHeartbeat=Date.now()}catch(t){console.error("Error parsing WebSocket message:",t)}}}catch(s){this.isConnecting=!1,console.error("Error creating WebSocket connection:",s),t(s)}}else t(new Error("Authentication required"))})}subscribe(e){if(!this.isConnected||!this.socket){const t=[...this.entitySubscriptions,...e];return void(this.entitySubscriptions=Array.from(new Set(t)))}const t=[...this.entitySubscriptions,...e];this.entitySubscriptions=Array.from(new Set(t)),this.socket.send(JSON.stringify({type:"subscribe",entityTypes:this.entitySubscriptions}))}ping(){this.isConnected&&this.socket&&this.socket.send(JSON.stringify({type:"ping",timestamp:Date.now()}))}on(e,t){var r;this.messageHandlers.has(e)||this.messageHandlers.set(e,new Set),null===(r=this.messageHandlers.get(e))||void 0===r||r.add(t)}off(e,t){var r;this.messageHandlers.has(e)&&(null===(r=this.messageHandlers.get(e))||void 0===r||r.delete(t))}isConnectedToServer(){var e;return this.isConnected&&(null===(e=this.socket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN}handleMessage(e){var t,r;this.messageHandlers.has(e.type)&&(null===(t=this.messageHandlers.get(e.type))||void 0===t||t.forEach(t=>{try{t(e)}catch(r){console.error("Error in ".concat(e.type," handler:"),r)}}));this.messageHandlers.has("all")&&(null===(r=this.messageHandlers.get("all"))||void 0===r||r.forEach(t=>{try{t(e)}catch(r){console.error("Error in global message handler:",r)}}))}scheduleReconnect(){this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectAttempts++;const e=Math.min(this.reconnectDelay*Math.pow(1.5,this.reconnectAttempts-1),this.maxReconnectDelay);console.log("Scheduling reconnect attempt ".concat(this.reconnectAttempts," in ").concat(e,"ms")),this.reconnectTimeout=setTimeout(()=>{console.log("Attempting to reconnect (".concat(this.reconnectAttempts,"/").concat(this.maxReconnectAttempts,")")),this.connect().catch(e=>{console.error("Reconnect failed:",e),this.reconnectAttempts<this.maxReconnectAttempts?this.scheduleReconnect():console.error("Max reconnect attempts reached, giving up")})},e)}startPingInterval(){this.clearPingInterval(),this.pingTimer=setInterval(()=>{if(Date.now()-this.lastHeartbeat>6e4)return console.warn("No heartbeat received in 60 seconds, forcing reconnect"),this.disconnect(),void(this.reconnectAttempts<this.maxReconnectAttempts&&this.scheduleReconnect());this.ping()},this.pingInterval)}clearPingInterval(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)}disconnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.clearPingInterval(),this.socket&&(this.socket.close(1e3,"Client disconnecting"),this.socket=null),this.isConnected=!1,this.isConnecting=!1,this.reconnectAttempts=0}},on=an,ln=(0,a.createContext)(void 0);let cn=null,dn=null;const un=e=>{var t;let{children:r}=e;const{user:s}=Ks(),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)({co2Saved:0,treesEquivalent:0,waterSaved:0}),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),h=Array.isArray(n)?n.filter(e=>["requested","scheduled","in_progress"].includes(e.status)):[],x=Array.isArray(n)?n.filter(e=>"completed"===e.status):[],p=(null===s||void 0===s||null===(t=s.ecoWallet)||void 0===t?void 0:t.currentBalance)||0,g=(0,a.useCallback)(async()=>{if(!s)return;const e=Date.now();if(cn&&dn&&e-dn<3e4)return i(cn),void f(cn);d(!0),m(null);try{let s=0;const n=3;for(;s<n;)try{var t;const r=await tn.getUserSubmissions(),s=Array.isArray(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.collections)?r.data.collections:[];cn=s,dn=e,i(s),f(s);break}catch(r){if(s++,s>=n)throw r;await new Promise(e=>setTimeout(e,1e3*Math.pow(2,s)))}}catch(u){console.error("Failed to fetch collection history:",u);const t=u.message||"Failed to load collection history. Please try again later.";m(t),i([])}finally{d(!1)}},[s]),f=e=>{const t=Array.isArray(e)?e:[];let r=0,s=0,n=0;t.forEach(e=>{var t,a;const i=(null===(t=e.collectionDetails)||void 0===t?void 0:t.weight)||0;switch(null===(a=e.collectionDetails)||void 0===a?void 0:a.type){case"plastic":r+=2.5*i,n+=100*i;break;case"paper":r+=1.8*i,s+=.017*i;break;case"glass":r+=.3*i,n+=50*i;break;case"metal":r+=4*i,n+=20*i;break;case"electronics":r+=5*i,n+=30*i;break;default:r+=.5*i}}),l({co2Saved:Math.round(10*r)/10,treesEquivalent:Math.round(10*s)/10,waterSaved:Math.round(n)})};(0,a.useEffect)(()=>{if(!s)return;const e=e=>{"garbage_collection"===e.entityType&&(console.log("Received garbage collection update:",e),g())};return on.on("sync",e),()=>{on.off("sync",e)}},[s,g]),(0,a.useEffect)(()=>{cn=null,dn=null},[null===s||void 0===s?void 0:s.id]),(0,a.useEffect)(()=>{s&&g()},[s,g]);const y={collectionHistory:n,pendingCollections:h,completedCollections:x,totalEcoTokens:p,environmentalImpact:o,refreshCollections:g,refreshUserData:async()=>{try{if(s){const e=await rn.getCurrentUser();console.log("Updated user data:",e)}}catch(u){console.error("Failed to refresh user data:",u)}},loading:c,error:u};return(0,Ys.jsx)(ln.Provider,{value:y,children:r})},mn=()=>{const e=(0,a.useContext)(ln);if(void 0===e)throw new Error("useEcoChain must be used within an EcoChainProvider");return e};var hn=r(119),xn=r.t(hn,2);function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},pn.apply(this,arguments)}function gn(e,t){if(null==e)return{};var r,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const fn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Kh){}new Map;const yn=i.startTransition;xn.flushSync,i.useId;function vn(e){let{basename:t,children:r,future:s,window:n}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:n,v5Compat:!0})&&(o={}),g(function(e,t){let{pathname:r,search:s,hash:n}=e.location;return h("",{pathname:r,search:s,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=s||{},m=a.useCallback(e=>{u&&yn?yn(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(m),[l,m]),a.useEffect(()=>ge(s),[s]),a.createElement(ve,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:s})}const bn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,jn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wn=a.forwardRef(function(e,t){let r,{onClick:s,relative:n,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:m,viewTransition:h}=e,p=gn(e,fn),{basename:g}=a.useContext(G),f=!1;if("string"===typeof u&&jn.test(u)&&(r=u,bn))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=D(t.pathname,g);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:f=!0}catch(Kh){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;X()||d(!1);let{basename:s,navigator:n}=a.useContext(G),{hash:i,pathname:o,search:l}=se(e,{relative:r}),c=o;return"/"!==s&&(c="/"===o?s:z([s,o])),n.createHref({pathname:c,search:l,hash:i})}(u,{relative:n}),v=function(e,t){let{target:r,replace:s,state:n,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),u=se(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==s?s:x(d)===x(u);c(e,{replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,n,r,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:m,relative:n,viewTransition:h});return a.createElement("a",pn({},p,{href:r||y,onClick:f||i?s:function(e){s&&s(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Nn,kn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Nn||(Nn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(kn||(kn={}));function Sn(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Cn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pn=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],En=(e,t)=>{const r=(0,a.forwardRef)((r,s)=>{let{color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d}=r,u=Sn(r,Pn);return(0,a.createElement)("svg",Jt(Jt({ref:s},Cn),{},{width:i,height:i,stroke:n,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]]);var m});return r.displayName="".concat(e),r},Tn=En("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Ln=En("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Mn=En("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),An=En("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),Dn=En("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Rn=En("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Fn=En("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),In=En("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]),On=En("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),zn=En("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Bn=En("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),_n=En("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Un=En("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),qn=En("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Vn=En("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wn=En("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Hn=En("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),$n=En("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yn=En("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Gn=()=>{var e;const{user:t,logout:r,isAuthenticated:s}=Ks(),{cart:n}=Zs(),i=Z(),o=te(),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),x=(0,a.useRef)(null),p=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=()=>h(window.scrollY>10);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,a.useEffect)(()=>{if(d)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e);function e(e){x.current&&!x.current.contains(e.target)&&u(!1)}},[d]),(0,a.useEffect)(()=>{if(l)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e);function e(e){p.current&&!p.current.contains(e.target)&&c(!1)}},[l]),(0,a.useEffect)(()=>{const e=e=>{"Escape"===e.key&&(u(!1),c(!1))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const g=async()=>{try{u(!1),c(!1),await r(),o("/")}catch(e){console.error("Logout error:",e)}};const f=function(){const e=[{to:"/marketplace",label:"Marketplace",icon:Tn}];if(!s)return e;switch(null===t||void 0===t?void 0:t.role){case"admin":return[...e,{to:"/admin-dashboard",label:"Dashboard",icon:Ln},{to:"/admin-dashboard/analytics",label:"Analytics",icon:Mn},{to:"/admin-dashboard/factory",label:"Factory Management",icon:An},{to:"/users",label:"Manage Users",icon:Dn},{to:"/system-config",label:"System Config",icon:Rn},{to:"/connection-test",label:"Connection Test",icon:Rn}];case"factory":return[...e,{to:"/factory-dashboard",label:"Dashboard",icon:An},{to:"/factory-product-management",label:"Products",icon:Fn},{to:"/materials",label:"Materials",icon:In},{to:"/production",label:"Production",icon:Rn},{to:"/factory-orders",label:"Orders",icon:Tn}];case"collector":return[{to:"/collector-dashboard",label:"Dashboard",icon:Ln},{to:"/collections",label:"Collections",icon:In},{to:"/routes",label:"Routes",icon:On},{to:"/earnings",label:"Earnings",icon:zn}];default:return[...e,{to:"/dashboard",label:"Dashboard",icon:Ln},{to:"/orders",label:"My Orders",icon:Tn},{to:"/waste-submission",label:"Submit Waste",icon:Bn},{to:"/wallet",label:"Wallet",icon:_n},{to:"/achievements",label:"Achievements",icon:Un}]}}(),y=()=>{c(e=>!e),u(!1)},v=()=>{u(e=>!e),c(!1)},b=()=>{c(!1),u(!1)},j=(e=>{if(!e||"string"!==typeof e)return null;const t=e.trim();return t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/uploads/")?t:t.includes("/")||t.includes("\\")?"/uploads".concat(t.startsWith("/")?t:"/"+t):"/uploads/profile-images/".concat(t):null})(null===t||void 0===t?void 0:t.profileImage);function w(){const e=n.length;return(0,Ys.jsx)(wn,{to:"/cart",className:"relative p-2 rounded-full bg-green-50 hover:bg-green-100 transition-all text-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",title:"Shopping Cart (".concat(e," items)"),"aria-label":"Shopping Cart with ".concat(e," items"),children:(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)(Tn,{size:20}),e>0&&(0,Ys.jsx)("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold min-w-[20px]",children:e>99?"99+":e})]})})}function N(){var e;return(0,Ys.jsxs)("div",{className:"relative",ref:x,children:[(0,Ys.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",onClick:v,"aria-label":"Open profile menu","aria-expanded":d,"aria-haspopup":"true",children:[j?(0,Ys.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-green-200 shadow-sm flex items-center justify-center bg-white",children:(0,Ys.jsx)("img",{src:j,alt:"Profile",className:"w-full h-full object-cover",onError:e=>{const t=e.target;t.style.display="none",t.parentElement&&(t.parentElement.innerHTML='<div class="w-full h-full rounded-full bg-green-100 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></div>')}})}):(0,Ys.jsx)(qn,{size:20,className:"text-green-600"}),(0,Ys.jsx)("span",{className:"hidden md:inline font-medium text-green-700 max-w-32 truncate",children:null===t||void 0===t?void 0:t.name}),(0,Ys.jsx)(Vn,{size:16,className:"text-green-600 transition-transform duration-200 ".concat(d?"rotate-180":"")})]}),d&&(0,Ys.jsxs)("div",{className:"absolute right-0 mt-2 w-56 rounded-lg shadow-lg bg-white border border-gray-200 z-50 py-1 animate-in slide-in-from-top-2 duration-200",children:[(0,Ys.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[j?(0,Ys.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-green-200 shadow-sm",children:(0,Ys.jsx)("img",{src:j,alt:"Profile",className:"w-full h-full object-cover",onError:e=>{const t=e.target;t.style.display="none",t.parentElement&&(t.parentElement.innerHTML='<div class="w-full h-full rounded-full bg-green-100 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></div>')}})}):(0,Ys.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:(0,Ys.jsx)(qn,{size:16,className:"text-green-600"})}),(0,Ys.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ys.jsx)("p",{className:"font-semibold text-green-700 text-sm truncate",children:null===t||void 0===t?void 0:t.name}),(0,Ys.jsx)("p",{className:"text-xs text-green-600 capitalize",children:null===t||void 0===t?void 0:t.role})]})]})}),(0,Ys.jsx)("div",{className:"px-4 py-2 border-b border-gray-100",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-2 text-green-800",children:[(0,Ys.jsx)(Wn,{size:16,className:"text-green-500"}),(0,Ys.jsxs)("span",{className:"font-semibold text-sm",children:[(null===t||void 0===t||null===(e=t.ecoWallet)||void 0===e?void 0:e.currentBalance)||0," EcoTokens"]})]})}),(0,Ys.jsxs)("div",{className:"py-1",children:[(0,Ys.jsxs)(wn,{to:"/profile",onClick:b,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-green-800 hover:bg-green-50 transition-colors",children:[(0,Ys.jsx)(qn,{size:16}),(0,Ys.jsx)("span",{children:"Profile"})]}),(0,Ys.jsxs)("button",{type:"button",onClick:g,className:"flex items-center gap-3 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[(0,Ys.jsx)(Hn,{size:16}),(0,Ys.jsx)("span",{children:"Logout"})]})]})]})]})}return(0,Ys.jsxs)("nav",{className:"sticky top-0 z-50 w-full transition-all duration-300 border-b ".concat(m?"shadow-lg bg-white/95 backdrop-blur-sm border-gray-200":"bg-white border-gray-100"),role:"navigation","aria-label":"Main navigation",children:[(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)(wn,{to:"/",className:"flex items-center gap-2 text-green-600","aria-label":"EcoChain Home",children:[(0,Ys.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Ys.jsx)(Wn,{className:"h-8 w-8 text-green-500"})}),(0,Ys.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-500 to-blue-400 text-transparent bg-clip-text",children:"EcoChain"})]}),(0,Ys.jsx)("div",{className:"hidden md:flex items-center space-x-1",role:"menubar",children:f.map(e=>{const t=e.icon,r=i.pathname===e.to;return(0,Ys.jsxs)(wn,{to:e.to,role:"menuitem",className:"flex items-center gap-2 px-3 py-2 font-medium text-sm rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ".concat(r?"text-green-600 bg-green-100 shadow-sm":"text-green-700 hover:text-green-600 hover:bg-green-50"),onClick:b,"aria-current":r?"page":void 0,children:[(0,Ys.jsx)(t,{size:18}),(0,Ys.jsx)("span",{children:e.label})]},e.to)})}),(0,Ys.jsxs)("div",{className:"hidden md:flex items-center space-x-3",children:[s&&(0,Ys.jsx)(w,{}),s?(0,Ys.jsx)(N,{}):(0,Ys.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ys.jsx)(wn,{to:"/login",className:"px-4 py-2 rounded-lg border border-green-200 bg-white text-green-700 hover:bg-green-50 font-medium text-sm transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Login"}),(0,Ys.jsx)(wn,{to:"/signup",className:"px-4 py-2 rounded-lg bg-gradient-to-r from-green-500 to-blue-400 text-white shadow-sm hover:from-green-600 hover:to-blue-500 font-medium text-sm transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Sign Up"})]})]}),(0,Ys.jsxs)("div",{className:"md:hidden flex items-center space-x-2",children:[s&&(0,Ys.jsx)(w,{}),(0,Ys.jsx)("button",{onClick:y,className:"p-2 rounded-lg text-green-700 hover:text-green-500 hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors","aria-label":"Toggle mobile menu","aria-expanded":l,"aria-controls":"mobile-menu",children:l?(0,Ys.jsx)($n,{size:24}):(0,Ys.jsx)(Yn,{size:24})})]})]})}),l&&(0,Ys.jsx)("div",{className:"md:hidden fixed inset-0 bg-black/20 backdrop-blur-sm z-40 transition-opacity duration-300",onClick:y,"aria-hidden":"true"}),(0,Ys.jsxs)("div",{ref:p,id:"mobile-menu",className:"md:hidden fixed top-0 right-0 bottom-0 w-80 max-w-[85vw] bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out ".concat(l?"translate-x-0":"translate-x-full"),role:"dialog","aria-modal":"true","aria-label":"Mobile navigation menu",children:[(0,Ys.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)(Wn,{size:24,className:"text-green-500"}),(0,Ys.jsx)("span",{className:"text-green-700 font-bold text-lg",children:"Menu"})]}),(0,Ys.jsx)("button",{onClick:y,className:"p-2 rounded-lg text-green-700 hover:text-green-500 hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors","aria-label":"Close mobile menu",children:(0,Ys.jsx)($n,{size:20})})]}),(0,Ys.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Ys.jsx)("div",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:f.map(e=>{const t=e.icon,r=i.pathname===e.to;return(0,Ys.jsxs)(wn,{to:e.to,className:"flex items-center gap-3 px-4 py-3 text-base font-medium rounded-lg transition-all ".concat(r?"bg-green-100 text-green-700 border-l-4 border-green-500":"text-green-700 hover:bg-green-50"),onClick:b,"aria-current":r?"page":void 0,children:[(0,Ys.jsx)(t,{size:20}),(0,Ys.jsx)("span",{children:e.label})]},e.to)})}),(0,Ys.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s?(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 bg-white rounded-lg",children:[j?(0,Ys.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden border border-green-200 shadow-sm",children:(0,Ys.jsx)("img",{src:j,alt:"Profile",className:"w-full h-full object-cover",onError:e=>{const t=e.target;t.style.display="none",t.parentElement&&(t.parentElement.innerHTML='<div class="w-full h-full rounded-full bg-green-100 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></div>')}})}):(0,Ys.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:(0,Ys.jsx)(qn,{size:20,className:"text-green-600"})}),(0,Ys.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ys.jsx)("div",{className:"text-base font-medium text-green-800 truncate",children:null===t||void 0===t?void 0:t.name}),(0,Ys.jsx)("div",{className:"text-sm text-green-600 capitalize",children:null===t||void 0===t?void 0:t.role})]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 bg-white rounded-lg",children:[(0,Ys.jsx)(Wn,{size:20,className:"text-green-500"}),(0,Ys.jsxs)("span",{className:"font-semibold text-green-700",children:[(null===t||void 0===t||null===(e=t.ecoWallet)||void 0===e?void 0:e.currentBalance)||0," EcoTokens"]})]}),(0,Ys.jsxs)(wn,{to:"/profile",onClick:b,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-green-50 text-green-600 border border-green-200 rounded-lg hover:bg-green-100 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:[(0,Ys.jsx)(qn,{size:20}),(0,Ys.jsx)("span",{children:"Profile Settings"})]}),(0,Ys.jsxs)("button",{onClick:g,className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-red-50 text-red-600 border border-red-200 rounded-lg hover:bg-red-100 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:[(0,Ys.jsx)(Hn,{size:20}),(0,Ys.jsx)("span",{children:"Logout"})]})]}):(0,Ys.jsxs)("div",{className:"space-y-3",children:[(0,Ys.jsx)(wn,{to:"/login",onClick:b,className:"block w-full px-4 py-3 text-center rounded-lg border border-green-200 bg-white text-green-700 hover:bg-green-50 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Login"}),(0,Ys.jsx)(wn,{to:"/signup",onClick:b,className:"block w-full px-4 py-3 text-center rounded-lg bg-gradient-to-r from-green-500 to-blue-400 text-white shadow-sm hover:from-green-600 hover:to-blue-500 font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:"Sign Up"})]})})]})]})]})},Qn=En("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Kn=En("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Jn=En("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Xn=En("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Zn=En("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),ea=En("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),ta=En("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),ra=En("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),sa=En("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),na=En("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),aa=En("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ia=En("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),oa=En("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),la=En("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ca=En("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),da=()=>{const e=[{name:"Home",link:"/",icon:Qn},{name:"Dashboard",link:"/dashboard",icon:Ln},{name:"Marketplace",link:"/marketplace",icon:Tn},{name:"About Us",link:"/about",icon:Kn},{name:"Contact",link:"/contact",icon:Jn}],t=[{name:"Waste Collection",icon:In},{name:"Recycling Process",icon:In},{name:"EcoToken Rewards",icon:Un},{name:"Factory Partnerships",icon:An},{name:"Mobile Application",icon:Xn},{name:"Community Programs",icon:Dn}],r=[{name:"Facebook",icon:Zn,href:"#",color:"hover:text-blue-600"},{name:"Twitter",icon:ea,href:"#",color:"hover:text-blue-400"},{name:"Instagram",icon:ta,href:"#",color:"hover:text-pink-500"},{name:"LinkedIn",icon:ra,href:"#",color:"hover:text-blue-700"}];return(0,Ys.jsx)("footer",{className:"bg-gradient-to-br from-gray-50 to-white border-t border-gray-200",children:(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[(0,Ys.jsxs)("div",{className:"lg:col-span-1",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Ys.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Ys.jsx)(Wn,{className:"h-8 w-8 text-green-500"})}),(0,Ys.jsx)("h3",{className:"text-2xl font-bold",children:(0,Ys.jsx)("span",{className:"bg-gradient-to-r from-green-500 to-blue-400 text-transparent bg-clip-text",children:"EcoChain"})})]}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Revolutionizing waste management through blockchain technology. Turning today's waste into tomorrow's sustainable products."}),(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("h5",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Follow Us"}),(0,Ys.jsx)("div",{className:"flex gap-3",children:r.map(e=>{let{name:t,icon:r,href:s,color:n}=e;return(0,Ys.jsx)("a",{href:s,className:"p-2 rounded-lg bg-gray-100 text-gray-600 ".concat(n," transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"),"aria-label":t,title:t,children:(0,Ys.jsx)(r,{size:18})},t)})})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[(0,Ys.jsx)(sa,{size:18,className:"text-green-500"}),"Quick Links"]}),(0,Ys.jsx)("nav",{children:(0,Ys.jsx)("ul",{className:"space-y-3",children:e.map(e=>{let{name:t,link:r,icon:s}=e;return(0,Ys.jsx)("li",{children:(0,Ys.jsxs)(wn,{to:r,className:"flex items-center gap-3 text-gray-600 hover:text-green-600 transition-colors duration-200 group focus:outline-none focus:text-green-600",children:[(0,Ys.jsx)(s,{size:16,className:"text-gray-400 group-hover:text-green-500 transition-colors"}),(0,Ys.jsx)("span",{className:"group-hover:translate-x-1 transition-transform duration-200",children:t})]})},t)})})})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[(0,Ys.jsx)(na,{size:18,className:"text-green-500"}),"Our Services"]}),(0,Ys.jsx)("ul",{className:"space-y-3",children:t.map(e=>{let{name:t,icon:r}=e;return(0,Ys.jsxs)("li",{className:"flex items-center gap-3 text-gray-600 group",children:[(0,Ys.jsx)("div",{className:"p-1 rounded bg-green-100 group-hover:bg-green-200 transition-colors",children:(0,Ys.jsx)(r,{size:14,className:"text-green-600"})}),(0,Ys.jsx)("span",{className:"group-hover:text-green-600 transition-colors duration-200",children:t})]},t)})})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[(0,Ys.jsx)(Jn,{size:18,className:"text-green-500"}),"Get In Touch"]}),(0,Ys.jsxs)("ul",{className:"space-y-4 mb-8",children:[(0,Ys.jsxs)("li",{className:"flex items-start gap-3 text-gray-600",children:[(0,Ys.jsx)(aa,{size:18,className:"text-green-500 mt-0.5 flex-shrink-0"}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-800",children:"Address"}),(0,Ys.jsxs)("div",{className:"text-sm",children:["123 Green Street",(0,Ys.jsx)("br",{}),"Eco City, EC 12345"]})]})]}),(0,Ys.jsxs)("li",{className:"flex items-center gap-3 text-gray-600",children:[(0,Ys.jsx)(ia,{size:18,className:"text-green-500 flex-shrink-0"}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-800",children:"Phone"}),(0,Ys.jsx)("a",{href:"tel:+11234567890",className:"text-sm hover:text-green-600 transition-colors",children:"+1 (123) 456-7890"})]})]}),(0,Ys.jsxs)("li",{className:"flex items-center gap-3 text-gray-600",children:[(0,Ys.jsx)(oa,{size:18,className:"text-green-500 flex-shrink-0"}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-800",children:"Email"}),(0,Ys.jsx)("a",{href:"mailto:info@ecochain.com",className:"text-sm hover:text-green-600 transition-colors",children:"info@ecochain.com"})]})]}),(0,Ys.jsxs)("li",{className:"flex items-center gap-3 text-gray-600",children:[(0,Ys.jsx)(la,{size:18,className:"text-green-500 flex-shrink-0"}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-800",children:"Hours"}),(0,Ys.jsx)("div",{className:"text-sm",children:"Mon-Fri: 9AM - 6PM"})]})]})]})]})]}),(0,Ys.jsx)("div",{className:"border-t border-gray-200 ",children:(0,Ys.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-6",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,Ys.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," EcoChain. All rights reserved."]}),(0,Ys.jsxs)("div",{className:"hidden lg:flex items-center gap-2 text-green-600",children:[(0,Ys.jsx)(Wn,{size:14}),(0,Ys.jsx)("span",{className:"text-xs",children:"Powered by sustainable technology"})]})]}),(0,Ys.jsx)("nav",{className:"flex flex-wrap justify-center gap-6 text-sm",children:["Privacy Policy","Terms of Service","Cookie Policy","Sustainability Report"].map(e=>(0,Ys.jsxs)("a",{href:"#",className:"text-gray-600 hover:text-green-600 transition-colors duration-200 flex items-center gap-1 group focus:outline-none focus:text-green-600",children:[(0,Ys.jsx)("span",{children:e}),(0,Ys.jsx)(ca,{size:12,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]},e))})]})})]})})},ua=e=>{let{element:t,allowedRoles:r=[]}=e;const{isAuthenticated:s,user:n,isLoading:a}=Ks();if(a)return(0,Ys.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-white bg-opacity-80 z-50",children:(0,Ys.jsxs)("div",{className:"flex flex-col items-center p-6 rounded-xl bg-white shadow-lg border border-gray-100",children:[(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 rounded-full border-4 border-green-100 flex items-center justify-center animate-pulse",children:(0,Ys.jsx)("span",{className:"text-3xl",children:"\ud83c\udf31"})}),(0,Ys.jsx)("div",{className:"absolute inset-0 rounded-full border-t-4 border-green-500 animate-spin"})]}),(0,Ys.jsx)("p",{className:"mt-4 text-green-800 font-medium",children:"Loading..."})]})});if(!s)return(0,Ys.jsx)(fe,{to:"/login",replace:!0});if(r.length>0&&n&&!r.includes(n.role)){const e={admin:"/admin-dashboard",factory:"/factory-dashboard",collector:"/collector-dashboard",user:"/dashboard"}[n.role]||"/dashboard";return(0,Ys.jsx)(fe,{to:e,replace:!0})}return t};class ma extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),this.setState({hasError:!0,error:e,errorInfo:t})}render(){return this.state.hasError?(0,Ys.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Oops, something went wrong!"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-4",children:"We're sorry, but an unexpected error occurred. Please try refreshing the page."}),this.state.error&&(0,Ys.jsxs)("details",{className:"mt-4 text-left bg-gray-100 p-4 rounded",children:[(0,Ys.jsx)("summary",{className:"font-semibold text-gray-700 cursor-pointer",children:"Error details"}),(0,Ys.jsx)("pre",{className:"mt-2 text-sm text-red-500 whitespace-pre-wrap",children:this.state.error.toString()})]}),(0,Ys.jsx)("div",{className:"mt-6",children:(0,Ys.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors",children:"Reload Page"})})]})})}):this.props.children}}const ha=ma,xa=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),pa=(0,a.createContext)({}),ga=(0,a.createContext)({strict:!1}),fa=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ya="data-"+fa("framerAppearId");function va(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ba(e){return"string"===typeof e||Array.isArray(e)}function ja(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const wa=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Na=["initial",...wa];function ka(e){return ja(e.animate)||Na.some(t=>ba(e[t]))}function Sa(e){return Boolean(ka(e)||e.variants)}function Ca(e){const{initial:t,animate:r}=function(e,t){if(ka(e)){const{initial:t,animate:r}=e;return{initial:!1===t||ba(t)?t:void 0,animate:ba(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(pa));return(0,a.useMemo)(()=>({initial:t,animate:r}),[Pa(t),Pa(r)])}function Pa(e){return Array.isArray(e)?e.join(" "):e}const Ea={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ta={};for(const Xh in Ea)Ta[Xh]={isEnabled:e=>Ea[Xh].some(t=>!!e[t])};const La=(0,a.createContext)({}),Ma=Symbol.for("motionComponentSymbol");function Aa(e){let{preloadedFeatures:t,createVisualElement:r,useRender:s,useVisualState:n,Component:i}=e;t&&function(e){for(const t in e)Ta[t]=Jt(Jt({},Ta[t]),e[t])}(t);const o=(0,a.forwardRef)(function(e,o){let l;const c=Jt(Jt(Jt({},(0,a.useContext)(xa)),e),{},{layoutId:Da(e)}),{isStatic:d}=c,u=Ca(e),m=n(e,d);if(!d&&we){u.visualElement=function(e,t,r,s){const{visualElement:n}=(0,a.useContext)(pa),i=(0,a.useContext)(ga),o=(0,a.useContext)(Ae),l=(0,a.useContext)(xa).reducedMotion,c=(0,a.useRef)();s=s||i.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:n,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const d=c.current;(0,a.useInsertionEffect)(()=>{d&&d.update(r,o)});const u=(0,a.useRef)(Boolean(r[ya]&&!window.HandoffComplete));return Ne(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),(0,a.useEffect)(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}(i,m,c,r);const e=(0,a.useContext)(La),s=(0,a.useContext)(ga).strict;u.visualElement&&(l=u.visualElement.loadFeatures(c,s,t,e))}return a.createElement(pa.Provider,{value:u},l&&u.visualElement?a.createElement(l,Jt({visualElement:u.visualElement},c)):null,s(i,e,function(e,t,r){return(0,a.useCallback)(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),r&&("function"===typeof r?r(s):va(r)&&(r.current=s))},[t])}(m,u.visualElement,o),m,d,u.visualElement))});return o[Ma]=i,o}function Da(e){let{layoutId:t}=e;const r=(0,a.useContext)(ze).id;return r&&void 0!==t?r+"-"+t:t}function Ra(e){function t(t){return Aa(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const r=new Map;return new Proxy(t,{get:(e,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const Fa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ia(e){return"string"===typeof e&&!e.includes("-")&&!!(Fa.indexOf(e)>-1||/[A-Z]/.test(e))}const Oa={};const za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ba=new Set(za);function _a(e,t){let{layout:r,layoutId:s}=t;return Ba.has(e)||e.startsWith("origin")||(r||void 0!==s)&&(!!Oa[e]||"opacity"===e)}const Ua=e=>Boolean(e&&e.getVelocity),qa={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Va=za.length;const Wa=e=>t=>"string"===typeof t&&t.startsWith(e),Ha=Wa("--"),$a=Wa("var(--"),Ya=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ga=(e,t,r)=>Math.min(Math.max(r,e),t),Qa={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Ka=Jt(Jt({},Qa),{},{transform:e=>Ga(0,1,e)}),Ja=Jt(Jt({},Qa),{},{default:1}),Xa=e=>Math.round(1e5*e)/1e5,Za=/(-)?([\d]*\.?[\d])+/g,ei=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ti=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ri(e){return"string"===typeof e}const si=e=>({test:t=>ri(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ni=si("deg"),ai=si("%"),ii=si("px"),oi=si("vh"),li=si("vw"),ci=Jt(Jt({},ai),{},{parse:e=>ai.parse(e)/100,transform:e=>ai.transform(100*e)}),di=Jt(Jt({},Qa),{},{transform:Math.round}),ui={borderWidth:ii,borderTopWidth:ii,borderRightWidth:ii,borderBottomWidth:ii,borderLeftWidth:ii,borderRadius:ii,radius:ii,borderTopLeftRadius:ii,borderTopRightRadius:ii,borderBottomRightRadius:ii,borderBottomLeftRadius:ii,width:ii,maxWidth:ii,height:ii,maxHeight:ii,size:ii,top:ii,right:ii,bottom:ii,left:ii,padding:ii,paddingTop:ii,paddingRight:ii,paddingBottom:ii,paddingLeft:ii,margin:ii,marginTop:ii,marginRight:ii,marginBottom:ii,marginLeft:ii,rotate:ni,rotateX:ni,rotateY:ni,rotateZ:ni,scale:Ja,scaleX:Ja,scaleY:Ja,scaleZ:Ja,skew:ni,skewX:ni,skewY:ni,distance:ii,translateX:ii,translateY:ii,translateZ:ii,x:ii,y:ii,z:ii,perspective:ii,transformPerspective:ii,opacity:Ka,originX:ci,originY:ci,originZ:ii,zIndex:di,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:di};function mi(e,t,r,s){const{style:n,vars:a,transform:i,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const u in t){const e=t[u];if(Ha(u)){a[u]=e;continue}const r=ui[u],s=Ya(e,r);if(Ba.has(u)){if(l=!0,i[u]=s,!d)continue;e!==(r.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,o[u]=s):n[u]=s}if(t.transform||(l||s?n.transform=function(e,t,r,s){let{enableHardwareAcceleration:n=!0,allowTransformNone:a=!0}=t,i="";for(let o=0;o<Va;o++){const t=za[o];void 0!==e[t]&&(i+="".concat(qa[t]||t,"(").concat(e[t],") "))}return n&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):a&&r&&(i="none"),i}(e.transform,r,d,s):n.transform&&(n.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:r=0}=o;n.transformOrigin="".concat(e," ").concat(t," ").concat(r)}}const hi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xi(e,t,r){for(const s in t)Ua(t[s])||_a(s,r)||(e[s]=t[s])}function pi(e,t,r){const s={};return xi(s,e.style||{},e),Object.assign(s,function(e,t,r){let{transformTemplate:s}=e;return(0,a.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return mi(e,t,{enableHardwareAcceleration:!r},s),Object.assign({},e.vars,e.style)},[t])}(e,t,r)),e.transformValues?e.transformValues(s):s}function gi(e,t,r){const s={},n=pi(e,t,r);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const fi=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yi(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fi.has(e)}let vi=e=>!yi(e);try{(bi=require("@emotion/is-prop-valid").default)&&(vi=e=>e.startsWith("on")?!yi(e):bi(e))}catch(Jh){}var bi;function ji(e,t,r){return"string"===typeof e?e:ii.transform(t+r*e)}const wi={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ni={offset:"strokeDashoffset",array:"strokeDasharray"};const ki=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Si(e,t,r,s,n){let{attrX:a,attrY:i,attrScale:o,originX:l,originY:c,pathLength:d,pathSpacing:u=1,pathOffset:m=0}=t;if(mi(e,Sn(t,ki),r,n),s)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:x,dimensions:p}=e;h.transform&&(p&&(x.transform=h.transform),delete h.transform),p&&(void 0!==l||void 0!==c||x.transform)&&(x.transformOrigin=function(e,t,r){const s=ji(t,e.x,e.width),n=ji(r,e.y,e.height);return"".concat(s," ").concat(n)}(p,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==a&&(h.x=a),void 0!==i&&(h.y=i),void 0!==o&&(h.scale=o),void 0!==d&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=n?wi:Ni;e[a.offset]=ii.transform(-s);const i=ii.transform(t),o=ii.transform(r);e[a.array]="".concat(i," ").concat(o)}(h,d,u,m,!1)}const Ci=()=>Jt(Jt({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Pi=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Ei(e,t,r,s){const n=(0,a.useMemo)(()=>{const r=Ci();return Si(r,t,{enableHardwareAcceleration:!1},Pi(s),e.transformTemplate),Jt(Jt({},r.attrs),{},{style:Jt({},r.style)})},[t]);if(e.style){const t={};xi(t,e.style,e),n.style=Jt(Jt({},t),n.style)}return n}function Ti(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,r,s,n,i)=>{let{latestValues:o}=n;const l=(Ia(t)?Ei:gi)(r,o,i,t),c=function(e,t,r){const s={};for(const n in e)"values"===n&&"object"===typeof e.values||(vi(n)||!0===r&&yi(n)||!t&&!yi(n)||e.draggable&&n.startsWith("onDrag"))&&(s[n]=e[n]);return s}(r,"string"===typeof t,e),d=Jt(Jt(Jt({},c),l),{},{ref:s}),{children:u}=r,m=(0,a.useMemo)(()=>Ua(u)?u.get():u,[u]);return(0,a.createElement)(t,Jt(Jt({},d),{},{children:m}))}}function Li(e,t,r,s){let{style:n,vars:a}=t;Object.assign(e.style,n,s&&s.getProjectionStyles(r));for(const i in a)e.style.setProperty(i,a[i])}const Mi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ai(e,t,r,s){Li(e,t,void 0,s);for(const n in t.attrs)e.setAttribute(Mi.has(n)?n:fa(n),t.attrs[n])}function Di(e,t){const{style:r}=e,s={};for(const n in r)(Ua(r[n])||t.style&&Ua(t.style[n])||_a(n,e))&&(s[n]=r[n]);return s}function Ri(e,t){const r=Di(e,t);for(const s in e)if(Ua(e[s])||Ua(t[s])){r[-1!==za.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}function Fi(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==r?r:e.custom,s,n)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==r?r:e.custom,s,n)),t}const Ii=e=>Array.isArray(e),Oi=e=>Ii(e)?e[e.length-1]||0:e;function zi(e){const t=Ua(e)?e.get():e;return r=t,Boolean(r&&"object"===typeof r&&r.mix&&r.toValue)?t.toValue():t;var r}const Bi=["transitionEnd","transition"];const _i=e=>(t,r)=>{const s=(0,a.useContext)(pa),n=(0,a.useContext)(Ae),i=()=>function(e,t,r,s){let{scrapeMotionValuesFromProps:n,createRenderState:a,onMount:i}=e;const o={latestValues:Ui(t,r,s,n),renderState:a()};return i&&(o.mount=e=>i(t,e,o)),o}(e,t,s,n);return r?i():De(i)};function Ui(e,t,r,s){const n={},a=s(e,{});for(const m in a)n[m]=zi(a[m]);let{initial:i,animate:o}=e;const l=ka(e),c=Sa(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!r&&!1===r.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!==typeof u&&!ja(u)){(Array.isArray(u)?u:[u]).forEach(t=>{const r=Fi(e,t);if(!r)return;const{transitionEnd:s,transition:a}=r,i=Sn(r,Bi);for(const e in i){let t=i[e];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(n[e]=t)}for(const e in s)n[e]=s[e]})}return n}const qi={useVisualState:_i({scrapeMotionValuesFromProps:Ri,createRenderState:Ci,onMount:(e,t,r)=>{let{renderState:s,latestValues:n}=r;Ee.read(()=>{try{s.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Kh){s.dimensions={x:0,y:0,width:0,height:0}}}),Ee.render(()=>{Si(s,n,{enableHardwareAcceleration:!1},Pi(t.tagName),e.transformTemplate),Ai(t,s)})}})},Vi={useVisualState:_i({scrapeMotionValuesFromProps:Di,createRenderState:hi})};function Wi(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}const Hi=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function $i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Yi(e,t,r,s){return Wi(e,t,(e=>t=>Hi(t)&&e(t,$i(t)))(r),s)}const Gi=(e,t)=>r=>t(e(r)),Qi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(Gi)};function Ki(e){let t=null;return()=>{const r=()=>{t=null};return null===t&&(t=e,r)}}const Ji=Ki("dragHorizontal"),Xi=Ki("dragVertical");function Zi(e){let t=!1;if("y"===e)t=Xi();else if("x"===e)t=Ji();else{const e=Ji(),r=Xi();e&&r?t=()=>{e(),r()}:(e&&e(),r&&r())}return t}function eo(){const e=Zi(!0);return!e||(e(),!1)}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ro(e,t){const r="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End");return Yi(e.current,r,(r,n)=>{if("touch"===r.pointerType||eo())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[s]&&Ee.update(()=>a[s](r,n))},{passive:!e.getProps()[s]})}const so=(e,t)=>!!t&&(e===t||so(e,t.parentElement));function no(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,$i(r))}const ao=["root"],io=new WeakMap,oo=new WeakMap,lo=e=>{const t=io.get(e.target);t&&t(e)},co=e=>{e.forEach(lo)};function uo(e,t,r){const s=function(e){let{root:t}=e,r=Sn(e,ao);const s=t||document;oo.has(s)||oo.set(s,{});const n=oo.get(s),a=JSON.stringify(r);return n[a]||(n[a]=new IntersectionObserver(co,Jt({root:t},r))),n[a]}(t);return io.set(e,r),s.observe(e),()=>{io.delete(e),s.unobserve(e)}}const mo={some:0,all:1};const ho={inView:{Feature:class extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:n}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:"number"===typeof s?s:mo[s]};return uo(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,n&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:s}=this.node.getProps(),a=t?r:s;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,r=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==r[e]}(e,t));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends to{constructor(){super(...arguments),this.removeStartListeners=Se,this.removeEndListeners=Se,this.removeAccessibleListeners=Se,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Yi(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:r,onTapCancel:s,globalTapTarget:n}=this.node.getProps();Ee.update(()=>{n||so(this.node.current,e.target)?r&&r(e,t):s&&s(e,t)})},{passive:!(r.onTap||r.onPointerUp)}),n=Yi(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qi(s,n),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Wi(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Wi(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&no("up",(e,t)=>{const{onTap:r}=this.node.getProps();r&&Ee.update(()=>r(e,t))})}),no("down",(e,t)=>{this.startPress(e,t)})}),t=Wi(this.node.current,"blur",()=>{this.isPressing&&no("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=Qi(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ee.update(()=>r(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!eo()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ee.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Yi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Wi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qi(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Kh){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qi(Wi(this.node.current,"focus",()=>this.onFocus()),Wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends to{mount(){this.unmount=Qi(ro(this.node,!0),ro(this.node,!1))}unmount(){}}}};function xo(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}function po(e,t,r){const s=e.getProps();return Fi(s,t,void 0!==r?r:s.custom,function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.getVelocity()),t}(e))}const go=e=>1e3*e,fo=e=>e/1e3,yo=!1,vo=e=>Array.isArray(e)&&"number"===typeof e[0];function bo(e){return Boolean(!e||"string"===typeof e&&wo[e]||vo(e)||Array.isArray(e)&&e.every(bo))}const jo=e=>{let[t,r,s,n]=e;return"cubic-bezier(".concat(t,", ").concat(r,", ").concat(s,", ").concat(n,")")},wo={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jo([0,.65,.55,1]),circOut:jo([.55,0,1,.45]),backIn:jo([.31,.01,.66,-.59]),backOut:jo([.33,1.53,.69,.99])};function No(e){if(e)return vo(e)?jo(e):Array.isArray(e)?e.map(No):wo[e]}const ko=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function So(e,t,r,s){if(e===t&&r===s)return Se;const n=t=>function(e,t,r,s,n){let a,i,o=0;do{i=t+(r-t)/2,a=ko(i,s,n)-e,a>0?r=i:t=i}while(Math.abs(a)>1e-7&&++o<12);return i}(t,0,1,e,r);return e=>0===e||1===e?e:ko(n(e),t,s)}const Co=So(.42,0,1,1),Po=So(0,0,.58,1),Eo=So(.42,0,.58,1),To=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Lo=e=>t=>1-e(1-t),Mo=e=>1-Math.sin(Math.acos(e)),Ao=Lo(Mo),Do=To(Mo),Ro=So(.33,1.53,.69,.99),Fo=Lo(Ro),Io=To(Fo),Oo={linear:Se,easeIn:Co,easeInOut:Eo,easeOut:Po,circIn:Mo,circInOut:Do,circOut:Ao,backIn:Fo,backInOut:Io,backOut:Ro,anticipate:e=>(e*=2)<1?.5*Fo(e):.5*(2-Math.pow(2,-10*(e-1)))},zo=e=>{if(Array.isArray(e)){_e(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,r,s,n]=e;return So(t,r,s,n)}return"string"===typeof e?(_e(void 0!==Oo[e],"Invalid easing type '".concat(e,"'")),Oo[e]):e},Bo=(e,t)=>r=>Boolean(ri(r)&&ti.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),_o=(e,t,r)=>s=>{if(!ri(s))return s;const[n,a,i,o]=s.match(Za);return{[e]:parseFloat(n),[t]:parseFloat(a),[r]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},Uo=Jt(Jt({},Qa),{},{transform:e=>Math.round((e=>Ga(0,255,e))(e))}),qo={test:Bo("rgb","red"),parse:_o("red","green","blue"),transform:e=>{let{red:t,green:r,blue:s,alpha:n=1}=e;return"rgba("+Uo.transform(t)+", "+Uo.transform(r)+", "+Uo.transform(s)+", "+Xa(Ka.transform(n))+")"}};const Vo={test:Bo("#"),parse:function(e){let t="",r="",s="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,s+=s,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}},transform:qo.transform},Wo={test:Bo("hsl","hue"),parse:_o("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:r,lightness:s,alpha:n=1}=e;return"hsla("+Math.round(t)+", "+ai.transform(Xa(r))+", "+ai.transform(Xa(s))+", "+Xa(Ka.transform(n))+")"}},Ho={test:e=>qo.test(e)||Vo.test(e)||Wo.test(e),parse:e=>qo.test(e)?qo.parse(e):Wo.test(e)?Wo.parse(e):Vo.parse(e),transform:e=>ri(e)?e:e.hasOwnProperty("red")?qo.transform(e):Wo.transform(e)},$o=(e,t,r)=>-r*e+r*t+e;function Yo(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}const Go=(e,t,r)=>{const s=e*e;return Math.sqrt(Math.max(0,r*(t*t-s)+s))},Qo=[Vo,qo,Wo];function Ko(e){const t=(r=e,Qo.find(e=>e.test(r)));var r;_e(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let s=t.parse(e);return t===Wo&&(s=function(e){let{hue:t,saturation:r,lightness:s,alpha:n}=e;t/=360,r/=100,s/=100;let a=0,i=0,o=0;if(r){const e=s<.5?s*(1+r):s+r-s*r,n=2*s-e;a=Yo(n,e,t+1/3),i=Yo(n,e,t),o=Yo(n,e,t-1/3)}else a=i=o=s;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*o),alpha:n}}(s)),s}const Jo=(e,t)=>{const r=Ko(e),s=Ko(t),n=Jt({},r);return e=>(n.red=Go(r.red,s.red,e),n.green=Go(r.green,s.green,e),n.blue=Go(r.blue,s.blue,e),n.alpha=$o(r.alpha,s.alpha,e),qo.transform(n))};const Xo={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Se},Zo={regex:ei,countKey:"Colors",token:"${c}",parse:Ho.parse},el={regex:Za,countKey:"Numbers",token:"${n}",parse:Qa.parse};function tl(e,t){let{regex:r,countKey:s,token:n,parse:a}=t;const i=e.tokenised.match(r);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(r,n),e.values.push(...i.map(a)))}function rl(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&tl(r,Xo),tl(r,Zo),tl(r,el),r}function sl(e){return rl(e).values}function nl(e){const{values:t,numColors:r,numVars:s,tokenised:n}=rl(e),a=t.length;return e=>{let t=n;for(let n=0;n<a;n++)t=n<s?t.replace(Xo.token,e[n]):n<s+r?t.replace(Zo.token,Ho.transform(e[n])):t.replace(el.token,Xa(e[n]));return t}}const al=e=>"number"===typeof e?0:e;const il={test:function(e){var t,r;return isNaN(e)&&ri(e)&&((null===(t=e.match(Za))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(ei))||void 0===r?void 0:r.length)||0)>0},parse:sl,createTransformer:nl,getAnimatableNone:function(e){const t=sl(e);return nl(e)(t.map(al))}},ol=(e,t)=>r=>"".concat(r>0?t:e);function ll(e,t){return"number"===typeof e?r=>$o(e,t,r):Ho.test(e)?Jo(e,t):e.startsWith("var(")?ol(e,t):ul(e,t)}const cl=(e,t)=>{const r=[...e],s=r.length,n=e.map((e,r)=>ll(e,t[r]));return e=>{for(let t=0;t<s;t++)r[t]=n[t](e);return r}},dl=(e,t)=>{const r=Jt(Jt({},e),t),s={};for(const n in r)void 0!==e[n]&&void 0!==t[n]&&(s[n]=ll(e[n],t[n]));return e=>{for(const t in s)r[t]=s[t](e);return r}},ul=(e,t)=>{const r=il.createTransformer(t),s=rl(e),n=rl(t);return s.numVars===n.numVars&&s.numColors===n.numColors&&s.numNumbers>=n.numNumbers?Qi(cl(s.values,n.values),r):(Be(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),ol(e,t))},ml=(e,t,r)=>{const s=t-e;return 0===s?1:(r-e)/s},hl=(e,t)=>r=>$o(e,t,r);function xl(e,t,r){const s=[],n=r||("number"===typeof(a=e[0])?hl:"string"===typeof a?Ho.test(a)?Jo:ul:Array.isArray(a)?cl:"object"===typeof a?dl:hl);var a;const i=e.length-1;for(let o=0;o<i;o++){let r=n(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Se:t;r=Qi(e,r)}s.push(r)}return s}function pl(e,t){let{clamp:r=!0,ease:s,mixer:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(_e(a===t.length,"Both input and output ranges must be the same length"),1===a)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=xl(t,s,n),o=i.length,l=t=>{let r=0;if(o>1)for(;r<e.length-2&&!(t<e[r+1]);r++);const s=ml(e[r],e[r+1],t);return i[r](s)};return r?t=>l(Ga(e[0],e[a-1],t)):l}function gl(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const n=ml(0,t,s);e.push($o(r,1,n))}}(t,e.length-1),t}function fl(e){let{duration:t=300,keyframes:r,times:s,ease:n="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(n)?n.map(zo):zo(n),i={done:!1,value:r[0]},o=function(e,t){return e.map(e=>e*t)}(s&&s.length===r.length?s:gl(r),t),l=pl(o,r,{ease:Array.isArray(a)?a:(c=r,d=a,c.map(()=>d||Eo).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}function yl(e,t){return t?e*(1e3/t):0}function vl(e,t,r){const s=Math.max(t-5,0);return yl(r-e(s),t-s)}const bl=.001;function jl(e){let t,r,{duration:s=800,bounce:n=.25,velocity:a=0,mass:i=1}=e;Be(s<=go(10),"Spring duration must be 10 seconds or less");let o=1-n;o=Ga(.05,1,o),s=Ga(.01,10,fo(s)),o<1?(t=e=>{const t=e*o,r=t*s,n=t-a,i=Nl(e,o),l=Math.exp(-r);return bl-n/i*l},r=e=>{const r=e*o*s,n=r*a+a,i=Math.pow(o,2)*Math.pow(e,2)*s,l=Math.exp(-r),c=Nl(Math.pow(e,2),o);return(-t(e)+bl>0?-1:1)*((n-i)*l)/c}):(t=e=>Math.exp(-e*s)*((e-a)*s+1)-.001,r=e=>Math.exp(-e*s)*(s*s*(a-e)));const l=function(e,t,r){let s=r;for(let n=1;n<wl;n++)s-=e(s)/t(s);return s}(t,r,5/s);if(s=go(s),isNaN(l))return{stiffness:100,damping:10,duration:s};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*o*Math.sqrt(i*e),duration:s}}}const wl=12;function Nl(e,t){return e*Math.sqrt(1-t*t)}const kl=["keyframes","restDelta","restSpeed"],Sl=["duration","bounce"],Cl=["stiffness","damping","mass"];function Pl(e,t){return t.some(t=>void 0!==e[t])}function El(e){let{keyframes:t,restDelta:r,restSpeed:s}=e,n=Sn(e,kl);const a=t[0],i=t[t.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:h}=function(e){let t=Jt({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Pl(e,Cl)&&Pl(e,Sl)){const r=jl(e);t=Jt(Jt(Jt({},t),r),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(Jt(Jt({},n),{},{velocity:-fo(n.velocity||0)})),x=m||0,p=c/(2*Math.sqrt(l*d)),g=i-a,f=fo(Math.sqrt(l/d)),y=Math.abs(g)<5;let v;if(s||(s=y?.01:2),r||(r=y?.005:.5),p<1){const e=Nl(f,p);v=t=>{const r=Math.exp(-p*f*t);return i-r*((x+p*f*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===p)v=e=>i-Math.exp(-f*e)*(g+(x+f*g)*e);else{const e=f*Math.sqrt(p*p-1);v=t=>{const r=Math.exp(-p*f*t),s=Math.min(e*t,300);return i-r*((x+p*f*g)*Math.sinh(s)+e*g*Math.cosh(s))/e}}return{calculatedDuration:h&&u||null,next:e=>{const t=v(e);if(h)o.done=e>=u;else{let n=x;0!==e&&(n=p<1?vl(v,e,t):0);const a=Math.abs(n)<=s,l=Math.abs(i-t)<=r;o.done=a&&l}return o.value=o.done?i:t,o}}}function Tl(e){let{keyframes:t,velocity:r=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const m=t[0],h={done:!1,value:m},x=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let p=s*r;const g=m+p,f=void 0===o?g:o(g);f!==g&&(p=f-m);const y=e=>-p*Math.exp(-e/n),v=e=>f+y(e),b=e=>{const t=y(e),r=v(e);h.done=Math.abs(t)<=d,h.value=h.done?f:r};let j,w;const N=e=>{var t;(t=h.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(j=e,w=El({keyframes:[h.value,x(h.value)],velocity:vl(v,e,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==j||(t=!0,b(e),N(e)),void 0!==j&&e>j?w.next(e-j):(!t&&b(e),h)}}}const Ll=e=>{const t=t=>{let{timestamp:r}=t;return e(r)};return{start:()=>Ee.update(t,!0),stop:()=>Te(t),now:()=>Le.isProcessing?Le.timestamp:performance.now()}};function Ml(e){let t=0;let r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}const Al=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Dl={decay:Tl,inertia:Tl,tween:fl,keyframes:fl,spring:El};function Rl(e){let t,r,{autoplay:s=!0,delay:n=0,driver:a=Ll,keyframes:i,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:d="loop",onPlay:u,onStop:m,onComplete:h,onUpdate:x}=e,p=Sn(e,Al),g=1,f=!1;const y=()=>{r=new Promise(e=>{t=e})};let v;y();const b=Dl[o]||fl;let j;b!==fl&&"number"!==typeof i[0]&&(j=pl([0,100],i,{clamp:!1}),i=[0,100]);const w=b(Jt(Jt({},p),{},{keyframes:i}));let N;"mirror"===d&&(N=b(Jt(Jt({},p),{},{keyframes:[...i].reverse(),velocity:-(p.velocity||0)})));let k="idle",S=null,C=null,P=null;null===w.calculatedDuration&&l&&(w.calculatedDuration=Ml(w));const{calculatedDuration:E}=w;let T=1/0,L=1/0;null!==E&&(T=E+c,L=T*(l+1)-c);let M=0;const A=e=>{if(null===C)return;g>0&&(C=Math.min(C,e)),g<0&&(C=Math.min(e-L/g,C)),M=null!==S?S:Math.round(e-C)*g;const t=M-n*(g>=0?1:-1),r=g>=0?t<0:t>L;M=Math.max(t,0),"finished"===k&&null===S&&(M=L);let s=M,a=w;if(l){const e=Math.min(M,L)/T;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===d?(r=1-r,c&&(r-=c/T)):"mirror"===d&&(a=N)),s=Ga(0,1,r)*T}const o=r?{done:!1,value:i[0]}:a.next(s);j&&(o.value=j(o.value));let{done:u}=o;r||null===E||(u=g>=0?M>=L:M<=0);const m=null===S&&("finished"===k||"running"===k&&u);return x&&x(o.value),m&&F(),o},D=()=>{v&&v.stop(),v=void 0},R=()=>{k="idle",D(),t(),y(),C=P=null},F=()=>{k="finished",h&&h(),D(),t()},I=()=>{if(f)return;v||(v=a(A));const e=v.now();u&&u(),null!==S?C=e-S:C&&"finished"!==k||(C=e),"finished"===k&&y(),P=C,S=null,k="running",v.start()};s&&I();const O={then:(e,t)=>r.then(e,t),get time(){return fo(M)},set time(e){e=go(e),M=e,null===S&&v&&0!==g?C=v.now()-e/g:S=e},get duration(){const e=null===w.calculatedDuration?Ml(w):w.calculatedDuration;return fo(e)},get speed(){return g},set speed(e){e!==g&&v&&(g=e,O.time=fo(M))},get state(){return k},play:I,pause:()=>{k="paused",S=M},stop:()=>{f=!0,"idle"!==k&&(k="idle",m&&m(),R())},cancel:()=>{null!==P&&A(P),R()},complete:()=>{k="finished"},sample:e=>(C=0,A(e))};return O}const Fl=["onUpdate","onComplete"],Il=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ol=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function zl(e,t,r){let{onUpdate:s,onComplete:n}=r,a=Sn(r,Fl);if(!(Il()&&Ol.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;let i,o,l=!1,c=!1;const d=()=>{o=new Promise(e=>{i=e})};d();let{keyframes:u,duration:m=300,ease:h,times:x}=a;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!bo(t.ease))(t,a)){const e=Rl(Jt(Jt({},a),{},{repeat:0,delay:0}));let t={done:!1,value:u[0]};const r=[];let s=0;for(;!t.done&&s<2e4;)t=e.sample(s),r.push(t.value),s+=10;x=void 0,u=r,m=s-10,h="linear"}const p=function(e,t,r){let{delay:s=0,duration:n,repeat:a=0,repeatType:i="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:r};l&&(c.offset=l);const d=No(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:s,duration:n,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"})}(e.owner.current,t,u,Jt(Jt({},a),{},{duration:m,ease:h,times:x})),g=()=>{c=!1,p.cancel()},f=()=>{c=!0,Ee.update(g),i(),d()};p.onfinish=()=>{c||(e.set(function(e,t){let{repeat:r,repeatType:s="loop"}=t;return e[r&&"loop"!==s&&r%2===1?0:e.length-1]}(u,a)),n&&n(),f())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(p.timeline=e,p.onfinish=null,Se),get time(){return fo(p.currentTime||0)},set time(e){p.currentTime=go(e)},get speed(){return p.playbackRate},set speed(e){p.playbackRate=e},get duration(){return fo(m)},play:()=>{l||(p.play(),Te(g))},pause:()=>p.pause(),stop:()=>{if(l=!0,"idle"===p.playState)return;const{currentTime:t}=p;if(t){const r=Rl(Jt(Jt({},a),{},{autoplay:!1}));e.setWithVelocity(r.sample(t-10).value,r.sample(t).value,10)}f()},complete:()=>{c||p.finish()},cancel:f}}const Bl={type:"spring",stiffness:500,damping:25,restSpeed:10},_l={type:"keyframes",duration:.8},Ul={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ql=(e,t)=>{let{keyframes:r}=t;return r.length>2?_l:Ba.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:Bl:Ul},Vl=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!il.test(t)&&"0"!==t||t.startsWith("url("))),Wl=new Set(["brightness","contrast","saturate","opacity"]);function Hl(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[s]=r.match(Za)||[];if(!s)return e;const n=r.replace(s,"");let a=Wl.has(t)?1:0;return s!==r&&(a*=100),t+"("+a+n+")"}const $l=/([a-z-]*)\(.*?\)/g,Yl=Jt(Jt({},il),{},{getAnimatableNone:e=>{const t=e.match($l);return t?t.map(Hl).join(" "):e}}),Gl=Jt(Jt({},ui),{},{color:Ho,backgroundColor:Ho,outlineColor:Ho,fill:Ho,stroke:Ho,borderColor:Ho,borderTopColor:Ho,borderRightColor:Ho,borderBottomColor:Ho,borderLeftColor:Ho,filter:Yl,WebkitFilter:Yl}),Ql=e=>Gl[e];function Kl(e,t){let r=Ql(e);return r!==Yl&&(r=il),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Jl=e=>/^0[^.\s]+$/.test(e);function Xl(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Jl(e):void 0}const Zl=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function ec(e,t){return e[t]||e.default||e}const tc=!1,rc=function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n=>{const a=ec(s,e)||{},i=a.delay||s.delay||0;let{elapsed:o=0}=s;o-=go(i);const l=function(e,t,r,s){const n=Vl(t,r);let a;a=Array.isArray(r)?[...r]:[null,r];const i=void 0!==s.from?s.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)null===a[c]&&(a[c]=0===c?i:a[c-1]),Xl(a[c])&&l.push(c),"string"===typeof a[c]&&"none"!==a[c]&&"0"!==a[c]&&(o=a[c]);if(n&&l.length&&o)for(let c=0;c<l.length;c++)a[l[c]]=Kl(t,o);return a}(t,e,r,a),c=l[0],d=l[l.length-1],u=Vl(e,c),m=Vl(e,d);Be(u===m,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(d,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(d," via the `style` property."));let h=Jt(Jt({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-o,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{n(),a.onComplete&&a.onComplete()}});if(function(e){let{when:t,delay:r,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d}=e,u=Sn(e,Zl);return!!Object.keys(u).length}(a)||(h=Jt(Jt({},h),ql(e,h))),h.duration&&(h.duration=go(h.duration)),h.repeatDelay&&(h.repeatDelay=go(h.repeatDelay)),!u||!m||yo||!1===a.type||tc)return function(e){let{keyframes:t,delay:r,onUpdate:s,onComplete:n}=e;const a=()=>(s&&s(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Se,pause:Se,stop:Se,then:e=>(e(),Promise.resolve()),cancel:Se,complete:Se});return r?Rl({keyframes:[0,1],duration:0,delay:r,onComplete:a}):a()}(yo?Jt(Jt({},h),{},{delay:0}):h);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const r=zl(t,e,h);if(r)return r}return Rl(h)}};function sc(e){return Boolean(Ua(e)&&e.add)}const nc=e=>/^\-?\d*\.?\d+$/.test(e);function ac(e,t){-1===e.indexOf(t)&&e.push(t)}function ic(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class oc{constructor(){this.subscriptions=[]}add(e){return ac(this.subscriptions,e),()=>ic(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](e,t,r);else for(let n=0;n<s;n++){const s=this.subscriptions[n];s&&s(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lc={current:void 0};class cc{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:s,timestamp:n}=Le;t.lastUpdated!==n&&(t.timeDelta=s,t.lastUpdated=n,Ee.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),r&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Ee.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(s=this.current,!isNaN(parseFloat(s))),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oc);const r=this.events[e].add(t);return"change"===e?()=>{r(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return lc.current&&lc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?yl(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dc(e,t){return new cc(e,t)}const uc=e=>t=>t.test(e),mc=[Qa,ii,ai,ni,li,oi,{test:e=>"auto"===e,parse:e=>e}],hc=e=>mc.find(uc(e)),xc=[...mc,Ho,il],pc=e=>xc.find(uc(e)),gc=["transitionEnd","transition"];function fc(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,dc(r))}function yc(e,t){const r=po(e,t);let s=r?e.makeTargetAnimatable(r,!1):{},{transitionEnd:n={},transition:a={}}=s,i=Sn(s,gc);i=Jt(Jt({},i),n);for(const o in i){fc(e,o,Oi(i[o]))}}function vc(e,t){if(!t)return;return(t[e]||t.default||t).from}const bc=["transition","transitionEnd"];function jc(e,t){let{protectedKeys:r,needsAnimating:s}=e;const n=r.hasOwnProperty(t)&&!0!==s[t];return s[t]=!1,n}function wc(e,t){const r=e.get();if(!Array.isArray(t))return r!==t;for(let s=0;s<t.length;s++)if(t[s]!==r)return!0}function Nc(e,t){let{delay:r=0,transitionOverride:s,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.makeTargetAnimatable(t),{transition:i=e.getDefaultTransition(),transitionEnd:o}=a,l=Sn(a,bc);const c=e.getValue("willChange");s&&(i=s);const d=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const m in l){const t=e.getValue(m),s=l[m];if(!t||void 0===s||u&&jc(u,m))continue;const n=Jt({delay:r,elapsed:0},ec(i||{},m));if(window.HandoffAppearAnimations){const r=e.getProps()[ya];if(r){const e=window.HandoffAppearAnimations(r,m,t,Ee);null!==e&&(n.elapsed=e,n.isHandoff=!0)}}let a=!n.isHandoff&&!wc(t,s);if("spring"===n.type&&(t.getVelocity()||n.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(rc(m,t,s,e.shouldReduceMotion&&Ba.has(m)?{type:!1}:n));const o=t.animation;sc(c)&&(c.add(m),o.then(()=>c.remove(m))),d.push(o)}return o&&Promise.all(d).then(()=>{o&&yc(e,o)}),d}function kc(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=po(e,t,r.custom);let{transition:n=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(n=r.transitionOverride);const a=s?()=>Promise.all(Nc(e,s,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:i,staggerDirection:o}=n;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const i=[],o=(e.variantChildren.size-1)*s,l=1===n?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*s}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*s};return Array.from(e.variantChildren).sort(Sc).forEach((e,s)=>{e.notify("AnimationStart",t),i.push(kc(e,t,Jt(Jt({},a),{},{delay:r+l(s)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(i)}(e,t,a+s,i,o,r)}:()=>Promise.resolve(),{when:o}=n;if(o){const[e,t]="beforeChildren"===o?[a,i]:[i,a];return e().then(()=>t())}return Promise.all([a(),i(r.delay)])}function Sc(e,t){return e.sortNodePosition(t)}const Cc=["transition","transitionEnd"],Pc=[...wa].reverse(),Ec=wa.length;function Tc(e){return t=>Promise.all(t.map(t=>{let{animation:r,options:s}=t;return function(e,t){let r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const n=t.map(t=>kc(e,t,s));r=Promise.all(n)}else if("string"===typeof t)r=kc(e,t,s);else{const n="function"===typeof t?po(e,t,s.custom):t;r=Promise.all(Nc(e,n,s))}return r.then(()=>e.notify("AnimationComplete",t))}(e,r,s)}))}function Lc(e){let t=Tc(e);const r={animate:Ac(!0),whileInView:Ac(),whileHover:Ac(),whileTap:Ac(),whileDrag:Ac(),whileFocus:Ac(),exit:Ac()};let s=!0;const n=(t,r)=>{const s=po(e,r);if(s){const{transition:e,transitionEnd:r}=s,n=Sn(s,Cc);t=Jt(Jt(Jt({},t),n),r)}return t};function a(a,i){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],d=new Set;let u={},m=1/0;for(let t=0;t<Ec;t++){const h=Pc[t],x=r[h],p=void 0!==o[h]?o[h]:l[h],g=ba(p),f=h===i?x.isActive:null;!1===f&&(m=t);let y=p===l[h]&&p!==o[h]&&g;if(y&&s&&e.manuallyAnimateOnMount&&(y=!1),x.protectedKeys=Jt({},u),!x.isActive&&null===f||!p&&!x.prevProp||ja(p)||"boolean"===typeof p)continue;let v=Mc(x.prevProp,p)||h===i&&x.isActive&&!y&&g||t>m&&g,b=!1;const j=Array.isArray(p)?p:[p];let w=j.reduce(n,{});!1===f&&(w={});const{prevResolvedValues:N={}}=x,k=Jt(Jt({},N),w),S=e=>{v=!0,d.has(e)&&(b=!0,d.delete(e)),x.needsAnimating[e]=!0};for(const e in k){const t=w[e],r=N[e];if(u.hasOwnProperty(e))continue;let s=!1;s=Ii(t)&&Ii(r)?!xo(t,r):t!==r,s?void 0!==t?S(e):d.add(e):void 0!==t&&d.has(e)?S(e):x.protectedKeys[e]=!0}x.prevProp=p,x.prevResolvedValues=w,x.isActive&&(u=Jt(Jt({},u),w)),s&&e.blockInitialAnimation&&(v=!1),!v||y&&!b||c.push(...j.map(e=>({animation:e,options:Jt({type:h},a)})))}if(d.size){const t={};d.forEach(r=>{const s=e.getBaseTarget(r);void 0!==s&&(t[r]=s)}),c.push({animation:t})}let h=Boolean(c.length);return!s||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),s=!1,h?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,s,n){var i;if(r[t].isActive===s)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,s)}),r[t].isActive=s;const o=a(n,t);for(const e in r)r[e].protectedKeys={};return o},setAnimateFunction:function(r){t=r(e)},getState:()=>r}}function Mc(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!xo(t,e)}function Ac(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Dc=0;const Rc={animation:{Feature:class extends to{constructor(e){super(e),e.animationState||(e.animationState=Lc(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ja(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends to{constructor(){super(...arguments),this.id=Dc++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const n=this.node.animationState.setActive("exit",!e,{custom:null!==r&&void 0!==r?r:this.node.getProps().custom});t&&!e&&n.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Fc=(e,t)=>Math.abs(e-t);class Ic{constructor(e,t){let{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Bc(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=Fc(e.x,t.x),s=Fc(e.y,t.y);return Math.sqrt(r**2+s**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:s}=e,{timestamp:n}=Le;this.history.push(Jt(Jt({},s),{},{timestamp:n}));const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Oc(t,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:s,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Bc("pointercancel"===e.type?this.lastMoveEventInfo:Oc(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,a),s&&s(e,a)},!Hi(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const a=Oc($i(e),this.transformPagePoint),{point:i}=a,{timestamp:o}=Le;this.history=[Jt(Jt({},i),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,Bc(a,this.history)),this.removeListeners=Qi(Yi(this.contextWindow,"pointermove",this.handlePointerMove),Yi(this.contextWindow,"pointerup",this.handlePointerUp),Yi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Te(this.updatePoint)}}function Oc(e,t){return t?{point:t(e.point)}:e}function zc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bc(e,t){let{point:r}=e;return{point:r,delta:zc(r,Uc(t)),offset:zc(r,_c(t)),velocity:qc(t,.1)}}function _c(e){return e[0]}function Uc(e){return e[e.length-1]}function qc(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const n=Uc(e);for(;r>=0&&(s=e[r],!(n.timestamp-s.timestamp>go(t)));)r--;if(!s)return{x:0,y:0};const a=fo(n.timestamp-s.timestamp);if(0===a)return{x:0,y:0};const i={x:(n.x-s.x)/a,y:(n.y-s.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Vc(e){return e.max-e.min}function Wc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=r}function Hc(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=s,e.originPoint=$o(t.min,t.max,e.origin),e.scale=Vc(r)/Vc(t),(Wc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=$o(r.min,r.max,e.origin)-e.originPoint,(Wc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function $c(e,t,r,s){Hc(e.x,t.x,r.x,s?s.originX:void 0),Hc(e.y,t.y,r.y,s?s.originY:void 0)}function Yc(e,t,r){e.min=r.min+t.min,e.max=e.min+Vc(t)}function Gc(e,t,r){e.min=t.min-r.min,e.max=e.min+Vc(t)}function Qc(e,t,r){Gc(e.x,t.x,r.x),Gc(e.y,t.y,r.y)}function Kc(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function Jc(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}const Xc=.35;function Zc(e,t,r){return{min:ed(e,t),max:ed(e,r)}}function ed(e,t){return"number"===typeof e?e:e[t]||0}const td=()=>({x:{min:0,max:0},y:{min:0,max:0}});function rd(e){return[e("x"),e("y")]}function sd(e){let{top:t,left:r,right:s,bottom:n}=e;return{x:{min:r,max:s},y:{min:t,max:n}}}function nd(e){return void 0===e||1===e}function ad(e){let{scale:t,scaleX:r,scaleY:s}=e;return!nd(t)||!nd(r)||!nd(s)}function id(e){return ad(e)||od(e)||e.z||e.rotate||e.rotateX||e.rotateY}function od(e){return ld(e.x)||ld(e.y)}function ld(e){return e&&"0%"!==e}function cd(e,t,r){return r+t*(e-r)}function dd(e,t,r,s,n){return void 0!==n&&(e=cd(e,n,s)),cd(e,r,s)+t}function ud(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;e.min=dd(e.min,t,r,s,n),e.max=dd(e.max,t,r,s,n)}function md(e,t){let{x:r,y:s}=t;ud(e.x,r.translate,r.scale,r.originPoint),ud(e.y,s.translate,s.scale,s.originPoint)}function hd(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function xd(e,t){e.min=e.min+t,e.max=e.max+t}function pd(e,t,r){let[s,n,a]=r;const i=void 0!==t[a]?t[a]:.5,o=$o(e.min,e.max,i);ud(e,t[s],t[n],o,t.scale)}const gd=["x","scaleX","originX"],fd=["y","scaleY","originY"];function yd(e,t){pd(e.x,t,gd),pd(e.y,t,fd)}function vd(e,t){return sd(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}const bd=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},jd=new WeakMap;class wd{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new Ic(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor($i(e,"page").point)},onStart:(e,t)=>{const{drag:r,dragPropagation:s,onDragStart:n}=this.getProps();if(r&&!s&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Zi(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rd(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ai.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const s=r.layout.layoutBox[e];if(s){t=Vc(s)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),n&&Ee.update(()=>n(e,t),!1,!0);const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:s,onDirectionLock:n,onDrag:a}=this.getProps();if(!r&&!this.openGlobalLock)return;const{offset:i}=t;if(s&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(i),void(null!==this.currentDirection&&n&&n(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>rd(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:bd(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:n}=this.getProps();n&&Ee.update(()=>n(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Nd(e,s,this.currentDirection))return;const n=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,t,r){let{min:s,max:n}=t;return void 0!==s&&e<s?e=r?$o(s,e,r.min):Math.max(e,s):void 0!==n&&e>n&&(e=r?$o(n,e,r.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),n.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,n=this.constraints;t&&va(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!s)&&function(e,t){let{top:r,left:s,bottom:n,right:a}=t;return{x:Kc(e.x,s,a),y:Kc(e.y,r,n)}}(s.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xc;return!1===e?e=0:!0===e&&(e=Xc),{x:Zc(e,"left","right"),y:Zc(e,"top","bottom")}}(r),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rd(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(s.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!va(e))return!1;const r=e.current;_e(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const n=function(e,t,r){const s=vd(e,r),{scroll:n}=t;return n&&(xd(s.x,n.offset.x),xd(s.y,n.offset.y)),s}(r,s.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Jc(e.x,t.x),y:Jc(e.y,t.y)}}(s.layout.layoutBox,n);if(t){const e=t(function(e){let{x:t,y:r}=e;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=sd(e))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:n,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=rd(i=>{if(!Nd(i,t,this.currentDirection))return;let l=o&&o[i]||{};a&&(l={min:0,max:0});const c=s?200:1e6,d=s?40:1e7,u=Jt(Jt({type:"inertia",velocity:r?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},n),l);return this.startAxisValueAnimation(i,u)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(rc(e,r,0,t))}stopAnimation(){rd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rd(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rd(t=>{const{drag:r}=this.getProps();if(!Nd(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,n=this.getAxisMotionValue(t);if(s&&s.layout){const{min:r,max:a}=s.layout.layoutBox[t];n.set(e[t]-$o(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!va(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rd(e=>{const t=this.getAxisMotionValue(e);if(t){const r=t.get();s[e]=function(e,t){let r=.5;const s=Vc(e),n=Vc(t);return n>s?r=ml(t.min,t.max-s,e.min):s>n&&(r=ml(e.min,e.max-n,t.min)),Ga(0,1,r)}({min:r,max:r},this.constraints[e])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rd(t=>{if(!Nd(t,e,null))return;const r=this.getAxisMotionValue(t),{min:n,max:a}=this.constraints[t];r.set($o(n,a,s[t]))})}addListeners(){if(!this.visualElement.current)return;jd.set(this.visualElement,this);const e=Yi(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();va(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),t();const n=Wi(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r}=e;this.isDragging&&r&&(rd(e=>{const r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{n(),e(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:n=!1,dragElastic:a=Xc,dragMomentum:i=!0}=e;return Jt(Jt({},e),{},{drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:n,dragElastic:a,dragMomentum:i})}}function Nd(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}const kd=e=>(t,r)=>{e&&Ee.update(()=>e(t,r))};const Sd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cd(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pd={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!ii.test(e))return e;e=parseFloat(e)}const r=Cd(e,t.target.x),s=Cd(e,t.target.y);return"".concat(r,"% ").concat(s,"%")}},Ed={correct:(e,t)=>{let{treeScale:r,projectionDelta:s}=t;const n=e,a=il.parse(e);if(a.length>5)return n;const i=il.createTransformer(e),o="number"!==typeof a[0]?1:0,l=s.x.scale*r.x,c=s.y.scale*r.y;a[0+o]/=l,a[1+o]/=c;const d=$o(l,c,.5);return"number"===typeof a[2+o]&&(a[2+o]/=d),"number"===typeof a[3+o]&&(a[3+o]/=d),i(a)}};class Td extends a.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:n}=e;var a;a=Md,Object.assign(Oa,a),n&&(t.group&&t.group.add(n),r&&r.register&&s&&r.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions(Jt(Jt({},n.options),{},{onExitComplete:()=>this.safeToRemove()}))),Sd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:n}=this.props,a=r.projection;return a?(a.isPresent=n,s||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?a.promote():a.relegate()||Ee.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ld(e){const[t,r]=function(){const e=(0,a.useContext)(Ae);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,n=(0,a.useId)();return(0,a.useEffect)(()=>s(n),[]),!t&&r?[!1,()=>r&&r(n)]:[!0]}(),s=(0,a.useContext)(ze);return a.createElement(Td,Jt(Jt({},e),{},{layoutGroup:s,switchLayoutGroup:(0,a.useContext)(La),isPresent:t,safeToRemove:r}))}const Md={borderRadius:Jt(Jt({},Pd),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Pd,borderTopRightRadius:Pd,borderBottomLeftRadius:Pd,borderBottomRightRadius:Pd,boxShadow:Ed},Ad=["TopLeft","TopRight","BottomLeft","BottomRight"],Dd=Ad.length,Rd=e=>"string"===typeof e?parseFloat(e):e,Fd=e=>"number"===typeof e||ii.test(e);function Id(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Od=Bd(0,.5,Ao),zd=Bd(.5,.95,Se);function Bd(e,t,r){return s=>s<e?0:s>t?1:r(ml(e,t,s))}function _d(e,t){e.min=t.min,e.max=t.max}function Ud(e,t){_d(e.x,t.x),_d(e.y,t.y)}function qd(e,t,r,s,n){return e=cd(e-=t,1/r,s),void 0!==n&&(e=cd(e,1/n,s)),e}function Vd(e,t,r,s,n){let[a,i,o]=r;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,n=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ai.test(t)&&(t=parseFloat(t),t=$o(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=$o(a.min,a.max,s);e===a&&(o-=t),e.min=qd(e.min,t,r,o,n),e.max=qd(e.max,t,r,o,n)}(e,t[a],t[i],t[o],t.scale,s,n)}const Wd=["x","scaleX","originX"],Hd=["y","scaleY","originY"];function $d(e,t,r,s){Vd(e.x,t,Wd,r?r.x:void 0,s?s.x:void 0),Vd(e.y,t,Hd,r?r.y:void 0,s?s.y:void 0)}function Yd(e){return 0===e.translate&&1===e.scale}function Gd(e){return Yd(e.x)&&Yd(e.y)}function Qd(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Kd(e){return Vc(e.x)/Vc(e.y)}class Jd{constructor(){this.members=[]}add(e){ac(this.members,e),e.scheduleRender()}remove(e){if(ic(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let r;for(let s=t;s>=0;s--){const e=this.members[s];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;!1===s&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xd(e,t,r){let s="";const n=e.x.translate/t.x,a=e.y.translate/t.y;if((n||a)&&(s="translate3d(".concat(n,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(s+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){const{rotate:e,rotateX:t,rotateY:n}=r;e&&(s+="rotate(".concat(e,"deg) ")),t&&(s+="rotateX(".concat(t,"deg) ")),n&&(s+="rotateY(".concat(n,"deg) "))}const i=e.x.scale*t.x,o=e.y.scale*t.y;return 1===i&&1===o||(s+="scale(".concat(i,", ").concat(o,")")),s||"none"}const Zd=(e,t)=>e.depth-t.depth;class eu{constructor(){this.children=[],this.isDirty=!1}add(e){ac(this.children,e),this.isDirty=!0}remove(e){ic(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zd),this.isDirty=!1,this.children.forEach(e)}}const tu=["","X","Y","Z"],ru={visibility:"hidden"};let su=0;const nu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function au(e){let{attachResizeListener:t,defaultParent:r,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();this.id=su++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nu.totalNodes=nu.resolvedTargetDeltas=nu.recalculatedProjection=0,this.nodes.forEach(lu),this.nodes.forEach(pu),this.nodes.forEach(gu),this.nodes.forEach(cu),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(nu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new eu)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new oc),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var r=arguments.length,s=new Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];t&&t.notify(...s)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var s;this.isSVG=(s=e)instanceof SVGElement&&"svg"!==s.tagName,this.instance=e;const{layoutId:n,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(a||n)&&(this.isLayoutDirty=!0),t){let r;const s=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){const r=performance.now(),s=n=>{let{timestamp:a}=n;const i=a-r;i>=t&&(Te(s),e(i-t))};return Ee.read(s,!0),()=>Te(s)}(s,250),Sd.hasAnimatedSinceResize&&(Sd.hasAnimatedSinceResize=!1,this.nodes.forEach(xu))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&i&&(n||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r,hasRelativeTargetChanged:s,layout:n}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||wu,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!Qd(this.targetLayout,n)||s,d=!r&&s;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||d||r&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e=Jt(Jt({},ec(a,"layout")),{},{onPlay:o,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else r||xu(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Te(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fu),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let n=0;n<this.path.length;n++){const e=this.path[n];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(uu);this.isUpdating||this.nodes.forEach(mu),this.isUpdating=!1,this.nodes.forEach(hu),this.nodes.forEach(iu),this.nodes.forEach(ou),this.clearAllSnapshots();const e=performance.now();Le.delta=Ga(0,1e3/60,e-Le.timestamp),Le.timestamp=e,Le.isProcessing=!0,Me.update.process(Le),Me.preRender.process(Le),Me.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(du),this.sharedNodes.forEach(yu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Gd(this.projectionDelta),r=this.getTransformTemplate(),s=r?r(this.latestValues,""):void 0,n=s!==this.prevTransformTemplateValue;e&&(t||id(this.latestValues)||n)&&(a(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let r=this.removeElementScroll(t);var s;return e&&(r=this.removeTransform(r)),Su((s=r).x),Su(s.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:r}=this.root;return r&&(xd(t.x,r.offset.x),xd(t.y,r.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ud(t,e);for(let r=0;r<this.path.length;r++){const s=this.path[r],{scroll:n,options:a}=s;if(s!==this.root&&n&&a.layoutScroll){if(n.isRoot){Ud(t,e);const{scroll:r}=this.root;r&&(xd(t.x,-r.offset.x),xd(t.y,-r.offset.y))}xd(t.x,n.offset.x),xd(t.y,n.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={x:{min:0,max:0},y:{min:0,max:0}};Ud(r,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&yd(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),id(e.latestValues)&&yd(r,e.latestValues)}return id(this.latestValues)&&yd(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ud(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!id(e.latestValues))continue;ad(e.latestValues)&&e.updateSnapshot();const s=td();Ud(s,e.measurePageBox()),$d(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,s)}return id(this.latestValues)&&$d(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Jt(Jt(Jt({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const s=Boolean(this.resumingFrom)||this!==r;if(!(e||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:n,layoutId:a}=this.options;if(this.layout&&(n||a)){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Qc(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Ud(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,Yc(i.x,o.x,l.x),Yc(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ud(this.target,this.layout.layoutBox),md(this.target,this.targetDelta)):Ud(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Qc(this.relativeTargetOrigin,this.target,e.target),Ud(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ad(this.parent.latestValues)&&!od(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let s=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(s=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(s=!1),s)return;const{layout:n,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!n&&!a)return;Ud(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=r.length;if(!n)return;let a,i;t.x=t.y=1;for(let o=0;o<n;o++){a=r[o],i=a.projectionDelta;const n=a.instance;n&&n.style&&"contents"===n.style.display||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&yd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,md(e,i)),s&&id(a.latestValues)&&yd(e,a.latestValues))}t.x=hd(t.x),t.y=hd(t.y)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;$c(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Xd(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===i&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),nu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.snapshot,s=r?r.latestValues:{},n=Jt({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(ju));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;var l,m,h,x,p,g;vu(a.x,e.x,r),vu(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qc(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,x=this.relativeTargetOrigin,p=i,g=r,bu(h.x,x.x,p.x,g),bu(h.y,x.y,p.y,g),u&&(l=this.relativeTarget,m=u,l.x.min===m.x.min&&l.x.max===m.x.max&&l.y.min===m.y.min&&l.y.max===m.y.max)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Ud(u,this.relativeTarget)),o&&(this.animationValues=n,function(e,t,r,s,n,a){n?(e.opacity=$o(0,void 0!==r.opacity?r.opacity:1,Od(s)),e.opacityExit=$o(void 0!==t.opacity?t.opacity:1,0,zd(s))):a&&(e.opacity=$o(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,s));for(let i=0;i<Dd;i++){const n="border".concat(Ad[i],"Radius");let a=Id(t,n),o=Id(r,n);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||Fd(a)===Fd(o)?(e[n]=Math.max($o(Rd(a),Rd(o),s),0),(ai.test(o)||ai.test(a))&&(e[n]+="%")):e[n]=o)}(t.rotate||r.rotate)&&(e.rotate=$o(t.rotate||0,r.rotate||0,s))}(n,s,this.latestValues,r,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Te(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{Sd.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,r){const s=Ua(e)?e:dc(e);return s.start(rc("",s,t,r)),s.animation}(0,1e3,Jt(Jt({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:s,latestValues:n}=e;if(t&&r&&s){if(this!==e&&this.layout&&s&&Cu(this.options.animationType,this.layout.layoutBox,s.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Vc(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const s=Vc(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+s}Ud(t,r),yd(t,n),$c(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Jd);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this.getStack();s&&s.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(t=!0),!t)return;const s={};for(let n=0;n<tu.length;n++){const t="rotate"+tu[n];r[t]&&(s[t]=r[t],e.setStaticValue(t,0))}e.render();for(const n in s)e.setStaticValue(n,s[n]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ru;const s={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=zi(null===e||void 0===e?void 0:e.pointerEvents)||"",s.transform=n?n(this.latestValues,""):"none",s;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=zi(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!id(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const i=a.animationValues||a.latestValues;this.applyTransformsToTarget(),s.transform=Xd(this.projectionDeltaWithTransform,this.treeScale,i),n&&(s.transform=n(i,s.transform));const{x:o,y:l}=this.projectionDelta;s.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?s.opacity=a===this?null!==(r=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:s.opacity=a===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in Oa){if(void 0===i[c])continue;const{correct:e,applyTo:t}=Oa[c],r="none"===s.transform?i[c]:e(i[c],a);if(t){const e=t.length;for(let n=0;n<e;n++)s[t[n]]=r}else s[c]=r}return this.options.layoutId&&(s.pointerEvents=a===this?zi(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(uu),this.root.sharedNodes.clear()}}}function iu(e){e.updateLayout()}function ou(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=e.layout,{animationType:n}=e.options,a=r.source!==e.layout.source;"size"===n?rd(e=>{const s=a?r.measuredBox[e]:r.layoutBox[e],n=Vc(s);s.min=t[e].min,s.max=s.min+n}):Cu(n,r.layoutBox,t)&&rd(s=>{const n=a?r.measuredBox[s]:r.layoutBox[s],i=Vc(t[s]);n.max=n.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};$c(i,t,r.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?$c(o,e.applyTransform(s,!0),r.measuredBox):$c(o,t,r.layoutBox);const l=!Gd(i);let c=!1;if(!e.resumeFrom){const s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){const{snapshot:n,layout:a}=s;if(n&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};Qc(i,r.layoutBox,n.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Qc(o,t,a.layoutBox),Qd(i,o)||(c=!0),s.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function lu(e){nu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function du(e){e.clearSnapshot()}function uu(e){e.clearMeasurements()}function mu(e){e.isLayoutDirty=!1}function hu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xu(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pu(e){e.resolveTargetDelta()}function gu(e){e.calcProjection()}function fu(e){e.resetRotation()}function yu(e){e.removeLeadSnapshot()}function vu(e,t,r){e.translate=$o(t.translate,0,r),e.scale=$o(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function bu(e,t,r,s){e.min=$o(t.min,r.min,s),e.max=$o(t.max,r.max,s)}function ju(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const wu={duration:.45,ease:[.4,0,.1,1]},Nu=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),ku=Nu("applewebkit/")&&!Nu("chrome/")?Math.round:Se;function Su(e){e.min=ku(e.min),e.max=ku(e.max)}function Cu(e,t,r){return"position"===e||"preserve-aspect"===e&&!Wc(Kd(t),Kd(r),.2)}const Pu=au({attachResizeListener:(e,t)=>Wi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eu={current:void 0},Tu=au({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Eu.current){const e=new Pu({});e.mount(window),e.setOptions({layoutScroll:!0}),Eu.current=e}return Eu.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Lu={pan:{Feature:class extends to{constructor(){super(...arguments),this.removePointerDownListener=Se}onPointerDown(e){this.session=new Ic(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bd(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:kd(e),onStart:kd(t),onMove:r,onEnd:(e,t)=>{delete this.session,s&&Ee.update(()=>s(e,t))}}}mount(){this.removePointerDownListener=Yi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends to{constructor(e){super(e),this.removeGroupControls=Se,this.removeListeners=Se,this.controls=new wd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Se}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Tu,MeasureLayout:Ld}};const Mu=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Au(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;_e(r<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[s,n]=function(e){const t=Mu.exec(e);if(!t)return[,];const[,r,s]=t;return[r,s]}(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const e=a.trim();return nc(e)?parseFloat(e):e}return $a(n)?Au(n,t,r+1):n}function Du(e,t,r){let s=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const n=e.current;if(!(n instanceof Element))return{target:s,transitionEnd:r};r&&(r=Jt({},r)),e.values.forEach(e=>{const t=e.get();if(!$a(t))return;const r=Au(t,n);r&&e.set(r)});for(const a in s){const e=s[a];if(!$a(e))continue;const t=Au(e,n);t&&(s[a]=t,r||(r={}),void 0===r[a]&&(r[a]=e))}return{target:s,transitionEnd:r}}const Ru=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Fu=e=>Ru.has(e),Iu=e=>e===Qa||e===ii,Ou=(e,t)=>parseFloat(e.split(", ")[t]),zu=(e,t)=>(r,s)=>{let{transform:n}=s;if("none"===n||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return Ou(a[1],t);{const t=n.match(/^matrix\((.+)\)$/);return t?Ou(t[1],e):0}},Bu=new Set(["x","y","z"]),_u=za.filter(e=>!Bu.has(e));const Uu={width:(e,t)=>{let{x:r}=e,{paddingLeft:s="0",paddingRight:n="0"}=t;return r.max-r.min-parseFloat(s)-parseFloat(n)},height:(e,t)=>{let{y:r}=e,{paddingTop:s="0",paddingBottom:n="0"}=t;return r.max-r.min-parseFloat(s)-parseFloat(n)},top:(e,t)=>{let{top:r}=t;return parseFloat(r)},left:(e,t)=>{let{left:r}=t;return parseFloat(r)},bottom:(e,t)=>{let{y:r}=e,{top:s}=t;return parseFloat(s)+(r.max-r.min)},right:(e,t)=>{let{x:r}=e,{left:s}=t;return parseFloat(s)+(r.max-r.min)},x:zu(4,13),y:zu(5,14)};Uu.translateX=Uu.x,Uu.translateY=Uu.y;const qu=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Jt({},t),s=Jt({},s);const n=Object.keys(t).filter(Fu);let a=[],i=!1;const o=[];if(n.forEach(n=>{const l=e.getValue(n);if(!e.hasValue(n))return;let c=r[n],d=hc(c);const u=t[n];let m;if(Ii(u)){const e=u.length,t=null===u[0]?1:0;c=u[t],d=hc(c);for(let r=t;r<e&&null!==u[r];r++)m?_e(hc(u[r])===m,"All keyframes must be of the same type"):(m=hc(u[r]),_e(m===d||Iu(d)&&Iu(m),"Keyframes must be of the same dimension as the current value"))}else m=hc(u);if(d!==m)if(Iu(d)&&Iu(m)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof u?t[n]=parseFloat(u):Array.isArray(u)&&m===ii&&(t[n]=u.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===m||void 0===m?void 0:m.transform)&&(0===c||0===u)?0===c?l.set(m.transform(c)):t[n]=d.transform(u):(i||(a=function(e){const t=[];return _u.forEach(r=>{const s=e.getValue(r);void 0!==s&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),i=!0),o.push(n),s[n]=void 0!==s[n]?s[n]:t[n],l.jump(u))}),o.length){const r=o.indexOf("height")>=0?window.pageYOffset:null,n=((e,t,r)=>{const s=t.measureViewportBox(),n=t.current,a=getComputedStyle(n),{display:i}=a,o={};"none"===i&&t.setStaticValue("display",e.display||"block"),r.forEach(e=>{o[e]=Uu[e](s,a)}),t.render();const l=t.measureViewportBox();return r.forEach(r=>{const s=t.getValue(r);s&&s.jump(o[r]),e[r]=Uu[r](l,a)}),e})(t,e,o);return a.length&&a.forEach(t=>{let[r,s]=t;e.getValue(r).set(s)}),e.render(),we&&null!==r&&window.scrollTo({top:r}),{target:n,transitionEnd:s}}return{target:t,transitionEnd:s}};function Vu(e,t,r,s){return(e=>Object.keys(e).some(Fu))(t)?qu(e,t,r,s):{target:t,transitionEnd:s}}const Wu={current:null},Hu={current:!1};const $u=new WeakMap,Yu=["willChange"],Gu=["children"],Qu=Object.keys(Ta),Ku=Qu.length,Ju=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Xu=Na.length;class Zu{constructor(e){let{parent:t,props:r,presenceContext:s,reducedMotionConfig:n,visualState:a}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ee.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget=Jt({},o),this.initialValues=r.initial?Jt({},o):{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.isControllingVariants=ka(r),this.isVariantNode=Sa(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(r,{}),{willChange:d}=c,u=Sn(c,Yu);for(const m in u){const e=u[m];void 0!==o[m]&&Ua(e)&&(e.set(o[m],!1),sc(d)&&d.add(m))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,$u.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Hu.current||function(){if(Hu.current=!0,we)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wu.current=e.matches;e.addListener(t),t()}else Wu.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Wu.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$u.delete(this.current),this.projection&&this.projection.unmount(),Te(this.notifyUpdate),Te(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Ba.has(e),s=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Ee.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),n=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),n()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,r,s){let n,a,{children:i}=e,o=Sn(e,Gu);for(let l=0;l<Ku;l++){const e=Qu[l],{isEnabled:t,Feature:r,ProjectionNode:s,MeasureLayout:i}=Ta[e];s&&(n=s),t(o)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),i&&(a=i))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&n){this.projection=new n(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:r,dragConstraints:a,layoutScroll:i,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(r)||a&&va(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:s,layoutScroll:i,layoutRoot:l})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Ju.length;r++){const t=Ju[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const s=e["on"+t];s&&(this.propEventSubscriptions[t]=this.on(t,s))}this.prevMotionValues=function(e,t,r){const{willChange:s}=t;for(const n in t){const a=t[n],i=r[n];if(Ua(a))e.addValue(n,a),sc(s)&&s.add(n);else if(Ua(i))e.addValue(n,dc(a,{owner:e})),sc(s)&&s.remove(n);else if(i!==a)if(e.hasValue(n)){const t=e.getValue(n);!t.hasAnimated&&t.set(a)}else{const t=e.getStaticValue(n);e.addValue(n,dc(void 0!==t?t:a,{owner:e}))}}for(const n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Xu;t++){const r=Na[t],s=this.props[r];(ba(s)||!1===s)&&(e[r]=s)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=dc(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s="string"===typeof r||"object"===typeof r?null===(t=Fi(this.props,r))||void 0===t?void 0:t[e]:void 0;if(r&&void 0!==s)return s;const n=this.getBaseTargetFromProps(this.props,e);return void 0===n||Ua(n)?void 0!==this.initialValues[e]&&void 0===s?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new oc),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.events[e].notify(...r)}}}const em=["transition","transitionEnd"];class tm extends Zu{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:r,style:s}=t;delete r[e],delete s[e]}makeTargetAnimatableFromInstance(e,t,r){let{transition:s,transitionEnd:n}=e,a=Sn(e,em),{transformValues:i}=t,o=function(e,t,r){const s={};for(const n in e){const e=vc(n,t);if(void 0!==e)s[n]=e;else{const e=r.getValue(n);e&&(s[n]=e.get())}}return s}(a,s||{},this);if(i&&(n&&(n=i(n)),a&&(a=i(a)),o&&(o=i(o))),r){!function(e,t,r){var s,n;const a=Object.keys(t).filter(t=>!e.hasValue(t)),i=a.length;if(i)for(let o=0;o<i;o++){const i=a[o],l=t[i];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(n=null!==(s=r[i])&&void 0!==s?s:e.readValue(i))&&void 0!==n?n:t[i]),void 0!==c&&null!==c&&("string"===typeof c&&(nc(c)||Jl(c))?c=parseFloat(c):!pc(c)&&il.test(l)&&(c=Kl(i,l)),e.addValue(i,dc(c,{owner:e})),void 0===r[i]&&(r[i]=c),null!==c&&e.setBaseTarget(i,c))}}(this,a,o);const e=((e,t,r,s)=>{const n=Du(e,t,s);return Vu(e,t=n.target,r,s=n.transitionEnd)})(this,a,o,n);n=e.transitionEnd,a=e.target}return Jt({transition:s,transitionEnd:n},a)}}class rm extends tm{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Ba.has(t)){const e=Ql(t);return e&&e.default||0}{const s=(r=e,window.getComputedStyle(r)),n=(Ha(t)?s.getPropertyValue(t):s[t])||0;return"string"===typeof n?n.trim():n}var r}measureInstanceViewportBox(e,t){let{transformPagePoint:r}=t;return vd(e,r)}build(e,t,r,s){mi(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Di(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ua(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,r,s){Li(e,t,r,s)}}class sm extends tm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ba.has(t)){const e=Ql(t);return e&&e.default||0}return t=Mi.has(t)?t:fa(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Ri(e,t)}build(e,t,r,s){Si(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){Ai(e,t,0,s)}mount(e){this.isSVGTag=Pi(e.tagName),super.mount(e)}}const nm=(e,t)=>Ia(e)?new sm(t,{enableHardwareAcceleration:!1}):new rm(t,{enableHardwareAcceleration:!0}),am={layout:{ProjectionNode:Tu,MeasureLayout:Ld}},im=Jt(Jt(Jt(Jt({},Rc),ho),Lu),am),om=Ra((e,t)=>function(e,t,r,s){let{forwardMotionProps:n=!1}=t;return Jt(Jt({},Ia(e)?qi:Vi),{},{preloadedFeatures:r,useRender:Ti(n),createVisualElement:s,Component:e})}(e,t,im,nm));const lm=En("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),cm=En("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),dm=En("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),um=En("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),mm=En("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),hm=En("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),xm=En("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),pm=En("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),gm=En("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),fm=En("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),ym=En("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),vm=En("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),bm=En("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),jm=En("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),wm=En("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Nm=En("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),km=En("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Sm=En("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Cm=En("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Pm=(e,t)=>{const r=new FormData;return r.append("data",JSON.stringify({name:e.productInfo.name,description:e.productInfo.description,category:e.productInfo.category,price:{fiatAmount:e.pricing.costPrice,tokenAmount:e.pricing.sellingPrice},inventory:{available:e.inventory.currentStock},sustainabilityScore:e.sustainability.recycledMaterialPercentage})),t&&t.length>0&&t.forEach((e,t)=>{r.append("images",e)}),r},Em={getProducts:async()=>{const e=await Hs.get("/marketplace");if(e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to fetch products")},getItemById:async e=>{const t=await Hs.get("/marketplace/".concat(e));if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to fetch product")},getUserItems:async()=>{const e=await Hs.get("/marketplace/user");if(e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to fetch user products")},createItem:async(e,t)=>{const r=Pm(e,t),s=await Hs.post("/marketplace",r,{headers:{"Content-Type":"multipart/form-data"}});if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to create product")},updateItem:async(e,t,r)=>{var s,n,a,i,o,l,c,d;const u=new FormData;u.append("data",JSON.stringify({name:null===(s=t.productInfo)||void 0===s?void 0:s.name,description:null===(n=t.productInfo)||void 0===n?void 0:n.description,category:null===(a=t.productInfo)||void 0===a?void 0:a.category,price:{fiatAmount:null===(i=t.pricing)||void 0===i?void 0:i.costPrice,tokenAmount:null===(o=t.pricing)||void 0===o?void 0:o.sellingPrice},inventory:{available:null===(l=t.inventory)||void 0===l?void 0:l.currentStock},sustainabilityScore:null===(c=t.sustainability)||void 0===c?void 0:c.recycledMaterialPercentage,images:null===(d=t.productInfo)||void 0===d?void 0:d.images})),r&&r.length>0&&r.forEach((e,t)=>{u.append("images",e)});const m=await Hs.put("/marketplace/".concat(e),u,{headers:{"Content-Type":"multipart/form-data"}});if(m.data.success)return m.data.data;throw new Error(m.data.message||"Failed to update product")},deleteItem:async e=>{const t=await Hs.delete("/marketplace/".concat(e));if(!t.data.success)throw new Error(t.data.message||"Failed to delete product")},getFactoryProducts:async()=>{const e=Date.now(),t=await Hs.get("/marketplace/my-products?t=".concat(e));var r;if(t.data.success)return console.log("getFactoryProducts API response:",null===(r=t.data.data)||void 0===r?void 0:r.length,"products"),t.data.data;throw new Error(t.data.message||"Failed to fetch factory products")},createFactoryProduct:async(e,t)=>{const r=Pm(e,t),s=await Hs.post("/marketplace",r,{headers:{"Content-Type":"multipart/form-data"}});if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to create product")},updateFactoryProduct:async(e,t,r)=>{var s,n,a,i,o,l,c,d;console.log("=== updateFactoryProduct called ==="),console.log("Product ID:",e),console.log("Item data:",t),console.log("Images count:",(null===r||void 0===r?void 0:r.length)||0);const u=new FormData,m={name:null===(s=t.productInfo)||void 0===s?void 0:s.name,description:null===(n=t.productInfo)||void 0===n?void 0:n.description,category:null===(a=t.productInfo)||void 0===a?void 0:a.category,price:{fiatAmount:null===(i=t.pricing)||void 0===i?void 0:i.costPrice,tokenAmount:null===(o=t.pricing)||void 0===o?void 0:o.sellingPrice},inventory:{available:null===(l=t.inventory)||void 0===l?void 0:l.currentStock},sustainabilityScore:null===(c=t.sustainability)||void 0===c?void 0:c.recycledMaterialPercentage,images:null===(d=t.productInfo)||void 0===d?void 0:d.images};console.log("Sending payload to backend:",JSON.stringify(m,null,2)),u.append("data",JSON.stringify(m)),r&&r.length>0&&r.forEach((e,t)=>{u.append("images",e)});const h=await Hs.put("/marketplace/".concat(e),u,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("Update response:",h.data),h.data.success)return console.log("Update successful, returning:",h.data.data),h.data.data;throw new Error(h.data.message||"Failed to update product")},deleteFactoryProduct:async e=>{const t=await Hs.delete("/marketplace/".concat(e));if(!t.data.success)throw new Error(t.data.message||"Failed to delete product")}},Tm=Em,Lm=[{id:"1",name:"Eco-Friendly Water Bottle",description:"Made from 100% recycled materials",price:299,tokenPrice:50,category:"Lifestyle",imageUrl:"https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=400&h=300&fit=crop&crop=center",sustainabilityScore:92,status:"available",stock:150},{id:"2",name:"Recycled Plastic Chair",description:"Comfortable seating from ocean plastic",price:1899,tokenPrice:200,category:"Furniture",imageUrl:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop&crop=center",sustainabilityScore:88,status:"available",stock:45},{id:"3",name:"Solar Power Bank",description:"Renewable energy on the go",price:799,tokenPrice:100,category:"Electronics",imageUrl:"https://images.unsplash.com/photo-1609091839311-d5365f9ff1c5?w=400&h=300&fit=crop&crop=center",sustainabilityScore:95,status:"available",stock:89},{id:"4",name:"Organic Cotton Tote",description:"Sustainable shopping companion",price:149,tokenPrice:25,category:"Accessories",imageUrl:"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=300&fit=crop&crop=center",sustainabilityScore:90,status:"sold_out",stock:0}],Mm=e=>{var t,r,s;return{id:e._id,name:e.productInfo.name,description:e.productInfo.description,price:e.pricing.sellingPrice||0,tokenPrice:e.pricing.ecoTokenDiscount||0,category:e.productInfo.category,imageUrl:(null===(t=e.productInfo.images)||void 0===t?void 0:t[0])||"/uploads/default-product.svg",sustainabilityScore:e.sustainability.recycledMaterialPercentage||85,status:e.inventory.currentStock>0&&e.availability.isActive?"available":"sold_out",factoryName:null===(r=e.factoryId)||void 0===r||null===(s=r.companyInfo)||void 0===s?void 0:s.name,stock:e.inventory.currentStock}},Am=()=>{te();const[e,t]=(0,a.useState)(!1),r=(0,a.useRef)(null),[s,n]=(0,a.useState)(Lm),[i,o]=(0,a.useState)(!1),{addToCart:l}=Zs(),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(0),[p,g]=(0,a.useState)(3e3),[f,y]=(0,a.useState)({factories:147,carbonSaved:23.4,transparency:98.7,tokensEarned:1247389});(0,a.useEffect)(()=>{const e=setInterval(()=>{y(e=>({factories:e.factories+Math.floor(2*Math.random()),carbonSaved:Number((e.carbonSaved+.1*Math.random()).toFixed(1)),transparency:Math.min(99.9,Number((e.transparency+.01*Math.random()).toFixed(1))),tokensEarned:e.tokensEarned+Math.floor(100*Math.random())}))},3e3);return()=>clearInterval(e)},[]),(0,a.useEffect)(()=>{const e=e=>{e.clientY<=0&&!u&&m(!0)};return document.addEventListener("mouseleave",e),()=>document.removeEventListener("mouseleave",e)},[u]);const v=[{title:"Admin Dashboard",description:"Gain a centralized view of your entire supply chain with advanced analytics, sustainability insights, and operational performance metrics\u2014all in one place.",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&h=400&fit=crop&crop=center",icon:Mn,features:["Real-time Analytics","Supply Chain Overview","Sustainability Reports"]},{title:"Factory Dashboard",description:"Monitor factory operations in real time with live production data, energy consumption tracking, and environmental impact reports for smarter decision-making.",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=600&h=400&fit=crop&crop=center",icon:An,features:["Production Monitoring","Energy Tracking","Quality Control"]},{title:"User Dashboard",description:"Empower consumers with complete product transparency\u2014trace items from origin to destination and verify ethical and sustainable sourcing practices.",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600&h=400&fit=crop&crop=center",icon:lm,features:["Product Tracing","Impact Tracking","Rewards Management"]},{title:"Collector Dashboard",description:"Enable waste collectors and recyclers to track collection activities, measure recovery impact, and contribute directly to a more circular and sustainable economy.",image:"https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=600&h=400&fit=crop&crop=center",icon:In,features:["Collection Tracking","Impact Measurement","Earnings Overview"]}],b=(0,a.useRef)(null),j=(0,a.useRef)(null),w=(0,a.useRef)(null),N=(0,a.useRef)(null);(0,a.useEffect)(()=>{(async()=>{try{o(!0);const e=(await Tm.getProducts()).slice(0,4).map(Mm);n(e)}catch(e){console.error("Error fetching featured products:",e),n(Lm)}finally{o(!1)}})()},[]),(0,a.useEffect)(()=>{const s=new IntersectionObserver(r=>{let[s]=r;s.isIntersecting&&!e&&(t(!0),k(b.current,0,f.factories,2e3,"+"),k(j.current,0,f.carbonSaved,2e3,"%"),k(w.current,0,f.transparency,2e3,"%"),k(N.current,0,f.tokensEarned,2500,""))},{threshold:.1});return r.current&&s.observe(r.current),()=>{r.current&&s.unobserve(r.current)}},[e,f]);const k=function(e,t,r,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(!e)return;const a=(r-t)/(s/16);let i=t;const o=setInterval(()=>{i+=a,i>=r&&(i=r,clearInterval(o)),e.textContent=""===n&&r>1e4?Math.floor(i).toLocaleString()+n:i.toFixed("%"===n?1:0)+n},16)},S=(C=p,{tokensEarned:Math.floor(.1*C),carbonSaved:(.05*C).toFixed(1),treesPlanted:Math.floor(C/100)});var C;return(0,Ys.jsxs)("div",{className:"bg-white min-h-screen overflow-x-hidden",children:[u&&(0,Ys.jsx)(om.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Ys.jsxs)(om.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-8 max-w-md w-full text-center relative",children:[(0,Ys.jsx)("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:(0,Ys.jsx)($n,{className:"h-6 w-6"})}),(0,Ys.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udf31"}),(0,Ys.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Wait! Don't Miss Out"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-6",children:"Join 10,000+ users earning tokens while saving the planet. Get started with 50 free eco-tokens!"}),(0,Ys.jsxs)("div",{className:"space-y-3",children:[(0,Ys.jsx)("button",{onClick:()=>{m(!1)},className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Claim My Free Tokens"}),(0,Ys.jsx)("button",{onClick:()=>m(!1),className:"w-full text-gray-500 hover:text-gray-700",children:"Maybe later"})]})]})}),(0,Ys.jsxs)("section",{className:"relative overflow-hidden bg-white -mt-10",children:[(0,Ys.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,Ys.jsx)(om.div,{animate:{x:[0,100,0],y:[0,-50,0],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-20 left-10 w-32 h-32 bg-green-100 rounded-full opacity-20"}),(0,Ys.jsx)(om.div,{animate:{x:[0,-80,0],y:[0,100,0],scale:[1,1.2,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute bottom-20 right-20 w-24 h-24 bg-yellow-200 rounded-full opacity-30"})]}),(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-24 relative",children:(0,Ys.jsxs)("div",{className:"flex flex-col lg:flex-row items-center",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},className:"lg:w-1/2 mb-12 lg:mb-0 lg:pr-12",children:[(0,Ys.jsxs)("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6",children:[(0,Ys.jsx)(om.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-green-600",children:"Recycle."})," ",(0,Ys.jsx)(om.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-yellow-500",children:"Earn."})," ",(0,Ys.jsx)(om.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-green-600",children:"Sustain."})]}),(0,Ys.jsxs)(om.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-xl text-gray-700 mb-8 max-w-lg leading-relaxed",children:["Transform waste into wealth on the world's first blockchain-powered sustainability platform.",(0,Ys.jsx)("span",{className:"font-semibold text-green-600",children:" Earn tokens, save the planet."})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-wrap gap-4 mb-8",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-full shadow-sm",children:[(0,Ys.jsx)(cm,{className:"h-4 w-4 text-green-600"}),(0,Ys.jsx)("span",{className:"text-sm font-medium",children:"Instant Rewards"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-full shadow-sm",children:[(0,Ys.jsx)(dm,{className:"h-4 w-4 text-green-600"}),(0,Ys.jsx)("span",{className:"text-sm font-medium",children:"100% Transparent"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-full shadow-sm",children:[(0,Ys.jsx)(um,{className:"h-4 w-4 text-green-600"}),(0,Ys.jsx)("span",{className:"text-sm font-medium",children:"Easy to Use"})]})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"flex flex-col sm:flex-row gap-1",children:[(0,Ys.jsxs)(wn,{to:"/register",className:"group px-6 py-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center text-md",children:["Start Earning Today",(0,Ys.jsx)(sa,{className:"ml-1 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),(0,Ys.jsxs)("button",{className:"flex items-center justify-center gap-3 px-6 py-4 bg-white hover:bg-gray-50 text-gray-900 font-semibold rounded-xl shadow-md hover:shadow-lg transition-all duration-300 border border-gray-200",children:[(0,Ys.jsx)(mm,{className:"h-5 w-5 text-green-600"}),"Watch 2-min Demo"]})]}),(0,Ys.jsx)(om.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-6 text-sm text-gray-500",children:"\u26a1 Get started in under 60 seconds \u2022 No credit card required"})]}),(0,Ys.jsx)(om.div,{initial:{opacity:0,scale:.9,x:30},animate:{opacity:1,scale:1,x:0},transition:{duration:.6,delay:.3},className:"lg:w-2/3 relative -mt-20",children:(0,Ys.jsx)("div",{className:"relative",children:(0,Ys.jsx)("img",{src:"/images/recycling-illustration.png",alt:"Recycling waste illustration",className:"w-full h-auto max-w-2xl mx-auto drop-shadow-2xl rounded-2xl"})})})]})}),(0,Ys.jsx)(om.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.5,duration:.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:(0,Ys.jsxs)(om.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},className:"flex flex-col items-center gap-2 text-gray-500",children:[(0,Ys.jsx)("span",{className:"text-xs",children:"Discover more"}),(0,Ys.jsx)(hm,{className:"h-4 w-4"})]})})]}),(0,Ys.jsx)("section",{className:"py-20 bg-green-50",children:(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mr-12",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-center mb-16",children:[(0,Ys.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How EcoChain Works"}),(0,Ys.jsx)("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto",children:"A simple closed-loop system where every action makes a difference"})]}),(0,Ys.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 max-w-6xl mx-auto",children:[{step:"01",title:"Recycle & Report",description:"Upload photos of your recycling activities or submit waste for processing",icon:In,color:"green"},{step:"02",title:"Get Verified",description:"Our AI and community validate your sustainable actions on the blockchain",icon:xm,color:"yellow"},{step:"03",title:"Earn Rewards",description:"Receive eco-tokens that can be redeemed, traded, or saved for future benefits",icon:Un,color:"green"},{step:"04",title:"Shop Sustainably",description:"Use eco-tokens to buy recycled products in our marketplace, completing the cycle",icon:pm,color:"blue"}].map((e,t)=>(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2*t},viewport:{once:!0},className:"relative text-center group",children:[(0,Ys.jsx)("div",{className:"relative mb-8",children:(0,Ys.jsx)("div",{className:"w-20 h-20 ".concat("green"===e.color?"bg-green-600":"yellow"===e.color?"bg-yellow-500":"bg-blue-500"," mx-auto rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300"),children:(0,Ys.jsx)(e.icon,{className:"h-10 w-10 text-white"})})}),(0,Ys.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:e.title}),(0,Ys.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.description}),t<3&&(0,Ys.jsx)("div",{className:"hidden md:block absolute top-10 -right-4 w-10 h-0.5 ",children:(0,Ys.jsx)(sa,{className:"absolute -top-2 -right-2 h-10 w-20 text-gray-400"})})]},t))}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"mt-16 bg-white rounded-2xl shadow-lg p-8 max-w-2xl mx-auto",children:[(0,Ys.jsxs)("div",{className:"text-center mb-6",children:[(0,Ys.jsx)(gm,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),(0,Ys.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Calculate Your Impact"}),(0,Ys.jsx)("p",{className:"text-gray-600",children:"See how much you could earn and save the planet"})]}),(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Sustainable Spending (\u20b9)"}),(0,Ys.jsx)("input",{type:"range",min:"1000",max:"10000",value:p,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",onChange:e=>{const t=parseInt(e.target.value);g(t)}}),(0,Ys.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ys.jsx)("span",{children:"\u20b91,000"}),(0,Ys.jsxs)("span",{children:["\u20b9",p.toLocaleString()]}),(0,Ys.jsx)("span",{children:"\u20b910,000"})]})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"text-2xl font-bold text-green-600",children:S.tokensEarned}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600",children:"Tokens/month"})]}),(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[S.carbonSaved,"kg"]}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600",children:"CO\u2082 saved"})]}),(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"text-2xl font-bold text-green-600",children:S.treesPlanted}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600",children:"Trees planted"})]})]})]})]})]})}),(0,Ys.jsx)("section",{className:"py-20 bg-white",children:(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-center mb-16",children:[(0,Ys.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Powerful Features for Modern Supply Chains"}),(0,Ys.jsx)("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto",children:"Everything you need to build sustainable, transparent, and efficient supply chain operations."})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-green-200 transition-all duration-300 group",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6 mx-auto group-hover:bg-green-200 transition-colors duration-300",children:(0,Ys.jsx)(Wn,{className:"h-8 w-8 text-green-600"})}),(0,Ys.jsx)("h3",{className:"text-xl font-bold mb-3 text-center",children:"Track Sustainable Products"}),(0,Ys.jsx)("p",{className:"text-gray-700 text-center",children:"Monitor environmental impact and sustainability metrics across your entire product lifecycle."})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-green-200 transition-all duration-300 group",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6 mx-auto group-hover:bg-green-200 transition-colors duration-300",children:(0,Ys.jsx)(An,{className:"h-8 w-8 text-green-600"})}),(0,Ys.jsx)("h3",{className:"text-xl font-bold mb-3 text-center",children:"Factory & Production Dashboards"}),(0,Ys.jsx)("p",{className:"text-gray-700 text-center",children:"Real-time visibility into manufacturing processes with integrated sustainability controls."})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-green-200 transition-all duration-300 group",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6 mx-auto group-hover:bg-green-200 transition-colors duration-300",children:(0,Ys.jsx)(lm,{className:"h-8 w-8 text-green-600"})}),(0,Ys.jsx)("h3",{className:"text-xl font-bold mb-3 text-center",children:"Transparent Supply Chains"}),(0,Ys.jsx)("p",{className:"text-gray-700 text-center",children:"Blockchain-powered traceability ensuring complete transparency from source to consumer."})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg hover:border-green-200 transition-all duration-300 group",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6 mx-auto group-hover:bg-green-200 transition-colors duration-300",children:(0,Ys.jsx)(Mn,{className:"h-8 w-8 text-green-600"})}),(0,Ys.jsx)("h3",{className:"text-xl font-bold mb-3 text-center",children:"Eco Analytics & Reports"}),(0,Ys.jsx)("p",{className:"text-gray-700 text-center",children:"Comprehensive reporting and analytics to measure and improve your environmental impact."})]})]})]})}),(0,Ys.jsx)("section",{className:"py-12 bg-gray-50 border-t border-gray-200",children:(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ys.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Discover products"}),(0,Ys.jsxs)(wn,{to:"/marketplace",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 text-sm text-gray-800","aria-label":"View all products",children:[(0,Ys.jsx)(fm,{className:"h-4 w-4"}),"View all products"]})]}),(0,Ys.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:i?[...Array(4)].map((e,t)=>(0,Ys.jsxs)("div",{className:"rounded-xl border border-gray-200 bg-white overflow-hidden animate-pulse",children:[(0,Ys.jsx)("div",{className:"aspect-[4/3] bg-gray-200"}),(0,Ys.jsxs)("div",{className:"p-4",children:[(0,Ys.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Ys.jsx)("div",{className:"h-3 bg-gray-200 rounded mb-3 w-3/4"}),(0,Ys.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,Ys.jsx)("div",{className:"h-6 bg-gray-200 rounded-full w-16"}),(0,Ys.jsx)("div",{className:"h-6 bg-gray-200 rounded-full w-16"})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("div",{className:"h-6 bg-gray-200 rounded w-20"}),(0,Ys.jsx)("div",{className:"h-8 bg-gray-200 rounded w-16"})]})]})]},t)):s.length>0?s.map((e,t)=>{const r=c[e.id];return(0,Ys.jsxs)(om.article,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut",delay:.05*t},viewport:{once:!0,margin:"-80px"},className:"group rounded-xl border border-gray-200 bg-white overflow-hidden hover:border-green-300 hover:shadow-lg transition-all duration-300",children:[(0,Ys.jsxs)("div",{className:"aspect-[4/3] bg-gray-100 overflow-hidden relative",children:[(0,Ys.jsx)("img",{src:e.imageUrl||"/uploads/default-product.svg",alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-[1.03]",onError:e=>{e.target.src="/uploads/default-product.svg"}}),"sold_out"===e.status&&(0,Ys.jsx)("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Sold Out"}),e.factoryName&&(0,Ys.jsxs)("div",{className:"absolute bottom-3 left-3 bg-black/75 backdrop-blur-sm text-white text-xs px-3 py-1 rounded-full flex items-center gap-1",children:[(0,Ys.jsx)(ym,{size:10}),(0,Ys.jsx)("span",{className:"truncate max-w-20",children:e.factoryName})]}),(0,Ys.jsxs)("div",{className:"absolute top-3 left-3 bg-green-500 text-white text-xs font-semibold px-2 py-1 rounded-full flex items-center gap-1",children:[(0,Ys.jsx)(Wn,{size:10}),(0,Ys.jsxs)("span",{children:[e.sustainabilityScore||85,"%"]})]})]}),(0,Ys.jsxs)("div",{className:"p-4",children:[(0,Ys.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,Ys.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:e.name}),(0,Ys.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,Ys.jsx)(vm,{className:"h-4 w-4 text-amber-500"}),((e.sustainabilityScore||85)/20).toFixed(1)]})]}),(0,Ys.jsx)("div",{className:"mt-1 text-sm text-gray-600",children:e.factoryName||"EcoChain Partner"}),(0,Ys.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,Ys.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs border border-gray-200 bg-gray-50 text-gray-800",children:[(0,Ys.jsx)(bm,{className:"h-3.5 w-3.5 text-emerald-600"}),e.category||"Eco-Friendly"]}),(0,Ys.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-xs border border-gray-200 bg-gray-50 text-gray-800",children:[(0,Ys.jsx)(xm,{className:"h-3.5 w-3.5 text-emerald-600"}),"Verified"]})]}),(0,Ys.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["\u20b9",e.price.toLocaleString()]}),e.tokenPrice>0&&(0,Ys.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,Ys.jsx)(Wn,{size:10}),e.tokenPrice," tokens"]})]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:"Stock"}),(0,Ys.jsx)("div",{className:"font-semibold text-gray-900 text-sm",children:e.stock})]})]}),(0,Ys.jsx)("div",{className:"mt-4",children:r?(0,Ys.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 shadow-sm",disabled:!0,children:[(0,Ys.jsx)(na,{size:16}),(0,Ys.jsx)("span",{className:"text-sm",children:"Added"})]}):(0,Ys.jsx)("button",{onClick:()=>(e=>{const t={id:e.id,name:e.name,description:e.description,price:e.price,tokenPrice:e.tokenPrice,category:e.category,imageUrl:e.imageUrl,sustainabilityScore:e.sustainabilityScore,status:e.status};l(t),d(t=>Jt(Jt({},t),{},{[e.id]:!0})),setTimeout(()=>{d(t=>Jt(Jt({},t),{},{[e.id]:!1}))},2e3)})(e),disabled:"sold_out"===e.status,className:"w-full flex items-center justify-center gap-2 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md ".concat("sold_out"===e.status?"bg-gray-400":"bg-green-600 hover:bg-green-700"),children:"sold_out"===e.status?(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)(Fn,{size:16}),(0,Ys.jsx)("span",{className:"text-sm",children:"Sold Out"})]}):(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)(jm,{size:16}),(0,Ys.jsx)("span",{className:"text-sm",children:"Add to Cart"})]})})})]})]},e.id)}):(0,Ys.jsxs)("div",{className:"col-span-full text-center py-8",children:[(0,Ys.jsx)("div",{className:"text-gray-500 mb-2",children:"No products available at the moment"}),(0,Ys.jsx)(wn,{to:"/marketplace",className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"Visit our marketplace \u2192"})]})}),!i&&s.length>0&&(0,Ys.jsx)("div",{className:"mt-8 text-center",children:(0,Ys.jsxs)(wn,{to:"/marketplace",className:"inline-flex items-center gap-2 px-5 py-3 rounded-lg border border-gray-200 bg-white hover:bg-gray-50",children:[(0,Ys.jsx)(fm,{className:"h-4 w-4"}),"View all products"]})})]})}),(0,Ys.jsx)("section",{className:"py-16 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ys.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Dashboards for every role"}),(0,Ys.jsxs)("div",{className:"flex gap-2",children:[(0,Ys.jsx)("button",{onClick:()=>{x(e=>(e-1+v.length)%v.length)},className:"p-2 rounded-full border border-gray-200 bg-white hover:bg-green-50 hover:text-green-600 transition","aria-label":"Previous dashboard",children:(0,Ys.jsx)(wm,{className:"h-5 w-5"})}),(0,Ys.jsx)("button",{onClick:()=>{x(e=>(e+1)%v.length)},className:"p-2 rounded-full border border-gray-200 bg-white hover:bg-green-50 hover:text-green-600 transition","aria-label":"Next dashboard",children:(0,Ys.jsx)(Nm,{className:"h-5 w-5"})})]})]}),(0,Ys.jsxs)("div",{className:"relative overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-sm hover:shadow-xl hover:border-green-200 transition",children:[(0,Ys.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,Ys.jsxs)("div",{className:"flex-1 p-8 flex flex-col justify-center",children:[(0,Ys.jsx)(om.h3,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.35},className:"text-2xl font-bold text-green-600",children:v[h].title},v[h].title),(0,Ys.jsx)(om.p,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.35,delay:.05},className:"mt-3 text-gray-600 text-base leading-relaxed",children:v[h].description},v[h].description),(0,Ys.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,Ys.jsxs)("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 bg-gray-50 hover:bg-green-50 text-sm font-medium transition",children:[a.createElement(v[h].icon,{className:"h-4 w-4"}),"Interactive preview"]}),(0,Ys.jsx)("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-500 text-white hover:bg-green-600 text-sm font-medium transition",children:"Learn more"})]})]}),(0,Ys.jsx)("div",{className:"flex-1 p-8 bg-white  flex items-center justify-center min-h-[320px]",children:(0,Ys.jsx)(om.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.45},className:"w-full max-w-lg rounded-xl border border-gray-200 shadow-lg overflow-hidden",children:(0,Ys.jsx)("img",{src:v[h].image,alt:v[h].title+" preview",className:"w-full h-full object-cover"})},v[h].image)})]}),(0,Ys.jsx)("div",{className:"flex justify-center py-4",children:(0,Ys.jsx)("div",{className:"flex gap-2",children:v.map((e,t)=>(0,Ys.jsx)("button",{onClick:()=>x(t),className:["w-3 h-3 rounded-full transition",t===h?"bg-green-500":"bg-gray-300"].join(" "),"aria-label":"Go to "+v[t].title},t))})})]})]})}),(0,Ys.jsx)("section",{className:"py-20 bg-white",children:(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-center mb-16",children:[(0,Ys.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose EcoChain?"}),(0,Ys.jsx)("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto",children:"Built on four core pillars that drive sustainable business success."})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-lg",children:(0,Ys.jsx)(km,{className:"h-10 w-10 text-white"})}),(0,Ys.jsx)("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Transparency"}),(0,Ys.jsx)("p",{className:"text-gray-700",children:"Complete visibility into every step of your supply chain with immutable blockchain records."})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-lg",children:(0,Ys.jsx)(Wn,{className:"h-10 w-10 text-white"})}),(0,Ys.jsx)("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Sustainability"}),(0,Ys.jsx)("p",{className:"text-gray-700",children:"Advanced tools to measure, track, and reduce your environmental impact across all operations."})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-lg",children:(0,Ys.jsx)(dm,{className:"h-10 w-10 text-white"})}),(0,Ys.jsx)("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Accountability"}),(0,Ys.jsx)("p",{className:"text-gray-700",children:"Automated compliance monitoring and reporting to meet regulatory requirements effortlessly."})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mb-6 mx-auto shadow-lg",children:(0,Ys.jsx)(um,{className:"h-10 w-10 text-white"})}),(0,Ys.jsx)("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Efficiency"}),(0,Ys.jsx)("p",{className:"text-gray-700",children:"Streamline operations with AI-powered insights and automated workflow optimization."})]})]})]})}),(0,Ys.jsx)("section",{ref:r,className:"py-20 bg-green-600 text-white",children:(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},className:"text-center mb-16",children:[(0,Ys.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Trusted Worldwide"}),(0,Ys.jsx)("p",{className:"text-xl max-w-3xl mx-auto",children:"Join leading organizations making a real impact on sustainability."})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},className:"bg-white bg-opacity-10 rounded-xl p-8 text-center backdrop-blur-sm",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Ys.jsx)(An,{className:"h-8 w-8 mr-2"}),(0,Ys.jsx)("span",{className:"text-4xl md:text-5xl font-bold",ref:b,children:"0"})]}),(0,Ys.jsx)("p",{className:"text-xl",children:"Factories Connected"})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.1},className:"bg-white bg-opacity-10 rounded-xl p-8 text-center backdrop-blur-sm",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Ys.jsx)(Sm,{className:"h-8 w-8 mr-2"}),(0,Ys.jsx)("span",{className:"text-4xl md:text-5xl font-bold",ref:j,children:"0"})]}),(0,Ys.jsx)("p",{className:"text-xl",children:"Carbon Reduction"})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.2},className:"bg-white bg-opacity-10 rounded-xl p-8 text-center backdrop-blur-sm",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Ys.jsx)(Cm,{className:"h-8 w-8 mr-2"}),(0,Ys.jsx)("span",{className:"text-4xl md:text-5xl font-bold",ref:w,children:"0"})]}),(0,Ys.jsx)("p",{className:"text-xl",children:"Supply Chain Transparency"})]})]})]})}),(0,Ys.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-center mb-16",children:[(0,Ys.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"What Our Customers Say"}),(0,Ys.jsx)("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto",children:"See how EcoChain is transforming supply chains worldwide."})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto",children:[(0,Ys.jsxs)(om.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.5},viewport:{once:!0},className:"bg-white rounded-xl p-8 shadow-md",children:[(0,Ys.jsx)("div",{className:"flex items-center mb-4",children:[...Array(5)].map((e,t)=>(0,Ys.jsx)(vm,{className:"h-5 w-5 text-yellow-400 fill-current"},t))}),(0,Ys.jsx)("p",{className:"text-gray-700 mb-6 italic text-lg",children:'"EcoChain has revolutionized how we manage our supply chain. The transparency and sustainability insights have helped us reduce our carbon footprint by 20% while improving efficiency."'}),(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4",children:(0,Ys.jsx)(Dn,{className:"h-6 w-6 text-green-600"})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h4",{className:"font-semibold text-gray-900",children:"Sarah Chen"}),(0,Ys.jsx)("p",{className:"text-gray-600",children:"Supply Chain Director, GreenTech Industries"})]})]})]}),(0,Ys.jsxs)(om.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"bg-white rounded-xl p-8 shadow-md",children:[(0,Ys.jsx)("div",{className:"flex items-center mb-4",children:[...Array(5)].map((e,t)=>(0,Ys.jsx)(vm,{className:"h-5 w-5 text-yellow-400 fill-current"},t))}),(0,Ys.jsx)("p",{className:"text-gray-700 mb-6 italic text-lg",children:'"The blockchain transparency features give our customers complete confidence in our sustainability claims. It\'s been a game-changer for our brand trust and market positioning."'}),(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4",children:(0,Ys.jsx)(Dn,{className:"h-6 w-6 text-green-600"})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h4",{className:"font-semibold text-gray-900",children:"Michael Rodriguez"}),(0,Ys.jsx)("p",{className:"text-gray-600",children:"CEO, Sustainable Manufacturing Co."})]})]})]})]})]})}),(0,Ys.jsx)("section",{className:"py-20 bg-white ",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,Ys.jsxs)(om.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[(0,Ys.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Join EcoChain and make your supply chain sustainable"}),(0,Ys.jsx)("p",{className:"text-xl mb-12 max-w-3xl mx-auto",children:"Start building transparent, sustainable supply chains today. Join thousands of companies already using EcoChain to drive positive environmental impact."}),(0,Ys.jsxs)("div",{className:"flex flex-wrap justify-center gap-6",children:[(0,Ys.jsxs)(wn,{to:"/signup",className:"px-8 py-4 bg-white text-green-600 hover:bg-gray-100 font-bold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center",children:["Sign Up Free",(0,Ys.jsx)(sa,{className:"ml-2 h-5 w-5"})]}),(0,Ys.jsx)("button",{className:"px-8 py-4 border-2 bg-green-600 text-white hover:bg-white hover:text-green-600 font-bold rounded-lg transition-all duration-300",children:"Contact Sales"})]})]})})})]})},Dm=En("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Rm=En("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Fm=En("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Im=En("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Om=En("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),zm=En("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Bm=En("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),_m=e=>{var t,r,s;return{id:e._id,name:e.productInfo.name,description:e.productInfo.description,price:e.pricing.sellingPrice||0,tokenPrice:e.pricing.ecoTokenDiscount||0,category:e.productInfo.category,imageUrl:(null===(t=e.productInfo.images)||void 0===t?void 0:t[0])||"/uploads/default-product.svg",sustainabilityScore:e.sustainability.recycledMaterialPercentage||85,status:e.inventory.currentStock>0&&e.availability.isActive?"available":"sold_out",factoryName:null===(r=e.factoryId)||void 0===r||null===(s=r.companyInfo)||void 0===s?void 0:s.name,stock:e.inventory.currentStock}},Um=()=>{var e;const{cart:t,addToCart:r}=Zs(),{user:s}=Ks(),n=(null===s||void 0===s||null===(e=s.ecoWallet)||void 0===e?void 0:e.currentBalance)||0,[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)("all"),[x,p]=(0,a.useState)(""),[g,f]=(0,a.useState)("popular"),[y,v]=(0,a.useState)(1),[b,j]=(0,a.useState)([]),[w,N]=(0,a.useState)("grid"),[k,S]=(0,a.useState)(!1),[C,P]=(0,a.useState)({});(0,a.useEffect)(()=>{(async()=>{try{c(!0);const e=(await Tm.getProducts()).map(_m);o(e),u(null)}catch(Kh){console.error("Error fetching products:",Kh),u("Failed to load products. Please try again later.")}finally{c(!1)}})()},[]);const E=(0,a.useMemo)(()=>{let e=[...i];if("all"!==m&&(e=e.filter(e=>e.category===m)),x){const t=x.toLowerCase();e=e.filter(e=>(e.name||"").toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||(e.factoryName||"").toLowerCase().includes(t))}"price_low"===g&&e.sort((e,t)=>e.price-t.price),"price_high"===g&&e.sort((e,t)=>t.price-e.price),"rating"===g&&e.sort((e,t)=>(t.sustainabilityScore||0)-(e.sustainabilityScore||0));const t=e.length,r=12*(y-1),s=r+12;return{total:t,items:e.slice(r,s)}},[i,m,x,g,y]);(0,a.useEffect)(()=>{j(E.items)},[E]);const T=new Set(i.map(e=>e.category||"uncategorized")),L=["all",...Array.from(T)],M=Math.max(1,Math.ceil(E.total/12)),A=()=>{p(""),h("all"),f("popular"),v(1)},D=e=>{r(e),P(t=>Jt(Jt({},t),{},{[e.id]:!0})),setTimeout(()=>{P(t=>Jt(Jt({},t),{},{[e.id]:!1}))},450)};return t?l?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,Ys.jsx)("div",{className:"flex items-center justify-center h-64 bg-green-50 rounded-xl border border-green-200",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)(Rm,{className:"h-8 w-8 text-green-600 animate-spin"})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Loading Products"}),(0,Ys.jsx)("p",{className:"text-green-700",children:"Please wait while we fetch the latest eco-friendly products..."})]})})})}):d?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,Ys.jsx)("div",{className:"flex items-center justify-center h-64 bg-red-50 rounded-xl border border-red-200",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)(Dm,{className:"h-8 w-8 text-red-600"})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Error Loading Products"}),(0,Ys.jsx)("p",{className:"text-red-700 mb-6",children:d}),(0,Ys.jsx)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Try Again"})]})})})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-24",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"EcoChain Marketplace"}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500",children:["Welcome back, ",null===s||void 0===s?void 0:s.name,"! Discover eco-friendly products"]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3 bg-gradient-to-r from-green-50 to-green-100 px-4 py-2 rounded-xl border border-green-200",children:[(0,Ys.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)(Wn,{className:"h-4 w-4 text-white"})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"text-xl font-bold text-green-800",children:(null===n||void 0===n?void 0:n.toLocaleString())||0}),(0,Ys.jsx)("div",{className:"text-xs text-green-600 font-medium",children:"EcoTokens Available"}),(0,Ys.jsx)("div",{className:"text-xs text-green-600 font-medium",children:"1 EcoTokens = 2 \u20b9"})]})]}),t.length>0&&(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsxs)(wn,{to:"/cart",className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,Ys.jsx)(Tn,{size:16}),(0,Ys.jsxs)("span",{children:["Cart (",t.length,")"]})]}),(0,Ys.jsxs)(wn,{to:"/checkout",className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,Ys.jsx)(Fm,{size:16}),(0,Ys.jsx)("span",{children:"Checkout"})]})]})]})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ys.jsxs)("div",{className:"mb-8 space-y-6",children:[(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Ys.jsx)(Im,{className:"h-5 w-5 text-gray-400"})}),(0,Ys.jsx)("input",{type:"text",placeholder:"Search products, categories, or factories...",value:x,onChange:e=>{p(e.target.value),v(1)},className:"block w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none text-gray-900 placeholder-gray-500 transition-all shadow-sm"}),x&&(0,Ys.jsx)("button",{onClick:()=>p(""),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:(0,Ys.jsx)($n,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),(0,Ys.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between mb-4",children:[(0,Ys.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,Ys.jsxs)("button",{onClick:()=>S(!k),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors sm:hidden",children:[(0,Ys.jsx)(Om,{size:16}),(0,Ys.jsx)("span",{className:"text-sm font-medium",children:"Filters"})]}),(0,Ys.jsx)("div",{className:"relative",children:(0,Ys.jsxs)("select",{value:g,onChange:e=>{f(e.target.value),v(1)},className:"appearance-none bg-gray-50 border border-gray-300 text-gray-900 py-2 pl-3 pr-8 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-colors text-sm font-medium",children:[(0,Ys.jsx)("option",{value:"popular",children:"Most Popular"}),(0,Ys.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,Ys.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,Ys.jsx)("option",{value:"rating",children:"Top Rated"})]})}),(0,Ys.jsxs)("span",{className:"text-sm text-gray-600 bg-gray-50 px-3 py-1 rounded-full",children:[E.total," product",1!==E.total?"s":""]})]}),(0,Ys.jsx)("div",{className:"".concat(k?"block":"hidden sm:block"),children:(0,Ys.jsxs)("div",{className:"flex flex-wrap gap-2",children:[L.map(e=>(0,Ys.jsx)("button",{className:"px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(m===e?"bg-green-500 text-white shadow-sm":"bg-gray-100 text-gray-800 hover:bg-gray-200"),onClick:()=>{h(e),v(1)},children:e.charAt(0).toUpperCase()+e.slice(1)},e)),(x||"all"!==m||"popular"!==g)&&(0,Ys.jsxs)("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-800 rounded-lg font-medium text-sm transition-colors",children:[(0,Ys.jsx)($n,{size:14}),(0,Ys.jsx)("span",{children:"Clear All"})]})]})}),(0,Ys.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,Ys.jsx)("button",{onClick:()=>N("grid"),className:"p-2 rounded-md transition-colors ".concat("grid"===w?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,Ys.jsx)(zm,{size:16})}),(0,Ys.jsx)("button",{onClick:()=>N("list"),className:"p-2 rounded-md transition-colors ".concat("list"===w?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,Ys.jsx)(Bm,{size:16})})]})]})]}),(0,Ys.jsx)("div",{className:"marketplace-content",children:b.length>0?(0,Ys.jsx)("div",{className:"grid"===w?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-6",children:b.map(e=>{const t=C[e.id];return"grid"===w?(0,Ys.jsxs)("div",{className:"group bg-white rounded-xl overflow-hidden border border-gray-200 hover:border-green-300 hover:shadow-lg transition-all duration-300",children:[(0,Ys.jsxs)("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[(0,Ys.jsx)("img",{src:e.imageUrl||"/uploads/default-product.svg",alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="/uploads/default-product.svg"}}),"sold_out"===e.status&&(0,Ys.jsx)("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Sold Out"}),e.factoryName&&(0,Ys.jsxs)("div",{className:"absolute bottom-3 left-3 bg-black/75 backdrop-blur-sm text-white text-xs px-3 py-1 rounded-full flex items-center gap-1",children:[(0,Ys.jsx)(ym,{size:10}),(0,Ys.jsx)("span",{className:"truncate max-w-20",children:e.factoryName})]}),(0,Ys.jsxs)("div",{className:"absolute top-3 left-3 bg-green-500 text-white text-xs font-semibold px-2 py-1 rounded-full flex items-center gap-1",children:[(0,Ys.jsx)(Wn,{size:10}),(0,Ys.jsxs)("span",{children:[e.sustainabilityScore,"%"]})]})]}),(0,Ys.jsxs)("div",{className:"p-6",children:[(0,Ys.jsx)("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-1",children:e.name}),(0,Ys.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("div",{className:"text-xl font-bold text-green-600",children:["\u20b9",e.price.toLocaleString()]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,Ys.jsx)(Wn,{size:12}),e.tokenPrice," tokens"]})]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:"Stock"}),(0,Ys.jsx)("div",{className:"font-semibold text-gray-900 text-sm",children:e.stock})]})]}),(0,Ys.jsx)("div",{className:"flex gap-2",children:t?(0,Ys.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 shadow-sm",disabled:!0,children:[(0,Ys.jsx)(na,{size:16}),(0,Ys.jsx)("span",{className:"text-sm",children:"Added"})]}):(0,Ys.jsx)("button",{onClick:()=>D(e),disabled:"sold_out"===e.status,className:"flex-1 flex items-center justify-center gap-2 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md ".concat("sold_out"===e.status?"bg-gray-400":"bg-green-600 hover:bg-green-700"),children:"sold_out"===e.status?(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)(Fn,{size:16}),(0,Ys.jsx)("span",{className:"text-sm",children:"Sold Out"})]}):(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)(jm,{size:16}),(0,Ys.jsx)("span",{className:"text-sm",children:"Add to Cart"})]})})})]})]},e.id):(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex gap-6",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 w-32 h-32 bg-gray-100 rounded-xl overflow-hidden",children:(0,Ys.jsx)("img",{src:e.imageUrl||"/uploads/default-product.svg",alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="/uploads/default-product.svg"}})}),(0,Ys.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Ys.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsxs)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full flex items-center gap-1",children:[(0,Ys.jsx)(Wn,{size:10}),e.sustainabilityScore,"% eco"]}),"sold_out"===e.status&&(0,Ys.jsx)("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full",children:"Sold Out"})]})]}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),e.factoryName&&(0,Ys.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[(0,Ys.jsx)(ym,{size:14}),(0,Ys.jsxs)("span",{children:["By ",e.factoryName]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["\u20b9",e.price.toLocaleString()]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,Ys.jsx)(Wn,{size:12}),e.tokenPrice," tokens"]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:"Stock"}),(0,Ys.jsx)("div",{className:"font-semibold text-gray-900",children:e.stock})]})]}),(0,Ys.jsx)("div",{className:"flex items-center gap-3",children:t?(0,Ys.jsxs)("button",{className:"flex items-center gap-2 bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-sm",disabled:!0,children:[(0,Ys.jsx)(na,{size:16}),(0,Ys.jsx)("span",{children:"Added"})]}):(0,Ys.jsx)("button",{onClick:()=>D(e),disabled:"sold_out"===e.status,className:"flex items-center gap-2 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md ".concat("sold_out"===e.status?"bg-gray-400":"bg-green-600 hover:bg-green-700"),children:"sold_out"===e.status?(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)(Fn,{size:16}),(0,Ys.jsx)("span",{children:"Sold Out"})]}):(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)(jm,{size:16}),(0,Ys.jsx)("span",{children:"Add to Cart"})]})})})]})]})]})},e.id)})}):(0,Ys.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ys.jsx)(Fn,{className:"h-12 w-12 text-gray-400"})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No products found"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"We couldn't find any products matching your criteria. Try adjusting your filters or search terms."}),(0,Ys.jsxs)("button",{onClick:A,className:"inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:[(0,Ys.jsx)($n,{size:16}),(0,Ys.jsx)("span",{children:"Clear All Filters"})]})]})}),M>1&&(0,Ys.jsx)("div",{className:"mt-12 bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Ys.jsx)("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===y,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Ys.jsx)("button",{onClick:()=>v(e=>Math.min(M,e+1)),disabled:y===M,className:"relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Ys.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Ys.jsx)("div",{children:(0,Ys.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,Ys.jsx)("span",{className:"font-medium",children:Math.min(12*(y-1)+1,E.total)})," to"," ",(0,Ys.jsx)("span",{className:"font-medium",children:Math.min(12*y,E.total)})," of"," ",(0,Ys.jsx)("span",{className:"font-medium",children:E.total})," results"]})}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsxs)("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===y,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,Ys.jsx)(wm,{size:16}),(0,Ys.jsx)("span",{children:"Previous"})]}),(0,Ys.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,M)},(e,t)=>{let r;return r=M<=5||y<=3?t+1:y>=M-2?M-4+t:y-2+t,(0,Ys.jsx)("button",{onClick:()=>v(r),className:"px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(y===r?"bg-green-500 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"),children:r},r)})}),(0,Ys.jsxs)("button",{onClick:()=>v(e=>Math.min(M,e+1)),disabled:y===M,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,Ys.jsx)("span",{children:"Next"}),(0,Ys.jsx)(Nm,{size:16})]})]})]})]})})]})]}):(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,Ys.jsx)("div",{className:"flex items-center justify-center h-64 bg-red-50 rounded-xl border border-red-200",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)(Dm,{className:"h-8 w-8 text-red-600"})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Cart Error"}),(0,Ys.jsx)("p",{className:"text-red-700",children:"Error loading cart data. Please refresh the page."})]})})})})},qm=()=>{const{user:e}=Ks(),t=te(),[r,s]=(0,a.useState)({wasteType:"",quantity:0,quality:"fair",description:"",pickupAddress:"",pickupDate:"",pickupTimeSlot:"",images:[]}),[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)([]),h=e=>{const{name:t,value:r}=e.target;s(e=>Jt(Jt({},e),{},{[t]:r}))},x=()=>r.wasteType?tn.calculateEstimatedTokens(r.wasteType,r.quantity,r.quality):0;return c?(0,Ys.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,Ys.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-lg",children:[(0,Ys.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Waste Submission Successful!"}),(0,Ys.jsx)("p",{className:"mb-2",children:"Your request has been submitted successfully."}),(0,Ys.jsxs)("p",{className:"mb-2",children:["Estimated EcoTokens: ",(0,Ys.jsx)("strong",{children:x()})]}),(0,Ys.jsx)("p",{children:"You will be redirected to your dashboard..."})]})}):(0,Ys.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,Ys.jsx)("h1",{className:"text-3xl font-bold text-green-700 mb-2",children:"Submit Waste for Collection"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-6",children:"Submit your recyclable waste for collection and earn EcoTokens that you can use in our marketplace."}),o&&(0,Ys.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:o}),(0,Ys.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),l(null);try{if(!r.wasteType||!r.quantity||!r.pickupAddress)throw new Error("Please fill in all required fields");const e={wasteType:r.wasteType,quantity:r.quantity,quality:r.quality,description:r.description,pickupAddress:r.pickupAddress,pickupDate:r.pickupDate,pickupTimeSlot:r.pickupTimeSlot,images:r.images},s=await tn.createSubmission(e);console.log("Waste submission successful:",s),d(!0),setTimeout(()=>{t("/dashboard")},2e3)}catch(s){console.error("Submission error:",s),l(s.message||"Failed to submit waste request. Please try again.")}finally{i(!1)}},className:"bg-white shadow-lg rounded-lg px-8 pt-6 pb-8 mb-4 border border-gray-100",children:[(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("label",{htmlFor:"wasteType",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Waste Type"}),(0,Ys.jsxs)("select",{id:"wasteType",name:"wasteType",value:r.wasteType,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",children:[(0,Ys.jsx)("option",{value:"",children:"Select waste type"}),[{id:"plastic",name:"Plastic",tokenRate:10},{id:"paper",name:"Paper",tokenRate:5},{id:"glass",name:"Glass",tokenRate:8},{id:"metal",name:"Metal",tokenRate:15},{id:"electronic",name:"Electronics",tokenRate:20},{id:"organic",name:"Organic",tokenRate:3},{id:"other",name:"Other",tokenRate:2}].map(e=>(0,Ys.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("label",{htmlFor:"quantity",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Quantity (kg)"}),(0,Ys.jsx)("input",{type:"number",id:"quantity",name:"quantity",min:"0.1",step:"0.1",value:r.quantity||"",onChange:h,placeholder:"Enter quantity",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"})]}),(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("label",{htmlFor:"quality",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Waste Quality"}),(0,Ys.jsxs)("select",{id:"quality",name:"quality",value:r.quality,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",children:[(0,Ys.jsx)("option",{value:"poor",children:"Poor"}),(0,Ys.jsx)("option",{value:"fair",children:"Fair"}),(0,Ys.jsx)("option",{value:"good",children:"Good"}),(0,Ys.jsx)("option",{value:"excellent",children:"Excellent"})]}),(0,Ys.jsx)("p",{className:"text-gray-500 text-xs italic mt-1",children:"Quality affects the token multiplier (Poor: 0.7x, Fair: 1.0x, Good: 1.2x, Excellent: 1.5x)"})]}),(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("label",{htmlFor:"description",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Description"}),(0,Ys.jsx)("textarea",{id:"description",name:"description",value:r.description,onChange:h,placeholder:"Provide details about your waste (condition, packaging, etc.)",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors resize-none"})]}),(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("label",{htmlFor:"pickupAddress",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Pickup Address"}),(0,Ys.jsx)("input",{type:"text",id:"pickupAddress",name:"pickupAddress",value:r.pickupAddress,onChange:h,placeholder:"Enter your pickup address",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"pickupDate",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Pickup Date"}),(0,Ys.jsx)("input",{type:"date",id:"pickupDate",name:"pickupDate",value:r.pickupDate,onChange:h,min:(new Date).toISOString().split("T")[0],required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"pickupTimeSlot",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Preferred Time Slot"}),(0,Ys.jsxs)("select",{id:"pickupTimeSlot",name:"pickupTimeSlot",value:r.pickupTimeSlot,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",children:[(0,Ys.jsx)("option",{value:"",children:"Select time slot"}),["08:00 - 10:00","10:00 - 12:00","12:00 - 14:00","14:00 - 16:00","16:00 - 18:00"].map(e=>(0,Ys.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("label",{htmlFor:"images",className:"block text-gray-700 text-sm font-semibold mb-2",children:"Upload Images"}),(0,Ys.jsx)("input",{type:"file",id:"images",name:"images",onChange:e=>{if(e.target.files){const t=Array.from(e.target.files),r=t.map(e=>URL.createObjectURL(e));m(e=>[...e,...r]),s(e=>Jt(Jt({},e),{},{images:[...e.images,...t]}))}},accept:"image/*",multiple:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"}),(0,Ys.jsx)("p",{className:"text-gray-500 text-xs italic mt-1",children:"Upload clear images of your waste to help us verify the type and quantity."})]}),u.length>0&&(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"Image Previews"}),(0,Ys.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:u.map((e,t)=>(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)("img",{src:e,alt:"Waste preview ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),(0,Ys.jsx)("button",{type:"button",className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",onClick:()=>(e=>{URL.revokeObjectURL(u[e]),m(t=>t.filter((t,r)=>r!==e)),s(t=>Jt(Jt({},t),{},{images:t.images.filter((t,r)=>r!==e)}))})(t),children:"\xd7"})]},t))})]}),(0,Ys.jsxs)("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg mb-6",children:[(0,Ys.jsxs)("p",{className:"text-lg text-green-800",children:["Estimated EcoTokens: ",(0,Ys.jsx)("strong",{children:x()})]}),(0,Ys.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Final token amount may vary based on verification by our collectors."})]}),(0,Ys.jsx)("div",{className:"flex justify-center",children:(0,Ys.jsx)("button",{type:"submit",disabled:n,className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg focus:outline-none focus:ring-4 focus:ring-green-300 transition-all ".concat(n?"opacity-50 cursor-not-allowed":""),children:n?"Submitting...":"Submit Waste Request"})})]})]})};let Vm=null,Wm=null;const Hm=e=>{switch(e){case"completed":return"bg-eco-green-100 text-eco-green-800";case"requested":return"bg-amber-100 text-amber-800";case"scheduled":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-purple-100 text-purple-800";case"collected":return"bg-indigo-100 text-indigo-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};let $m=null,Ym=null;const Gm=()=>{var e;const[t,r]=(0,a.useState)(!0),[s,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),{user:l,updateUser:c}=Ks(),{environmentalImpact:d,refreshCollections:u,loading:m,error:h}=mn(),[x,p]=(0,a.useState)([]),[g,f]=(0,a.useState)(!0),[y,v]=(0,a.useState)(null),[b,j]=(0,a.useState)((null===l||void 0===l||null===(e=l.ecoWallet)||void 0===e?void 0:e.currentBalance)||0),[w,N]=(0,a.useState)(null),k=async()=>{try{console.log("Fetching latest user data from cache...");const t=await $s.getUserData();if(t){var e;const r=(null===(e=t.ecoWallet)||void 0===e?void 0:e.currentBalance)||0;return console.log("Previous token balance:",b),console.log("New token balance from database:",r),r!==b?(j(r),N(new Date),console.log("Token balance updated from",b,"to",r)):console.log("Token balance unchanged, skipping update"),r===b&&null!==l&&void 0!==l&&l.ecoWallet||(c(t),console.log("Updated user in AuthContext with fresh data")),r}console.error("Failed to fetch user data")}catch(r){var t;console.error("Error fetching latest user data:",r),console.error("Error details:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message)}},S=(0,a.useCallback)(async()=>{if(!l)return;const e=Date.now();if(Vm&&Wm&&e-Wm<3e4)return p(Vm),void f(!1);try{f(!0),v(null);let r=0;const s=3;for(;r<s;)try{const t=await tn.getUserSubmissions();if(!t||!t.data)throw p([]),new Error("No waste submissions data available");{const r=t.data.collections||[];Vm=r,Wm=e,p(r)}break}catch(t){if(r++,r>=s)throw t;await new Promise(e=>setTimeout(e,1e3*Math.pow(2,r)))}}catch(t){console.error("Error fetching waste requests:",t);let e="Failed to load waste requests. Please try again later.";if(t.message.includes("Authentication required"))e="Please log in to view your waste submissions.";else{if(t.message.includes("No submissions found"))return p([]),v(null),void f(!1);t.message&&(e=t.message)}v(e)}finally{f(!1)}},[l]);(0,a.useEffect)(()=>{if(l){var e,t;console.log("Dashboard useEffect - User detected, initializing..."),console.log("User initial token balance:",null===(e=l.ecoWallet)||void 0===e?void 0:e.currentBalance),r(!1);const s=(null===(t=l.ecoWallet)||void 0===t?void 0:t.currentBalance)||0;s!==b&&j(s),S(),k()}else r(!1)},[l,b,S,k]);const C=async()=>{try{console.log("Dashboard refresh initiated..."),n(!0),o(null),$m=null,Ym=null,Vm=null,Wm=null,await Promise.all([u(),S(),k()]),console.log("Dashboard refresh completed successfully")}catch(i){console.error("Refresh failed:",i),o("Failed to refresh data. Please try again.")}finally{n(!1)}};return t||m?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading your dashboard..."})]})}):i||h?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:i||h}),(0,Ys.jsx)("button",{onClick:C,className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Try Again"})]})})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500",children:["Welcome back, ",null===l||void 0===l?void 0:l.name,"! Track your eco-friendly journey"]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium bg-eco-green-50 text-eco-green-700 border border-eco-green-200",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Ys.jsxs)("span",{children:[b," EcoTokens"]})]}),(0,Ys.jsxs)("button",{onClick:C,disabled:s,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(s?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-eco-green-600 hover:bg-eco-green-700 text-white shadow-sm hover:shadow-md"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 ".concat(s?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Refreshing...":"Refresh Data"]})]})]})})}),(i||h||y)&&(0,Ys.jsx)("div",{className:"bg-red-50 border-b border-red-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("p",{className:"text-red-800 font-medium text-sm",children:i||h||y})]}),(0,Ys.jsx)("button",{onClick:()=>{o(null),v(null)},className:"text-red-600 hover:text-red-800 transition-colors",children:(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Ys.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Ys.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-eco-green-50 to-eco-green-100",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-eco-green-900",children:"Your EcoTokens"})}),(0,Ys.jsxs)("div",{className:"p-6",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ys.jsx)("div",{className:"w-12 h-12 bg-eco-green-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"text-3xl font-bold text-eco-green-600",children:b}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600",children:"Available Balance"})]})]}),w&&(0,Ys.jsxs)("div",{className:"text-xs text-gray-500 mb-4 italic",children:["Last updated: ",w.toLocaleTimeString()]}),(0,Ys.jsxs)("button",{onClick:k,className:"w-full bg-eco-green-600 hover:bg-eco-green-700 text-white py-2 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Balance"]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Environmental Impact"})}),(0,Ys.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center p-3 bg-eco-green-50 rounded-lg",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 104 0 2 2 0 012-2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ys.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"CO2 Saved"})]}),(0,Ys.jsxs)("span",{className:"font-bold text-eco-green-600",children:[d.co2Saved," kg"]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center p-3 bg-eco-green-50 rounded-lg",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Ys.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Trees Equivalent"})]}),(0,Ys.jsx)("span",{className:"font-bold text-eco-green-600",children:d.treesEquivalent})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center p-3 bg-eco-green-50 rounded-lg",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,Ys.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Water Saved"})]}),(0,Ys.jsxs)("span",{className:"font-bold text-eco-green-600",children:[d.waterSaved," L"]})]})]})]})]}),(0,Ys.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:x.length})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Weight"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:x.reduce((e,t)=>{var r;return e+((null===(r=t.collectionDetails)||void 0===r?void 0:r.weight)||0)},0).toFixed(1)}),(0,Ys.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"kg collected"})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-eco-green-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16l-3-9m3 9l3-9"})})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:x.filter(e=>"completed"===e.status).length})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-eco-green-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:x.filter(e=>"requested"===e.status).length})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-amber-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Waste Collection Requests"}),(0,Ys.jsx)(wn,{to:"/collection-request",className:"bg-eco-green-600 hover:bg-eco-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"New Request"})]})}),g?(0,Ys.jsxs)("div",{className:"p-12 text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-gray-600",children:"Loading your requests..."})]}):y?(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Ys.jsx)("p",{className:"text-red-700",children:y})})}):0===x.length?(0,Ys.jsxs)("div",{className:"p-12 text-center",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No collection requests"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-6",children:"Start your eco-friendly journey by submitting your first waste collection request."}),(0,Ys.jsxs)(wn,{to:"/collection-request",className:"inline-flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Submit First Request"]})]}):(0,Ys.jsxs)("div",{className:"overflow-x-auto",children:[(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request ID"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waste Type"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.slice(0,5).map(e=>{var t,r;let s;var n,a,i,o;"requested"===e.status?s=tn.calculateEstimatedTokens((null===(n=e.collectionDetails)||void 0===n?void 0:n.type)||"",(null===(a=e.collectionDetails)||void 0===a?void 0:a.weight)||0,(null===(i=e.collectionDetails)||void 0===i?void 0:i.quality)||"fair"):s=(null===(o=e.tokenCalculation)||void 0===o?void 0:o.totalTokensIssued)||0;return(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.collectionId}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.createdAt).toLocaleDateString()}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:null===(t=e.collectionDetails)||void 0===t?void 0:t.type}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(null===(r=e.collectionDetails)||void 0===r?void 0:r.weight)||0," kg"]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(Hm(e.status)),children:e.status.replace("_"," ")})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-eco-green-600",children:s}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:["completed"===e.status&&(0,Ys.jsx)("span",{className:"text-eco-green-600 font-medium",children:"\u2705 Earned!"}),"requested"===e.status&&(0,Ys.jsx)("span",{className:"text-amber-600",children:"\u23f3 Waiting"}),"scheduled"===e.status&&(0,Ys.jsx)("span",{className:"text-blue-600",children:"\ud83d\udcc5 Scheduled"}),"in_progress"===e.status&&(0,Ys.jsx)("span",{className:"text-purple-600",children:"\ud83d\ude9b Collecting"}),"collected"===e.status&&(0,Ys.jsx)("span",{className:"text-indigo-600",children:"\ud83d\udce6 Processing"}),"rejected"===e.status&&(0,Ys.jsx)("span",{className:"text-red-600",children:"\u274c Rejected"})]})]},e._id)})})]}),x.length>5&&(0,Ys.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-center",children:(0,Ys.jsxs)(wn,{to:"/waste-history",className:"text-eco-green-600 hover:text-eco-green-700 font-medium text-sm",children:["View All ",x.length," Requests \u2192"]})})]})]})]})]})})]})},Qm={getCollectionsForPayment:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{return(await Hs.get("/admin/collections/payment-pending?page=".concat(e,"&limit=").concat(t))).data}catch(n){var r,s;throw console.error("Error fetching collections for payment:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to fetch collections for payment")}},processCollectorPayment:async(e,t)=>{try{var r;const s={approveCollection:null===(r=t.approveCollection)||void 0===r||r,paymentMethod:t.paymentMethod||"digital_transfer",adminNotes:t.adminNotes||t.notes||""};return(await Hs.post("/admin/collections/".concat(e,"/pay-collector"),s)).data}catch(a){var s,n;throw console.error("Error processing collector payment:",a),new Error((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to process collector payment")}},getAdminStats:async()=>{try{return(await Hs.get("/admin/stats")).data}catch(r){var e,t;throw console.error("Error fetching admin stats:",r),new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch admin statistics")}},getAllUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{return(await Hs.get("/admin/users?page=".concat(e,"&limit=").concat(t))).data}catch(n){var r,s;throw console.error("Error fetching users:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to fetch users")}},getAllCollectors:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{return(await Hs.get("/admin/collectors?page=".concat(e,"&limit=").concat(t))).data}catch(n){var r,s;throw console.error("Error fetching collectors:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to fetch collectors")}},getAllFactories:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{return(await Hs.get("/admin/factories?page=".concat(e,"&limit=").concat(t))).data}catch(n){var r,s;throw console.error("Error fetching factories:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to fetch factories")}},getPaymentHistory:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,s]=e;void 0!==s&&null!==s&&""!==s&&t.append(r,s.toString())});return(await Hs.get("/admin/payments/history?".concat(t.toString()))).data}catch(s){var t,r;throw console.error("Error fetching payment history:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch payment history")}},getPaymentStatistics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,s]=e;void 0!==s&&null!==s&&""!==s&&t.append(r,s.toString())});return(await Hs.get("/admin/payments/statistics?".concat(t.toString()))).data}catch(s){var t,r;throw console.error("Error fetching payment statistics:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch payment statistics")}},getAnalyticsData:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,s]=e;void 0!==s&&null!==s&&""!==s&&t.append(r,s.toString())});return(await Hs.get("/admin/analytics?".concat(t.toString()))).data}catch(s){var t,r;throw console.error("Error fetching analytics data:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch analytics data")}},getAllApplications:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,s]=e;void 0!==s&&null!==s&&t.append(r,s.toString())}),console.log("Fetching applications with params:",t.toString());const r=await Hs.get("/admin/applications?".concat(t.toString()));return console.log("Applications response:",r),r&&r.data?(console.log("Returning applications data:",r.data),r.data):(console.log("No response data, returning empty applications"),{success:!0,data:{applications:[]}})}catch(s){var t,r;throw console.error("Error fetching applications:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch applications")}},approveFactoryApplication:async e=>{try{return(await Hs.post("/admin/applications/factory/".concat(e,"/approve"))).data}catch(s){var t,r;throw console.error("Error approving factory application:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to approve factory application")}},rejectFactoryApplication:async(e,t)=>{try{return(await Hs.post("/admin/applications/factory/".concat(e,"/reject"),{reason:t})).data}catch(n){var r,s;throw console.error("Error rejecting factory application:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to reject factory application")}},approveCollectorApplication:async e=>{try{return(await Hs.post("/admin/applications/collector/".concat(e,"/approve"))).data}catch(s){var t,r;throw console.error("Error approving collector application:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to approve collector application")}},rejectCollectorApplication:async(e,t)=>{try{return(await Hs.post("/admin/applications/collector/".concat(e,"/reject"),{reason:t})).data}catch(n){var r,s;throw console.error("Error rejecting collector application:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to reject collector application")}},getMaterialRequests:async()=>{try{return(await Hs.get("/admin/material-requests")).data}catch(r){var e,t;throw console.error("Error fetching material requests:",r),new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch material requests")}},fulfillMaterialRequest:async(e,t)=>{try{return(await Hs.post("/admin/material-requests/".concat(e,"/fulfill"),t)).data}catch(n){var r,s;throw console.error("Error fulfilling material request:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to fulfill material request")}},updateMaterialRequestStatus:async(e,t)=>{try{return(await Hs.put("/admin/material-requests/".concat(e,"/status"),{status:t})).data}catch(n){var r,s;throw console.error("Error updating material request status:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to update material request status")}},getCollectedWaste:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,s]=e;void 0!==s&&null!==s&&""!==s&&t.append(r,s.toString())});return(await Hs.get("/admin/waste/collected?".concat(t.toString()))).data}catch(s){var t,r;throw console.error("Error fetching collected waste:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch collected waste")}}},Km=()=>{const[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),[n,i]=(0,a.useState)(null),[o,l]=(0,a.useState)("monthly"),c=(0,a.useCallback)(async()=>{try{s(!0);const e=await Qm.getAnalyticsData({period:o});t(e),i(null)}catch(r){var e;if(console.error("Error fetching analytics data:",r),r.response)if(403===r.response.status)i("Access Denied: You do not have permission to view analytics data. Only administrators can access this feature.");else i("Server Error: ".concat(r.response.status," - ").concat((null===(e=r.response.data)||void 0===e?void 0:e.message)||"Unknown error"));else r.request?i("Network Error: Unable to connect to the server"):i("Error: ".concat(r.message||"Failed to fetch analytics data"))}finally{s(!1)}},[o]);if((0,a.useEffect)(()=>{c()},[c]),r)return(0,Ys.jsx)("div",{className:"p-6",children:"Loading analytics data..."});if(n)return(0,Ys.jsxs)("div",{className:"p-6",children:[(0,Ys.jsxs)("div",{className:"text-red-500",children:["Error: ",n]}),(0,Ys.jsx)("button",{onClick:c,className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Retry"})]});if(!e)return(0,Ys.jsx)("div",{className:"p-6",children:"No analytics data available"});const{platformMetrics:d={totalRevenue:0,totalTokensIssued:0,activeUsers:0,totalCollectors:0,totalFactories:0,totalGarbageCollected:0},environmentalImpact:u={co2Saved:0,treesEquivalent:0,energySaved:0,waterSaved:0},businessMetrics:m={ordersPlaced:0,averageOrderValue:0,customerRetentionRate:0,factorySatisfactionScore:0},topPerformers:h={topUsers:[],topCollectors:[],topFactories:[]},wasteTypeDistribution:x=[],collectionTrends:p=[]}=e||{},g=x?x.reduce((e,t)=>e+t.weight,0):0;return(0,Ys.jsxs)("div",{className:"p-6",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),(0,Ys.jsxs)("div",{className:"flex space-x-2",children:[(0,Ys.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"border rounded p-2",children:[(0,Ys.jsx)("option",{value:"daily",children:"Daily"}),(0,Ys.jsx)("option",{value:"weekly",children:"Weekly"}),(0,Ys.jsx)("option",{value:"monthly",children:"Monthly"}),(0,Ys.jsx)("option",{value:"yearly",children:"Yearly"})]}),(0,Ys.jsx)("button",{onClick:c,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Refresh"})]})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Total Sales and Revenue"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ys.jsxs)("div",{className:"border p-4 rounded",children:[(0,Ys.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Financial Revenue"}),(0,Ys.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["\u20b9",(d.totalRevenue||0).toFixed(2)]}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Collector payments processed"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded",children:[(0,Ys.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Token Revenue"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:(d.totalTokensIssued||0).toFixed(0)}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"EcoTokens issued to users"})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"User Activity"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ys.jsxs)("div",{className:"border p-4 rounded",children:[(0,Ys.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Active Users"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:d.activeUsers||0}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Users active in last 30 days"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded",children:[(0,Ys.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Order History"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:m.ordersPlaced||0}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Total orders placed"})]})]}),(0,Ys.jsxs)("div",{className:"mt-6",children:[(0,Ys.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"Top Performing Users"}),(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collections"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens Earned"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.topUsers&&h.topUsers.map(e=>(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.name||"Unknown User"}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.collections||0}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(e.tokens||0).toFixed(0)})]},e._id))})]})})]})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Factory Performance"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Orders Received"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"0"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Total orders"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Orders Completed"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"0"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Successfully processed"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Avg Delivery Time"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"0 days"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Average turnaround"})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"Top Performing Factories"}),(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Factory"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materials Processed (kg)"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.topFactories&&h.topFactories.map(e=>(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.name||"Unknown Factory"}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(e.materials||0).toFixed(2)})]},e._id))})]})})]})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Product Statistics"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Most Sold Products"}),(0,Ys.jsx)("p",{className:"text-lg font-bold text-green-600",children:"Not Available"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Top products"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Least Sold Products"}),(0,Ys.jsx)("p",{className:"text-lg font-bold text-red-600",children:"Not Available"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Lowest sales"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Stock Levels"}),(0,Ys.jsx)("p",{className:"text-lg font-bold text-blue-600",children:"Not Available"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Current inventory"})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"Waste Type Distribution"}),(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Count"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight (kg)"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x&&x.map((e,t)=>(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.type||"Unknown"}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.count||0}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(e.weight||0).toFixed(2)}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[g>0?((e.weight||0)/g*100).toFixed(2):"0.00","%"]})]},t))})]})})]})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Order Tracking Overview"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Processing"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"24"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Orders in progress"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Shipping"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:"18"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Orders in transit"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Delivered"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"142"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Successfully delivered"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Cancelled"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-red-600",children:"3"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Cancelled orders"})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Token Usage Analytics"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Tokens Redeemed"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"1,245"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"EcoTokens used"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Tokens Saved"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"3,876"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"In user wallets"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Tokens Converted"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"892"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"To fiat currency"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Conversion Rate"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:"23.1%"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Redemption rate"})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Environmental Impact"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"CO2 Saved"}),(0,Ys.jsxs)("p",{className:"text-lg font-bold",children:[(u.co2Saved||0).toFixed(2)," kg"]}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500",children:["Equivalent to ",Math.round((u.co2Saved||0)/.5)," trees"]})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Trees Equivalent"}),(0,Ys.jsx)("p",{className:"text-lg font-bold",children:(u.treesEquivalent||0).toFixed(2)}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Trees saved from cutting"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Energy Saved"}),(0,Ys.jsxs)("p",{className:"text-lg font-bold",children:[(u.energySaved||0).toFixed(2)," kWh"]}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Electricity conserved"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Water Saved"}),(0,Ys.jsxs)("p",{className:"text-lg font-bold",children:[(u.waterSaved||0).toFixed(2)," L"]}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Water conserved"})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Collection Trends"}),(()=>{if(!p||0===p.length)return null;const e=Math.max(...p.map(e=>e.collections||0),1);return(0,Ys.jsx)("div",{className:"mt-4",children:(0,Ys.jsx)("div",{className:"flex items-end h-32 gap-2 mt-4 border-b border-l border-gray-300 pb-4 pl-4",children:p&&p.map((t,r)=>(0,Ys.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,Ys.jsx)("div",{className:"w-full bg-gradient-to-t from-blue-500 to-blue-300 rounded-t hover:from-blue-600 hover:to-blue-400 transition-all",style:{height:"".concat((t.collections||0)/e*100,"%")}}),(0,Ys.jsx)("div",{className:"text-xs mt-2 text-gray-600 truncate w-full text-center",children:t.date?new Date(t.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Unknown Date"})]},r))})})})(),(0,Ys.jsx)("div",{className:"mt-4 text-sm text-gray-600",children:"Collections over the last 7 days"})]}),(0,Ys.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Trends and Reports"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Daily Growth"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"+5.2%"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Compared to yesterday"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Weekly Growth"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"+12.5%"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Compared to last week"})]}),(0,Ys.jsxs)("div",{className:"border p-4 rounded text-center",children:[(0,Ys.jsx)("h3",{className:"font-semibold",children:"Monthly Growth"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"+32.7%"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Compared to last month"})]})]})]})]})},Jm=En("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Xm=En("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Zm=En("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),eh=()=>{const[e,t]=(0,a.useState)(!0),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)("pending"),[c,d]=(0,a.useState)("all"),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)({}),p=(0,a.useCallback)(async()=>{try{t(!0),m(null);const e=await Qm.getAllApplications({status:"all"!==o?o:void 0,type:"all"!==c?c:void 0});e&&e.success?(s(e.data.applications),i(e.data.applications)):m("Failed to fetch applications")}catch(e){console.error("Error fetching applications:",e),m(e.message||"Failed to fetch applications. Please try again.")}finally{t(!1)}},[o,c]);(0,a.useEffect)(()=>{p()},[p]);const g=e=>{switch(e){case"approved":return(0,Ys.jsx)(cm,{className:"h-5 w-5 text-green-500"});case"rejected":return(0,Ys.jsx)(Jm,{className:"h-5 w-5 text-red-500"});default:return(0,Ys.jsx)(la,{className:"h-5 w-5 text-yellow-500"})}},f=e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},y=e=>{switch(e){case"factory":return(0,Ys.jsx)(Xm,{className:"h-5 w-5 text-blue-500"});case"collector":return(0,Ys.jsx)(On,{className:"h-5 w-5 text-purple-500"});default:return(0,Ys.jsx)(qn,{className:"h-5 w-5 text-gray-500"})}};return e?(0,Ys.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto"}),(0,Ys.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading applications..."})]})}):u?(0,Ys.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[(0,Ys.jsxs)("p",{className:"text-red-700",children:["Error: ",u]}),(0,Ys.jsx)("button",{onClick:p,className:"mt-2 bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"Retry"})]}):(0,Ys.jsxs)("div",{className:"space-y-6",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"User Approval Management"}),(0,Ys.jsxs)("button",{onClick:p,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),(0,Ys.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Ys.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,Ys.jsx)("option",{value:"all",children:"All Statuses"}),(0,Ys.jsx)("option",{value:"pending",children:"Pending"}),(0,Ys.jsx)("option",{value:"approved",children:"Approved"}),(0,Ys.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,Ys.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,Ys.jsx)("option",{value:"all",children:"All Types"}),(0,Ys.jsx)("option",{value:"factory",children:"Factory"}),(0,Ys.jsx)("option",{value:"collector",children:"Collector"})]})]})]}),0===n.length?(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,Ys.jsx)(Zm,{className:"mx-auto text-gray-400",size:48}),(0,Ys.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No applications found"}),(0,Ys.jsx)("p",{className:"mt-2 text-gray-500",children:"pending"===o?"There are no pending applications at the moment.":"No applications match your current filters."})]}):(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicant"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>{var t,r,s,n,a,i,o,l;return(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,Ys.jsx)(qn,{className:"h-6 w-6 text-gray-500"})}),(0,Ys.jsxs)("div",{className:"ml-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.userId)||void 0===t||null===(r=t.personalInfo)||void 0===r?void 0:r.name)||"Unknown"}),(0,Ys.jsx)("div",{className:"text-sm text-gray-500",children:(null===(s=e.userId)||void 0===s||null===(n=s.personalInfo)||void 0===n?void 0:n.email)||"No email"})]})]})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"flex items-center",children:[y((null===(a=e.userId)||void 0===a?void 0:a.role)||"user"),(0,Ys.jsx)("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:(null===(i=e.userId)||void 0===i?void 0:i.role)||"user"})]})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsx)("div",{className:"text-sm text-gray-900",children:"factory"===(null===(o=e.userId)||void 0===o?void 0:o.role)?(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)("div",{className:"font-medium",children:e.factoryName||"No factory name"}),(0,Ys.jsxs)("div",{className:"text-gray-500 text-xs",children:["GST: ",e.gstNumber||"N/A"]})]}):(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)("div",{className:"font-medium",children:e.companyName||"No company name"}),(0,Ys.jsx)("div",{className:"text-gray-500 text-xs",children:(null===(l=e.serviceArea)||void 0===l?void 0:l.join(", "))||"No service area"})]})})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsxs)("div",{className:"flex items-center",children:[g(e.status),(0,Ys.jsx)("span",{className:"ml-2 inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(f(e.status)),children:e.status})]}),"rejected"===e.status&&e.rejectionReason&&(0,Ys.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Reason: ",e.rejectionReason]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.submittedAt?new Date(e.submittedAt).toLocaleDateString():"N/A"}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:"pending"===e.status?(0,Ys.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Ys.jsxs)("button",{onClick:()=>{var t;return(async(e,t)=>{try{"factory"===t?await Qm.approveFactoryApplication(e):await Qm.approveCollectorApplication(e),p()}catch(r){m(r.message||"Failed to approve application")}})(e._id,(null===(t=e.userId)||void 0===t?void 0:t.role)||"user")},className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,Ys.jsx)(cm,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,Ys.jsxs)("div",{className:"mt-2",children:[(0,Ys.jsx)("input",{type:"text",placeholder:"Rejection reason",value:h[e._id]||"",onChange:t=>{return r=e._id,s=t.target.value,void x(e=>Jt(Jt({},e),{},{[r]:s}));var r,s},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 text-xs"}),(0,Ys.jsxs)("button",{onClick:()=>{var t;return(async(e,t)=>{const r=h[e];if(r&&""!==r.trim())try{"factory"===t?await Qm.rejectFactoryApplication(e,r):await Qm.rejectCollectorApplication(e,r),p(),x(t=>{const r=Jt({},t);return delete r[e],r})}catch(s){m(s.message||"Failed to reject application")}else m("Rejection reason is required")})(e._id,(null===(t=e.userId)||void 0===t?void 0:t.role)||"user")},className:"mt-1 inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,Ys.jsx)(Jm,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]}):"approved"===e.status?(0,Ys.jsx)("span",{className:"text-green-600 text-xs font-medium",children:"Approved"}):(0,Ys.jsx)("span",{className:"text-red-600 text-xs font-medium",children:"Rejected"})})]},e._id)})})]})})})]})},th=En("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),rh=En("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),sh=En("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),nh=()=>{const[e,t]=(0,a.useState)(!0),[r,s]=(0,a.useState)(null),[n,i]=(0,a.useState)([]),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)("requests"),[h,x]=(0,a.useState)({requestId:"",collectionId:"",quantity:0,agreedPrice:0}),[p,g]=(0,a.useState)(!1),[f,y]=(0,a.useState)([]),[v,b]=(0,a.useState)([]),[j,w]=(0,a.useState)([]),N=(0,a.useCallback)(async()=>{try{t(!0);const e=await Qm.getMaterialRequests();e.success&&i(e.data.requests);const r=await Qm.getCollectedWaste();r.success&&(l(r.data.collections),(e=>{const t={};e.forEach(e=>{const r=e.collectionDetails.type;t[r]||(t[r]={count:0,weight:0}),t[r].count+=1,t[r].weight+=e.collectionDetails.weight||0});const r=Object.entries(t).map(e=>{let[t,r]=e;return{type:t,count:r.count,weight:Math.round(r.weight)}}),s={};e.forEach(e=>{const t=e.collectionDetails.quality||"unknown";s[t]||(s[t]={count:0,weight:0}),s[t].count+=1,s[t].weight+=e.collectionDetails.weight||0});const n=Object.entries(s).map(e=>{let[t,r]=e;return{quality:t,count:r.count,weight:Math.round(r.weight)}}),a={};e.forEach(e=>{const t=new Date(e.createdAt).toISOString().split("T")[0];a[t]||(a[t]={count:0,weight:0}),a[t].count+=1,a[t].weight+=e.collectionDetails.weight||0});const i=Object.entries(a).map(e=>{let[t,r]=e;return{date:t,count:r.count,weight:Math.round(r.weight)}}).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());y(r),b(n),w(i)})(r.data.collections),(e=>{const t={};e.forEach(e=>{const r=e.collectionDetails.type,s=e.collectionDetails.quality||"unknown",n=e.collectionDetails.weight||0;t[r]||(t[r]={type:r,totalWeight:0,totalCount:0,qualityDistribution:{}}),t[r].totalWeight+=n,t[r].totalCount+=1,t[r].qualityDistribution[s]||(t[r].qualityDistribution[s]={count:0,weight:0}),t[r].qualityDistribution[s].count+=1,t[r].qualityDistribution[s].weight+=n}),d(Object.values(t))})(r.data.collections)),s(null)}catch(e){console.error("Error fetching data:",e),s(e.message||"Failed to fetch data")}finally{t(!1)}},[]);(0,a.useEffect)(()=>{N()},[N]);const k=e=>{switch(e){case"open":return(0,Ys.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Open"});case"partially_filled":return(0,Ys.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Partially Filled"});case"fulfilled":return(0,Ys.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Fulfilled"});case"expired":return(0,Ys.jsx)("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Expired"});case"cancelled":return(0,Ys.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Cancelled"});default:return(0,Ys.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Unknown"})}};return e?(0,Ys.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):r?(0,Ys.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)(Dm,{className:"text-red-500",size:20}),(0,Ys.jsx)("p",{className:"text-red-700",children:r})]})}):(0,Ys.jsxs)("div",{className:"space-y-6",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Factory Management"}),(0,Ys.jsxs)("button",{onClick:N,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:[(0,Ys.jsx)(th,{size:16}),"Refresh"]})]}),(0,Ys.jsx)("div",{className:"border-b border-gray-200",children:(0,Ys.jsxs)("nav",{className:"flex space-x-8",children:[(0,Ys.jsx)("button",{onClick:()=>m("requests"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("requests"===u?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Factory Requests"}),(0,Ys.jsx)("button",{onClick:()=>m("waste"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("waste"===u?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Collected Waste"}),(0,Ys.jsx)("button",{onClick:()=>m("inventory"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("inventory"===u?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Inventory Overview"})]})}),"waste"===u&&(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Ys.jsx)(rh,{className:"text-green-600",size:20}),(0,Ys.jsx)("h3",{className:"font-semibold text-gray-900",children:"Waste Type Distribution"})]}),(0,Ys.jsxs)("div",{className:"space-y-3",children:[f.map((e,t)=>(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"hsl(".concat(60*t,", 70%, 50%)")}}),(0,Ys.jsx)("span",{className:"text-sm text-gray-700 capitalize",children:e.type})]}),(0,Ys.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.weight," kg (",e.count,")"]})]},t)),0===f.length&&(0,Ys.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No data available"})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Ys.jsx)(sh,{className:"text-green-600",size:20}),(0,Ys.jsx)("h3",{className:"font-semibold text-gray-900",children:"Quality Distribution"})]}),(0,Ys.jsxs)("div",{className:"space-y-3",children:[v.map((e,t)=>(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"hsl(".concat(90*t,", 60%, 45%)")}}),(0,Ys.jsx)("span",{className:"text-sm text-gray-700 capitalize",children:e.quality})]}),(0,Ys.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.weight," kg (",e.count,")"]})]},t)),0===v.length&&(0,Ys.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No data available"})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Ys.jsx)(sh,{className:"text-green-600",size:20}),(0,Ys.jsx)("h3",{className:"font-semibold text-gray-900",children:"Collections Over Time"})]}),(0,Ys.jsxs)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[j.slice(-10).map((e,t)=>(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("span",{className:"text-sm text-gray-700",children:e.date}),(0,Ys.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.weight," kg (",e.count,")"]})]},t)),0===j.length&&(0,Ys.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No data available"})]})]})]}),"inventory"===u&&(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Aggregated Waste Inventory"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Total quantities available by material type"})]}),(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Type"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Quantity"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Collections"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quality Distribution"})]})}),(0,Ys.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[c.map((e,t)=>(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900 capitalize",children:e.type})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"text-sm text-gray-900",children:[Math.round(e.totalWeight)," kg"]})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"text-sm text-gray-900",children:[e.totalCount," collections"]})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.qualityDistribution).map(e=>{let[t,r]=e;return(0,Ys.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[t,": ",Math.round(r.weight)," kg (",r.count,")"]},t)})})})]},t)),0===c.length&&(0,Ys.jsx)("tr",{children:(0,Ys.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No waste inventory data available"})})]})]})})]}),"requests"===u&&(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request ID"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Factory"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Details"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required By"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>{var t,r,s,n;return(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.requestId}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.factoryId)||void 0===t||null===(r=t.companyInfo)||void 0===r?void 0:r.name)||(null===(s=e.factoryId)||void 0===s?void 0:s.name)||"Unknown Factory"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:(null===(n=e.factoryId)||void 0===n?void 0:n.email)||"No email"})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-900 capitalize",children:e.materialSpecs.materialType}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:[e.materialSpecs.subType&&"".concat(e.materialSpecs.subType,", "),e.materialSpecs.qualityRequirements]})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsxs)("div",{className:"text-sm text-gray-900",children:[e.materialSpecs.quantity," kg"]}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:["\xb1",e.timeline.flexibilityDays," days flexibility"]})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["\u20b9",e.pricing.totalBudget.toLocaleString()]}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:["\u20b9",e.pricing.budgetPerKg,"/kg"]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm text-gray-900",children:new Date(e.timeline.requiredBy).toLocaleDateString()})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:k(e.status)}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ys.jsx)("button",{onClick:()=>{x({requestId:e._id,collectionId:"",quantity:e.materialSpecs.quantity,agreedPrice:e.pricing.totalBudget}),g(!0)},className:"text-green-600 hover:text-green-900 mr-3",children:"Fulfill"})})]},e._id)})})]})})}),"waste"===u&&(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection ID"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collector"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waste Details"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(e=>{var t,r,s,n;return(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.collectionId})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.userId)||void 0===t||null===(r=t.personalInfo)||void 0===r?void 0:r.name)||"Unknown User"})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(s=e.collectorId)||void 0===s||null===(n=s.personalInfo)||void 0===n?void 0:n.name)||"Unknown Collector"})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-900 capitalize",children:e.collectionDetails.type}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:[e.collectionDetails.subType&&"".concat(e.collectionDetails.subType,", "),e.collectionDetails.weight," kg \u2022 ",e.collectionDetails.quality]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:e.status})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]},e._id)})})]})})}),p&&(0,Ys.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Ys.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Fulfill Material Request"}),(0,Ys.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Qm.fulfillMaterialRequest(h.requestId,{collectionId:h.collectionId,quantity:h.quantity,agreedPrice:h.agreedPrice}),alert("Request fulfilled successfully!"),g(!1),N()}catch(t){console.error("Error fulfilling request:",t),alert(t.message||"Failed to fulfill request")}},children:[(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Collection ID"}),(0,Ys.jsxs)("select",{value:h.collectionId,onChange:e=>x(Jt(Jt({},h),{},{collectionId:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[(0,Ys.jsx)("option",{value:"",children:"Select a collection"}),o.map(e=>(0,Ys.jsxs)("option",{value:e._id,children:[e.collectionId," - ",e.collectionDetails.type,e.collectionDetails.subType&&"(".concat(e.collectionDetails.subType,")"),"(",e.collectionDetails.weight," kg, ",e.collectionDetails.quality,")"]},e._id))]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity (kg)"}),(0,Ys.jsx)("input",{type:"number",value:h.quantity,onChange:e=>x(Jt(Jt({},h),{},{quantity:Number(e.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,min:"0"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agreed Price (\u20b9)"}),(0,Ys.jsx)("input",{type:"number",value:h.agreedPrice,onChange:e=>x(Jt(Jt({},h),{},{agreedPrice:Number(e.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,min:"0"})]})]}),(0,Ys.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Ys.jsx)("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Ys.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:"Fulfill Request"})]})]})]})})]})},ah=En("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),ih=En("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),oh=En("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),lh=En("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);function ch(e){var t,r,s,n;if(null!==(t=e.payment)&&void 0!==t&&t.calculatedAmount)return e.payment.calculatedAmount;const a={plastic:{baseRate:12,qualityMultipliers:{excellent:1.4,good:1.2,fair:1,poor:.7}},paper:{baseRate:8,qualityMultipliers:{excellent:1.3,good:1.1,fair:1,poor:.6}},metal:{baseRate:25,qualityMultipliers:{excellent:1.5,good:1.2,fair:1,poor:.8}},glass:{baseRate:3,qualityMultipliers:{excellent:1.3,good:1.1,fair:1,poor:.5}},electronic:{baseRate:35,qualityMultipliers:{excellent:1.6,good:1.3,fair:1,poor:.7}},organic:{baseRate:2,qualityMultipliers:{excellent:1.2,good:1,fair:.8,poor:.5}},other:{baseRate:5,qualityMultipliers:{excellent:1.2,good:1,fair:.8,poor:.6}}},i=1.1,o=1.15,l=1.2,c=(null===(r=e.collectionDetails)||void 0===r?void 0:r.type)||"other",d=Number(null===(s=e.collectionDetails)||void 0===s?void 0:s.weight)||0,u=(null===(n=e.collectionDetails)||void 0===n?void 0:n.quality)||"fair",m=a[c]||a.other;let h=1;d>=200?h=l:d>=100?h=o:d>=50&&(h=i);const x=m.baseRate*d*(m.qualityMultipliers[u]||m.qualityMultipliers.fair)*h;return Math.round(100*x)/100}const dh=()=>{const{user:e}=Ks(),[t,r]=(0,a.useState)(!0),[s,n]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[x,p]=(0,a.useState)([]),[g,f]=(0,a.useState)(null),[y,v]=(0,a.useState)("overview"),[b,j]=(0,a.useState)("users"),[w,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)([]);a.useEffect(()=>{const e=document.createElement("style");return e.textContent="\n      @keyframes slideInRight {\n        from {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]);const[C,P]=(0,a.useState)({action:"",wasteType:"",dateFrom:"",dateTo:""}),[E,T]=(0,a.useState)({totalUsers:0,totalCollectors:0,totalFactories:0,totalCollections:0,pendingPayments:0,completedCollections:0,totalEcoTokensIssued:0}),L=(0,a.useCallback)(async()=>{try{console.log("\ud83d\udd0d Fetching payment history with filters:",C);const e={page:1,limit:100};"approved"!==C.action&&"rejected"!==C.action||(e.action=C.action),C.wasteType&&(e.wasteType=C.wasteType),C.dateFrom&&(e.dateFrom=C.dateFrom),C.dateTo&&(e.dateTo=C.dateTo);const t=await Qm.getPaymentHistory(e);console.log("\ud83d\udcca Payment history response:",t),t.success?(console.log("\u2705 Setting ".concat(t.data.payments.length," payment records")),p(t.data.payments)):console.warn("\u274c Payment history response not successful:",t)}catch(s){console.error("\u274c Failed to fetch payment history:",s),console.warn("Failed to fetch payment history:",s.message)}},[C]),M=(0,a.useCallback)(async()=>{try{console.log("\ud83d\udcca Fetching payment statistics...");const e=await Qm.getPaymentStatistics();console.log("\ud83d\udcca Payment statistics response:",e),e.success?(console.log("\u2705 Setting payment statistics:",e.data),f(e.data)):console.warn("\u274c Payment statistics response not successful:",e)}catch(s){console.error("\u274c Failed to fetch payment statistics:",s),console.warn("Failed to fetch payment statistics:",s.message)}},[]),A=(0,a.useCallback)(async()=>{try{console.log("\ud83d\udd04 Refreshing admin dashboard data..."),r(!0);try{console.log("Fetching collections for payment...");const e=await Qm.getCollectionsForPayment();console.log("Collections for payment response:",e),e&&e.success&&e.data&&Array.isArray(e.data.collections)?h(e.data.collections):h([])}catch(e){console.warn("Failed to fetch collections for payment:",e.message),h([])}try{console.log("Fetching admin stats...");const e=await Qm.getAdminStats();console.log("Admin stats response:",e),e&&e.success&&e.data&&T({totalUsers:e.data.totalUsers||0,totalCollectors:e.data.totalCollectors||0,totalFactories:e.data.totalFactories||0,totalCollections:e.data.totalCollections||0,pendingPayments:e.data.pendingPayments||0,completedCollections:e.data.completedCollections||0,totalEcoTokensIssued:e.data.totalEcoTokensIssued||0})}catch(t){console.warn("Failed to fetch admin stats:",t.message)}await L(),await M(),r(!1),console.log("\u2705 Admin dashboard data refreshed successfully")}catch(s){console.error("\u274c Error refreshing admin data:",s),r(!1)}},[L,M]);return(0,a.useEffect)(()=>{e&&"admin"===e.role?(async()=>{try{r(!0),n(null);let l={totalUsers:0,totalCollectors:0,totalFactories:0,totalCollections:0,pendingPayments:0,completedCollections:0,totalEcoTokensIssued:0},d=[];try{console.log("Fetching admin stats...");const e=await Qm.getAdminStats();console.log("Admin stats response:",e),e&&e.success&&e.data&&(l={totalUsers:e.data.totalUsers||0,totalCollectors:e.data.totalCollectors||0,totalFactories:e.data.totalFactories||0,totalCollections:e.data.totalCollections||0,pendingPayments:e.data.pendingPayments||0,completedCollections:e.data.completedCollections||0,totalEcoTokensIssued:e.data.totalEcoTokensIssued||0})}catch(e){console.warn("Failed to fetch admin stats, using defaults:",e.message),l={totalUsers:156,totalCollectors:12,totalFactories:5,totalCollections:89,pendingPayments:3,completedCollections:86,totalEcoTokensIssued:12450}}try{console.log("Fetching collections for payment...");const e=await Qm.getCollectionsForPayment();console.log("Collections for payment response:",e),e&&e.success&&e.data&&Array.isArray(e.data.collections)&&(d=e.data.collections)}catch(t){console.warn("Failed to fetch collections for payment, using empty array:",t.message),d=[]}T(l),h(d),L(),M();try{console.log("Fetching real users data...");const e=await Qm.getAllUsers();console.log("Users response:",e),e&&e.success&&e.data&&Array.isArray(e.data.users)?o(e.data.users):(console.warn("Invalid users response format:",e),o([]))}catch(s){console.warn("Failed to fetch users, using empty array:",s.message),o([])}try{console.log("Fetching real factories data...");const e=await Qm.getAllFactories();console.log("Factories response:",e),e&&e.success&&e.data&&Array.isArray(e.data.factories)?c(e.data.factories):(console.warn("Invalid factories response format:",e),c([]))}catch(a){console.warn("Failed to fetch factories, using empty array:",a.message),c([])}try{console.log("Fetching real collectors data...");const e=await Qm.getAllCollectors();console.log("Collectors response:",e),e&&e.success&&e.data&&Array.isArray(e.data.collectors)?u(e.data.collectors):(console.warn("Invalid collectors response format:",e),u([]))}catch(i){console.warn("Failed to fetch collectors, using empty array:",i.message),u([])}r(!1)}catch(l){console.error("Critical error in fetchAdminData:",l),n("Failed to load admin dashboard data. Please check if the backend server is running."),r(!1)}})():(n("You do not have permission to access this dashboard"),r(!1))},[e,L,M]),(0,a.useEffect)(()=>("admin"===(null===e||void 0===e?void 0:e.role)&&on.connect().then(()=>{console.log("\u2705 Admin Dashboard connected to WebSocket for real-time updates"),N(!0),on.subscribe(["garbage_collection","admin_payment"]);const e=e=>{if(console.log("\ud83d\udce1 WebSocket: Collection update received:",e),"collected"===e.changeType||e.data&&"collected"===e.data.status){var t;console.log("\ud83d\udd04 Collection marked as collected, refreshing admin data...");const r=(null===(t=e.data)||void 0===t?void 0:t.collectionId)||"Unknown";S(e=>[...e.slice(-4),"New collection ".concat(r," ready for payment approval! \ud83d\udcb0")]),setTimeout(()=>{S(e=>e.slice(1))},1e4),setTimeout(A,1e3)}"payment_processed"!==e.changeType&&"admin_payment"!==e.type||(console.log("\ud83d\udd04 Payment processed, refreshing admin data..."),setTimeout(A,1e3))};return on.on("garbage_collection",e),on.on("admin_payment",e),()=>{on.off("garbage_collection",e),on.off("admin_payment",e)}}).catch(e=>{console.warn("\u26a0\ufe0f Failed to connect to WebSocket for real-time updates:",e),N(!1)}),()=>{on.isConnectedToServer()&&(on.disconnect(),N(!1))}),[e,A]),t?(0,Ys.jsx)("div",{className:"flex justify-center items-center h-screen mt-8",children:(0,Ys.jsx)("div",{children:"Loading admin dashboard..."})}):s?(0,Ys.jsx)("div",{className:"m-8",children:(0,Ys.jsxs)("div",{className:"text-red-700 p-3 bg-red-100 rounded",children:["Error: ",s]})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Portal"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your EcoChain ecosystem"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium ".concat(w?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:[w?(0,Ys.jsx)(ah,{size:14}):(0,Ys.jsx)(ih,{size:14}),(0,Ys.jsx)("span",{children:w?"Live Updates":"Disconnected"})]}),(0,Ys.jsxs)("button",{onClick:A,disabled:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white shadow-sm hover:shadow-md"),children:[(0,Ys.jsx)(th,{className:t?"animate-spin":"",size:16}),t?"Refreshing...":"Refresh"]})]})]})})}),k.length>0&&(0,Ys.jsx)("div",{className:"fixed top-20 right-5 z-50 space-y-2 max-w-sm",children:k.map((e,t)=>(0,Ys.jsxs)("div",{className:"bg-white border border-yellow-300 rounded-lg shadow-lg p-4 flex items-start gap-3",style:{animation:"slideInRight 0.3s ease-out"},children:[(0,Ys.jsx)(oh,{className:"text-yellow-500 mt-0.5",size:18}),(0,Ys.jsx)("div",{className:"flex-1",children:(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e})}),(0,Ys.jsx)("button",{onClick:()=>S(e=>e.filter((e,r)=>r!==t)),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Ys.jsx)($n,{size:16})})]},t))}),(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsx)("div",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:Mn},{id:"users",label:"User Management",icon:Dn},{id:"approvals",label:"Approvals",icon:cm},{id:"payments",label:"Pending Payments",icon:zn,badge:m.length},{id:"history",label:"Payment History",icon:la},{id:"factory",label:"Factory Management",icon:An},{id:"analytics",label:"Analytics",icon:Mn}].map(e=>{const t=e.icon;return(0,Ys.jsxs)("button",{onClick:()=>{v(e.id),"overview"===e.id?setTimeout(A,100):"payments"===e.id?(console.log("\ud83d\udcb0 Switching to Pending Payments tab"),setTimeout(A,100)):"history"===e.id&&(console.log("\ud83d\udccb Switching to Payment History tab"),setTimeout(()=>{L(),M()},100))},className:"flex items-center gap-2 px-1 py-4 text-sm font-medium border-b-2 transition-colors relative ".concat(y===e.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Ys.jsx)(t,{size:18}),(0,Ys.jsx)("span",{children:e.label}),e.badge&&e.badge>0&&(0,Ys.jsx)("span",{className:"bg-yellow-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:e.badge})]},e.id)})})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===y&&(0,Ys.jsxs)("div",{className:"space-y-8",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.totalUsers.toLocaleString()})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)(Dn,{className:"text-blue-600",size:24})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Collectors"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.totalCollectors})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-green-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)(In,{className:"text-green-600",size:24})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Partner Factories"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:E.totalFactories})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-purple-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)(An,{className:"text-purple-600",size:24})})]})}),(0,Ys.jsxs)("div",{className:"rounded-xl border p-6 ".concat(E.pendingPayments>0?"bg-amber-50 border-amber-200":"bg-white border-gray-200"),children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold mt-2 ".concat(E.pendingPayments>0?"text-amber-600":"text-gray-900"),children:E.pendingPayments})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center ".concat(E.pendingPayments>0?"bg-amber-100":"bg-green-50"),children:E.pendingPayments>0?(0,Ys.jsx)(Dm,{className:"text-amber-600",size:24}):(0,Ys.jsx)(cm,{className:"text-green-600",size:24})})]}),E.pendingPayments>0&&(0,Ys.jsx)("p",{className:"text-sm text-amber-600 font-medium mt-4",children:"Requires immediate attention"})]})]}),m.length>0&&(0,Ys.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-6",children:(0,Ys.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ys.jsx)("div",{className:"h-10 w-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Ys.jsx)(zn,{className:"text-amber-600",size:20})}),(0,Ys.jsxs)("div",{className:"flex-1",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-amber-800",children:"Payment Approvals Required"}),(0,Ys.jsxs)("p",{className:"text-amber-700 mt-1",children:[m.length," collection",1!==m.length?"s":""," waiting for payment approval and processing."]}),(0,Ys.jsx)("button",{onClick:()=>v("payments"),className:"mt-3 bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:"Review Payments"})]})]})}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Collections"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:E.totalCollections})]}),(0,Ys.jsx)(In,{className:"text-green-600",size:24})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed Collections"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:E.completedCollections})]}),(0,Ys.jsx)(cm,{className:"text-green-600",size:24})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"EcoTokens Issued"}),(0,Ys.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:E.totalEcoTokensIssued.toLocaleString()})]}),(0,Ys.jsx)(Wn,{className:"text-green-600",size:24})]})})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),(0,Ys.jsx)(Dn,{className:"text-gray-400",size:20})]})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsx)("div",{className:"overflow-hidden",children:(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{children:(0,Ys.jsxs)("tr",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[(0,Ys.jsx)("th",{className:"pb-3",children:"ID"}),(0,Ys.jsx)("th",{className:"pb-3",children:"User"}),(0,Ys.jsx)("th",{className:"pb-3",children:"Role"}),(0,Ys.jsx)("th",{className:"pb-3"})]})}),(0,Ys.jsx)("tbody",{className:"space-y-3",children:i.slice(0,3).map(e=>(0,Ys.jsxs)("tr",{className:"border-t border-gray-100",children:[(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsx)("div",{children:(0,Ys.jsx)("p",{className:"text-gray-500 text-xs",children:e._id.slice(-6)})})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,Ys.jsx)("p",{className:"text-gray-500 text-xs",children:e.email})]})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"),children:e.role})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,Ys.jsx)(lh,{size:16})})})]},e._id))})]})})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Factory Partners"}),(0,Ys.jsx)(An,{className:"text-gray-400",size:20})]})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsx)("div",{className:"overflow-hidden",children:(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{children:(0,Ys.jsxs)("tr",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[(0,Ys.jsx)("th",{className:"pb-3",children:"ID"}),(0,Ys.jsx)("th",{className:"pb-3",children:"Factory"}),(0,Ys.jsx)("th",{className:"pb-3",children:"Output"}),(0,Ys.jsx)("th",{className:"pb-3"})]})}),(0,Ys.jsx)("tbody",{className:"space-y-3",children:l.slice(0,3).map(e=>(0,Ys.jsxs)("tr",{className:"border-t border-gray-100",children:[(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsx)("div",{children:(0,Ys.jsx)("p",{className:"text-gray-500 text-xs",children:e._id.slice(-6)})})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,Ys.jsx)("p",{className:"text-gray-500 text-xs",children:e.email})]})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("p",{className:"font-semibold text-green-600 text-sm",children:[e.materialsProcessed," kg"]}),(0,Ys.jsxs)("p",{className:"text-gray-500 text-xs",children:[e.productsListed," products"]})]})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,Ys.jsx)(lh,{size:16})})})]},e._id))})]})})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Collectors"}),(0,Ys.jsx)(In,{className:"text-gray-400",size:20})]})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsx)("div",{className:"overflow-hidden",children:(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{children:(0,Ys.jsxs)("tr",{className:"text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[(0,Ys.jsx)("th",{className:"pb-3",children:"ID"}),(0,Ys.jsx)("th",{className:"pb-3",children:"Collector"}),(0,Ys.jsx)("th",{className:"pb-3",children:"Performance"}),(0,Ys.jsx)("th",{className:"pb-3"})]})}),(0,Ys.jsx)("tbody",{className:"space-y-3",children:d.slice(0,3).map(e=>(0,Ys.jsxs)("tr",{className:"border-t border-gray-100",children:[(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsx)("div",{children:(0,Ys.jsx)("p",{className:"text-gray-500 text-xs",children:e._id.slice(-6)})})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,Ys.jsx)("p",{className:"text-gray-500 text-xs",children:e.email})]})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("p",{className:"font-semibold text-green-600 text-sm",children:[e.completedCollections," completed"]}),(0,Ys.jsxs)("p",{className:"text-gray-500 text-xs",children:["\u2605 ",e.rating," (",e.completionRate,"%)"]})]})}),(0,Ys.jsx)("td",{className:"py-3",children:(0,Ys.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,Ys.jsx)(lh,{size:16})})})]},e._id))})]})})})]})]})]}),"users"===y&&(0,Ys.jsxs)("div",{className:"space-y-6",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"User Management"}),(0,Ys.jsxs)("button",{onClick:A,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:[(0,Ys.jsx)(th,{size:16}),"Refresh"]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"border-b border-gray-200",children:(0,Ys.jsxs)("nav",{className:"flex -mb-px",children:[(0,Ys.jsx)("button",{className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("users"===b?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>j("users"),children:"Regular Users"}),(0,Ys.jsx)("button",{className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("collectors"===b?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>j("collectors"),children:"Collectors"}),(0,Ys.jsx)("button",{className:"py-4 px-6 text-center border-b-2 font-medium text-sm ".concat("factories"===b?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>j("factories"),children:"Factories"})]})}),(0,Ys.jsxs)("div",{className:"p-6",children:["users"===b&&(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(e=>(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Ys.jsx)("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:(0,Ys.jsx)("span",{className:"text-green-800 font-medium",children:e.name.charAt(0).toUpperCase()})})}),(0,Ys.jsxs)("div",{className:"ml-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e._id.slice(-6)]})]})]})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,Ys.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsxs)("div",{className:"text-sm text-gray-900",children:[e.completedCollections," collections"]}),(0,Ys.jsxs)("div",{className:"text-sm text-green-600",children:[e.ecoTokens," tokens"]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("active"===e.accountStatus?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.accountStatus})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.joinedDate).toLocaleDateString()})]},e._id))})]})}),"collectors"===b&&(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collector"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(e=>(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Ys.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Ys.jsx)("span",{className:"text-blue-800 font-medium",children:e.name.charAt(0).toUpperCase()})})}),(0,Ys.jsxs)("div",{className:"ml-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e._id.slice(-6)]})]})]})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,Ys.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsxs)("div",{className:"text-sm text-gray-900",children:[e.completedCollections," collections"]}),(0,Ys.jsxs)("div",{className:"text-sm text-green-600",children:["\u20b9",e.totalEarnings," earned"]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-500",children:["Rating: ",e.rating," (",e.completionRate,"%)"]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("active"===e.accountStatus?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.accountStatus})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.joinedDate).toLocaleDateString()})]},e._id))})]})}),"factories"===b&&(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Factory"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(e=>(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Ys.jsx)("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:(0,Ys.jsx)("span",{className:"text-purple-800 font-medium",children:e.name.charAt(0).toUpperCase()})})}),(0,Ys.jsxs)("div",{className:"ml-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e._id.slice(-6)]})]})]})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,Ys.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsxs)("div",{className:"text-sm text-gray-900",children:[e.materialsProcessed," kg processed"]}),(0,Ys.jsxs)("div",{className:"text-sm text-green-600",children:[e.productsListed," products"]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("active"===e.accountStatus?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.accountStatus})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.joinedDate).toLocaleDateString()})]},e._id))})]})})]})]})]}),"approvals"===y&&(0,Ys.jsx)(eh,{}),"payments"===y&&(0,Ys.jsxs)("div",{className:"space-y-6",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Pending Collector Payments"}),(0,Ys.jsxs)("button",{onClick:A,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:[(0,Ys.jsx)(th,{size:16}),"Refresh"]})]}),0===m.length?(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,Ys.jsx)(cm,{className:"mx-auto text-green-500",size:48}),(0,Ys.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No pending payments"}),(0,Ys.jsx)("p",{className:"mt-2 text-gray-500",children:"All collector payments have been processed."})]}):(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection ID"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collector"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waste Details"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calculated Payment"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>{var t;return(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.collectionId}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.updatedAt).toLocaleDateString()})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.userId.personalInfo.name}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:e.userId.personalInfo.email})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.collectorId.personalInfo.name}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:e.collectorId.personalInfo.email})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-900 capitalize",children:e.collectionDetails.type}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:[e.collectionDetails.weight," kg \u2022 ",e.collectionDetails.quality]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"text-sm font-medium text-green-600",children:[(null===(t=e.tokenCalculation)||void 0===t?void 0:t.totalTokensIssued)||0," tokens"]})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["\u20b9",ch(e).toFixed(2)]})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ys.jsxs)("div",{className:"flex space-x-2",children:[(0,Ys.jsx)("button",{onClick:()=>(async e=>{try{const t=await Qm.processCollectorPayment(e,{approveCollection:!0,paymentMethod:"digital_transfer",adminNotes:"Payment approved and processed via admin dashboard"});if(t.success){h(t=>t.filter(t=>t._id!==e)),T(e=>Jt(Jt({},e),{},{pendingPayments:e.pendingPayments-1,completedCollections:e.completedCollections+1})),await L(),await A();const r=t.data.collectorPayment;alert("\u2705 Payment of \u20b9".concat(r.amount," processed successfully for ").concat(t.data.collectorName))}}catch(s){console.error("Payment processing error:",s),alert("\u274c Failed to process payment: ".concat(s.message))}})(e._id),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-medium transition-colors",children:"Approve & Pay"}),(0,Ys.jsx)("button",{onClick:()=>(async e=>{const t=prompt("Please provide a reason for rejection:");if(t)try{(await Qm.processCollectorPayment(e,{approveCollection:!1,adminNotes:t})).success&&(h(t=>t.filter(t=>t._id!==e)),T(e=>Jt(Jt({},e),{},{pendingPayments:e.pendingPayments-1})),await L(),await A(),alert("Collection rejected: ".concat(t)))}catch(s){console.error("Rejection error:",s),alert("\u274c Failed to reject collection: ".concat(s.message))}})(e._id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-xs font-medium transition-colors",children:"Reject"})]})})]},e._id)})})]})})})]}),"history"===y&&(0,Ys.jsxs)("div",{className:"space-y-6",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Payment History"}),(0,Ys.jsxs)("div",{className:"flex gap-3",children:[(0,Ys.jsx)("div",{className:"relative",children:(0,Ys.jsxs)("select",{value:C.action,onChange:e=>P(t=>Jt(Jt({},t),{},{action:e.target.value})),className:"border border-gray-300 rounded-lg pl-3 pr-10 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[(0,Ys.jsx)("option",{value:"",children:"All Actions"}),(0,Ys.jsx)("option",{value:"approved",children:"Approved"}),(0,Ys.jsx)("option",{value:"rejected",children:"Rejected"})]})}),(0,Ys.jsxs)("button",{onClick:()=>{L(),M()},className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:[(0,Ys.jsx)(th,{size:16}),"Refresh"]})]})]}),g&&(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Payments"}),(0,Ys.jsx)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.overview.totalPayments})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Approved"}),(0,Ys.jsx)("div",{className:"text-2xl font-bold text-green-600 mt-1",children:g.overview.approvedPayments})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Rejected"}),(0,Ys.jsx)("div",{className:"text-2xl font-bold text-red-600 mt-1",children:g.overview.rejectedPayments})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),(0,Ys.jsxs)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:["\u20b9",g.overview.totalAmountPaid.toLocaleString()]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Avg Payment"}),(0,Ys.jsxs)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:["\u20b9",g.overview.avgPaymentAmount.toFixed(2)]})]})]}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment ID"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collector"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waste Details"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(e=>(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.paymentId.slice(-8)})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.collectionId})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.userName}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:e.collectorEmail})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.collectorName})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-900 capitalize",children:e.wasteType}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:[e.weight," kg \u2022 ",e.quality]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.amount?"\u20b9".concat(e.amount.toFixed(2)):"N/A"})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("approved"===e.action?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.action})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.processedAt).toLocaleDateString()})]},e.paymentId))})]})})})]}),"analytics"===y&&(0,Ys.jsx)(Km,{}),"factory"===y&&(0,Ys.jsx)(nh,{})]})]})},uh=()=>{const{user:e}=Ks(),[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),m=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?c(!0):n(!0);const t=await Tm.getFactoryProducts();r(t),o(null)}catch(t){console.error("Error fetching products:",t);let e="Failed to load products. ";t.response?(e+="Server responded with status ".concat(t.response.status,". "),t.response.data&&t.response.data.message&&(e+=t.response.data.message)):t.request?e+="No response received from server. Please check your connection.":e+=t.message,o(e)}finally{n(!1),c(!1)}};(0,a.useEffect)(()=>{m()},[]);const h=t.length,x=t.filter(e=>e.availability.isActive).length,p=t.reduce((e,t)=>e+t.inventory.currentStock,0),g=t.filter(e=>0===e.inventory.currentStock).length,f=t.filter(e=>e.inventory.currentStock>0&&e.inventory.currentStock<=10).length;return s?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading factory dashboard..."})]})}):i?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connection Error"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:i}),(0,Ys.jsx)("button",{onClick:()=>m(),disabled:s,className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:s?"Retrying...":"Try Again"})]})})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Factory Dashboard"}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500",children:["Welcome back, ",null===e||void 0===e?void 0:e.name,"! Manage your sustainable production"]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium bg-eco-green-50 text-eco-green-700 border border-eco-green-200",children:[(0,Ys.jsx)("div",{className:"w-2 h-2 bg-eco-green-500 rounded-full animate-pulse"}),(0,Ys.jsx)("span",{children:"Production Active"})]}),(0,Ys.jsxs)("button",{onClick:()=>m(!0),disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(l?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-eco-green-500 hover:bg-eco-green-600 text-white shadow-sm hover:shadow-md"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 ".concat(l?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l?"Refreshing...":"Refresh"]})]})]})})}),f>0&&(0,Ys.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-4 h-4 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,Ys.jsx)("div",{className:"flex-1",children:(0,Ys.jsxs)("p",{className:"text-amber-800 font-medium text-sm",children:["Inventory Alert: ",f," product",1!==f?"s":""," running low on stock"]})}),(0,Ys.jsx)(wn,{to:"/factory-product-management",className:"text-amber-700 hover:text-amber-800 font-medium text-sm underline",children:"Manage Inventory"})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:h.toLocaleString()})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Products"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:x})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-eco-green-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Inventory"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:p.toLocaleString()})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-purple-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})})]})}),(0,Ys.jsxs)("div",{className:"rounded-xl border p-6 ".concat(g>0?"bg-red-50 border-red-200":"bg-white border-gray-200"),children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold mt-2 ".concat(g>0?"text-red-600":"text-gray-900"),children:g})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center ".concat(g>0?"bg-red-100":"bg-eco-green-50"),children:g>0?(0,Ys.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):(0,Ys.jsx)("svg",{className:"w-6 h-6 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),g>0&&(0,Ys.jsx)("p",{className:"text-sm text-red-600 font-medium mt-4",children:"Requires immediate restocking"})]})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[(0,Ys.jsx)("div",{className:"xl:col-span-1",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,Ys.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})]})}),(0,Ys.jsxs)("div",{className:"p-6 space-y-3",children:[(0,Ys.jsxs)(wn,{to:"/factory-product-management",className:"group flex items-center justify-between p-4 bg-eco-green-50 hover:bg-eco-green-100 rounded-xl transition-all duration-200 hover:shadow-md border border-eco-green-100 hover:border-eco-green-200",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-eco-green-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:"Manage Products"}),(0,Ys.jsx)("p",{className:"text-xs text-gray-600",children:"Add, edit, or remove items"})]})]}),(0,Ys.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-eco-green-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,Ys.jsxs)(wn,{to:"/materials",className:"group flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 hover:shadow-md border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 7.172V5L8 4z"})})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:"Raw Materials"}),(0,Ys.jsx)("p",{className:"text-xs text-gray-600",children:"Track inventory & sourcing"})]})]}),(0,Ys.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,Ys.jsxs)(wn,{to:"/production",className:"group flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 hover:shadow-md border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:"Production Batches"}),(0,Ys.jsx)("p",{className:"text-xs text-gray-600",children:"Monitor manufacturing"})]})]}),(0,Ys.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,Ys.jsxs)(wn,{to:"/factory-orders",className:"group flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 hover:shadow-md border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:"View Orders"}),(0,Ys.jsx)("p",{className:"text-xs text-gray-600",children:"Customer orders & fulfillment"})]})]}),(0,Ys.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),(0,Ys.jsx)("div",{className:"xl:col-span-3",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Overview"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:t.length>0?"Showing ".concat(Math.min(5,t.length)," of ").concat(t.length," products"):"No products available"})]}),(0,Ys.jsx)("div",{className:"flex items-center gap-3",children:(0,Ys.jsxs)("button",{className:"flex items-center gap-2 bg-eco-green-500 hover:bg-eco-green-600 text-white font-medium py-2 px-4 rounded-lg transition-all shadow-sm hover:shadow-md",onClick:()=>u(!d),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),d?"Cancel":"Add Product"]})})]})}),0===t.length?(0,Ys.jsxs)("div",{className:"p-12 text-center",children:[(0,Ys.jsx)("div",{className:"w-24 h-24 bg-eco-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ys.jsx)("svg",{className:"w-12 h-12 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Products Available"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Start building your sustainable product catalog to showcase your eco-friendly manufacturing capabilities to customers."}),(0,Ys.jsxs)(wn,{to:"/factory-product-management",className:"inline-flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Your First Product"]})]}):(0,Ys.jsxs)("div",{className:"overflow-x-auto",children:[(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Details"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pricing"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Level"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.slice(0,5).map(e=>(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ys.jsx)("div",{className:"w-12 h-12 bg-eco-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Ys.jsx)("span",{className:"text-eco-green-600 font-semibold text-sm",children:e.productInfo.name.charAt(0).toUpperCase()})}),(0,Ys.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 mb-1",children:e.productInfo.name}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600 line-clamp-2",children:e.productInfo.description})]})]})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:e.productInfo.category})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsxs)("div",{className:"text-sm",children:[(0,Ys.jsxs)("div",{className:"font-semibold text-gray-900",children:["\u20b9",e.pricing.sellingPrice.toLocaleString()]}),(0,Ys.jsxs)("div",{className:"text-eco-green-600 text-xs",children:["+",e.pricing.ecoTokenDiscount," Eco Tokens"]})]})}),(0,Ys.jsxs)("td",{className:"px-6 py-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:e.inventory.currentStock.toLocaleString()}),(0,Ys.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.inventory.currentStock>10?"bg-eco-green-500":e.inventory.currentStock>0?"bg-amber-500":"bg-red-500")})]}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.inventory.currentStock>10?"In Stock":e.inventory.currentStock>0?"Low Stock":"Out of Stock"})]}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.availability.isActive?"bg-eco-green-100 text-eco-green-800":"bg-red-100 text-red-800"),children:e.availability.isActive?"Active":"Inactive"})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsx)("button",{className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})})})]},e._id))})]}),t.length>5&&(0,Ys.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-center",children:(0,Ys.jsxs)(wn,{to:"/factory-product-management",className:"inline-flex items-center gap-2 text-eco-green-600 hover:text-eco-green-700 font-medium text-sm transition-colors",children:["View All ",t.length," Products",(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})})]})]})]})},mh=["images"],hh=e=>{let{product:t,onSubmit:r,onCancel:s,loading:n}=e;const[i,o]=(0,a.useState)({productInfo:{name:"",description:"",category:"home_decor",images:[]},pricing:{costPrice:0,sellingPrice:0},inventory:{currentStock:0},sustainability:{recycledMaterialPercentage:80},availability:{isActive:!0}}),l=(0,a.useRef)(null),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,x]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(t){var e;const r=t.productInfo.images||[];o({productInfo:{name:t.productInfo.name,description:t.productInfo.description,category:t.productInfo.category||"home_decor",images:r},pricing:{costPrice:t.pricing.costPrice||0,sellingPrice:t.pricing.sellingPrice||0},inventory:{currentStock:t.inventory.currentStock||0},sustainability:{recycledMaterialPercentage:t.sustainability.recycledMaterialPercentage||80},availability:{isActive:null===(e=t.availability.isActive)||void 0===e||e}}),d(r),x(r)}},[t]);const p=e=>{const{name:t,value:r,type:s}=e.target;if("checkbox"===s){const r=e.target.checked;return void("availability.isActive"===t&&o(e=>Jt(Jt({},e),{},{availability:Jt(Jt({},e.availability),{},{isActive:r})})))}if(t.includes(".")){const[e,s]=t.split(".");o(t=>Jt(Jt({},t),{},{[e]:Jt(Jt({},t[e]),{},{[s]:s.includes("Price")||s.includes("Stock")||s.includes("Percentage")?Number(r):r})}))}else o(e=>Jt(Jt({},e),{},{[t]:t.includes("Price")||t.includes("Stock")||t.includes("Percentage")?Number(r):r}))};return(0,Ys.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border border-gray-100 p-8 max-w-2xl mx-auto",children:[(0,Ys.jsx)("h2",{className:"text-2xl font-bold text-eco-green-700 mb-8",children:t?"Edit Product":"Add New Product"}),(0,Ys.jsxs)("form",{onSubmit:e=>{e.preventDefault();const s=Jt({},i);if(s.pricing&&(s.pricing.costPrice=Number(s.pricing.costPrice),s.pricing.sellingPrice=Number(s.pricing.sellingPrice),console.log("ProductForm submitting exact values:"),console.log("  Fiat Price (\u20b9):",s.pricing.costPrice),console.log("  Token Price:",s.pricing.sellingPrice)),!t&&(!i.productInfo.images||0===i.productInfo.images.length)){const e=i.productInfo,{images:t}=e,r=Sn(e,mh);s.productInfo=Jt(Jt({},r),{},{images:[]})}r(s,u)},className:"space-y-6",children:[(0,Ys.jsxs)("div",{className:"form-group",children:[(0,Ys.jsx)("label",{htmlFor:"productInfo.name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Name"}),(0,Ys.jsx)("input",{type:"text",id:"productInfo.name",name:"productInfo.name",value:i.productInfo.name,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition-colors",placeholder:"Enter product name"})]}),(0,Ys.jsxs)("div",{className:"form-group",children:[(0,Ys.jsx)("label",{htmlFor:"productInfo.description",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,Ys.jsx)("textarea",{id:"productInfo.description",name:"productInfo.description",value:i.productInfo.description,onChange:p,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition-colors resize-none",placeholder:"Describe your product"})]}),(0,Ys.jsxs)("div",{className:"form-group",children:[(0,Ys.jsx)("label",{htmlFor:"productInfo.category",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),(0,Ys.jsxs)("select",{id:"productInfo.category",name:"productInfo.category",value:i.productInfo.category,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition-colors bg-white",children:[(0,Ys.jsx)("option",{value:"home_decor",children:"Home Decor"}),(0,Ys.jsx)("option",{value:"furniture",children:"Furniture"}),(0,Ys.jsx)("option",{value:"clothing",children:"Clothing"}),(0,Ys.jsx)("option",{value:"accessories",children:"Accessories"}),(0,Ys.jsx)("option",{value:"electronics",children:"Electronics"}),(0,Ys.jsx)("option",{value:"toys",children:"Toys"}),(0,Ys.jsx)("option",{value:"stationery",children:"Stationery"}),(0,Ys.jsx)("option",{value:"packaging",children:"Packaging"}),(0,Ys.jsx)("option",{value:"construction",children:"Construction"}),(0,Ys.jsx)("option",{value:"other",children:"Other"})]})]}),(0,Ys.jsxs)("div",{className:"form-group",children:[(0,Ys.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Images"}),(0,Ys.jsx)("div",{className:"flex items-center justify-center w-full mb-4",children:(0,Ys.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,Ys.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,Ys.jsx)("svg",{className:"w-8 h-8 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,Ys.jsxs)("p",{className:"mb-1 text-sm text-gray-500",children:[(0,Ys.jsx)("span",{className:"font-medium",children:"Click to upload"})," or drag and drop"]}),(0,Ys.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),(0,Ys.jsx)("input",{type:"file",ref:l,onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=Array.from(e.target.files),r=[];t.forEach(e=>{const t=URL.createObjectURL(e);r.push(t)}),m(t),d(e=>[...h,...r])}},multiple:!0,accept:"image/*",className:"hidden"})]})}),(0,Ys.jsxs)("div",{className:"flex flex-wrap gap-3",children:[c.map((e,t)=>(0,Ys.jsxs)("div",{className:"relative group",children:[(0,Ys.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"w-24 h-24 object-cover rounded-lg border border-gray-200 shadow-sm"}),(0,Ys.jsx)("button",{type:"button",onClick:()=>(e=>{if(e<h.length){const t=h.filter((t,r)=>r!==e);x(t),d([...t,...u.map(e=>URL.createObjectURL(e))]),o(e=>Jt(Jt({},e),{},{productInfo:Jt(Jt({},e.productInfo),{},{images:t})}))}else{const t=[...u];t.splice(e-h.length,1),m(t),d([...h,...t.map(e=>URL.createObjectURL(e))])}})(t),className:"absolute -top-2 -right-2 bg-eco-red text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-eco-red-dark transition-colors","aria-label":"Remove image",children:"\xd7"})]},t)),0===c.length&&(0,Ys.jsx)("div",{className:"w-24 h-24 border-2 border-dashed border-gray-200 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"No images"})]})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ys.jsxs)("div",{className:"form-group",children:[(0,Ys.jsx)("label",{htmlFor:"pricing.sellingPrice",className:"block text-sm font-semibold text-gray-700 mb-2",children:"EcoToken Price"}),(0,Ys.jsx)("input",{type:"number",id:"pricing.sellingPrice",name:"pricing.sellingPrice",value:i.pricing.sellingPrice||"",onChange:p,min:"0",placeholder:"Enter token price",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition-colors"})]}),(0,Ys.jsxs)("div",{className:"form-group",children:[(0,Ys.jsx)("label",{htmlFor:"pricing.costPrice",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Fiat Price (\u20b9)"}),(0,Ys.jsx)("input",{type:"number",id:"pricing.costPrice",name:"pricing.costPrice",value:i.pricing.costPrice||"",onChange:p,min:"0",placeholder:"Enter fiat price",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition-colors"})]})]}),(0,Ys.jsxs)("div",{className:"form-group",children:[(0,Ys.jsx)("label",{htmlFor:"inventory.currentStock",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Available Stock"}),(0,Ys.jsx)("input",{type:"number",id:"inventory.currentStock",name:"inventory.currentStock",value:i.inventory.currentStock||"",onChange:p,min:"0",placeholder:"Enter stock quantity",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition-colors"})]}),(0,Ys.jsxs)("div",{className:"form-group",children:[(0,Ys.jsx)("label",{htmlFor:"sustainability.recycledMaterialPercentage",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sustainability Score (0-100)"}),(0,Ys.jsx)("input",{type:"number",id:"sustainability.recycledMaterialPercentage",name:"sustainability.recycledMaterialPercentage",value:i.sustainability.recycledMaterialPercentage,onChange:p,min:"0",max:"100",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green transition-colors"}),(0,Ys.jsx)("div",{className:"mt-3 w-full bg-eco-beige-light rounded-md h-3",children:(0,Ys.jsx)("div",{className:"bg-eco-green h-3 rounded-md transition-all duration-300",style:{width:"".concat(i.sustainability.recycledMaterialPercentage,"%")}})})]}),(0,Ys.jsx)("div",{className:"form-group",children:(0,Ys.jsx)("div",{className:"flex items-center",children:(0,Ys.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ys.jsx)("input",{type:"checkbox",name:"availability.isActive",checked:i.availability.isActive,onChange:p,className:"sr-only peer"}),(0,Ys.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-eco-green rounded-xl peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-eco-green"}),(0,Ys.jsx)("span",{className:"ml-3 text-sm font-semibold text-gray-700",children:"Active Status"})]})})}),(0,Ys.jsxs)("div",{className:"flex justify-center gap-4 pt-6 border-t border-gray-200",children:[(0,Ys.jsx)("button",{type:"button",onClick:s,className:"px-6 py-2 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-eco-green transition-colors",children:"Cancel"}),(0,Ys.jsx)("button",{type:"submit",disabled:n,className:"px-6 py-2 text-sm font-semibold text-white bg-eco-green hover:bg-eco-green-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,Ys.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Ys.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ys.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ys.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,Ys.jsx)("span",{children:t?"Update Product":"Add Product"})})]})]})]})},xh=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),[p,g]=(0,a.useState)(""),[f,y]=(0,a.useState)("all"),[v,b]=(0,a.useState)("all"),[j,w]=(0,a.useState)("grid"),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?i(!0):s(!0),console.log("Fetching factory products...");const r=await Tm.getFactoryProducts();console.log("Fetched products:",r.length),t(r),l(null)}catch(r){console.error("Error fetching products:",r);const e=r instanceof Error?r.message:"Failed to load products. Please try again.";l(e)}finally{s(!1),i(!1)}};(0,a.useEffect)(()=>{N()},[]);const k=e=>{m(e),d(!0)},S=async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{console.log("Deleting product:",e),await Tm.deleteFactoryProduct(e),console.log("Product deleted successfully"),console.log("Refreshing product list after delete...");const r=await Tm.getFactoryProducts();console.log("Fetched products after delete:",r.length),t(r),l(null)}catch(r){console.error("Error deleting product:",r);const e=r instanceof Error?r.message:"Failed to delete product. Please try again.";l(e)}},C=()=>{d(!1),m(null)},P=e.filter(e=>{const t=e.productInfo.name.toLowerCase().includes(p.toLowerCase())||e.productInfo.description.toLowerCase().includes(p.toLowerCase()),r="all"===f||"active"===f&&e.availability.isActive||"inactive"===f&&!e.availability.isActive,s="all"===v||e.productInfo.category===v;return t&&r&&s}),E=new Set(e.map(e=>e.productInfo.category)),T=Array.from(E);return r?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading product management..."})]})}):o&&!e.length?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Products"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:o}),(0,Ys.jsx)("button",{onClick:()=>N(),className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Try Again"})]})})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Create and manage your sustainable product catalog"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium bg-eco-green-50 text-eco-green-700 border border-eco-green-200",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,Ys.jsxs)("span",{children:[P.length," Product",1!==P.length?"s":""]})]}),(0,Ys.jsxs)("button",{onClick:()=>N(!0),disabled:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(n?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-600 hover:bg-gray-700 text-white shadow-sm hover:shadow-md"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 ".concat(n?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n?"Refreshing...":"Refresh"]}),(0,Ys.jsxs)("button",{className:"flex items-center gap-2 bg-eco-green-500 hover:bg-eco-green-600 text-white font-medium py-2 px-4 rounded-lg transition-all shadow-sm hover:shadow-md",onClick:()=>d(!c),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),c?"Cancel":"Add Product"]})]})]})})}),o&&e.length>0&&(0,Ys.jsx)("div",{className:"bg-red-50 border-b border-red-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("p",{className:"text-red-800 font-medium text-sm",children:o})]}),(0,Ys.jsx)("button",{onClick:()=>l(null),className:"text-red-600 hover:text-red-800 transition-colors",children:(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&(0,Ys.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,Ys.jsxs)("div",{className:"relative w-full max-w-2xl mx-auto",children:[(0,Ys.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,Ys.jsx)("button",{onClick:C,className:"bg-white rounded-full p-2 shadow hover:bg-gray-100","aria-label":"Close",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-0 max-h-[90vh] overflow-y-auto",children:(0,Ys.jsx)(hh,{product:u?{productInfo:{name:u.productInfo.name,description:u.productInfo.description,category:u.productInfo.category,images:u.productInfo.images||[]},pricing:{costPrice:u.pricing.sellingPrice,sellingPrice:u.pricing.ecoTokenDiscount||0},inventory:{currentStock:u.inventory.currentStock},sustainability:{recycledMaterialPercentage:u.sustainability.recycledMaterialPercentage},availability:{isActive:u.availability.isActive}}:void 0,onSubmit:async(e,r)=>{x(!0),l(null);try{console.log("Submitting product data:",e),console.log("Images:",(null===r||void 0===r?void 0:r.length)||0),u?(console.log("Updating existing product:",u._id),await Tm.updateFactoryProduct(u._id,e,r),console.log("Product updated successfully")):(console.log("Creating new product"),await Tm.createFactoryProduct(e,r),console.log("Product created successfully")),console.log("Refreshing product list...");const s=await Tm.getFactoryProducts();console.log("Fetched products:",s.length),t(s),d(!1),m(null),console.log("Form reset complete")}catch(s){console.error("Error saving product:",s);const e=s instanceof Error?s.message:"Failed to save product. Please try again.";l(e)}finally{x(!1)}},onCancel:C,loading:h})})]})}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filter Products"}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg",children:[(0,Ys.jsxs)("button",{onClick:()=>w("grid"),className:"flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat("grid"===j?"bg-white text-eco-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Grid"]}),(0,Ys.jsxs)("button",{onClick:()=>w("list"),className:"flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat("list"===j?"bg-white text-eco-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"List"]})]})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Products"}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Search by name or description...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent"}),(0,Ys.jsx)("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Ys.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent",children:[(0,Ys.jsx)("option",{value:"all",children:"All Status"}),(0,Ys.jsx)("option",{value:"active",children:"Active"}),(0,Ys.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Ys.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent",children:[(0,Ys.jsx)("option",{value:"all",children:"All Categories"}),T.map(e=>(0,Ys.jsx)("option",{value:e,className:"capitalize",children:e},e))]})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Catalog"}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[P.length," of ",e.length," products displayed"]})]}),(0,Ys.jsx)("div",{className:"flex items-center gap-3",children:(0,Ys.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-4-4m4 4l4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Export"]})})]})}),0===P.length?(0,Ys.jsxs)("div",{className:"p-12 text-center",children:[(0,Ys.jsx)("div",{className:"w-24 h-24 bg-eco-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ys.jsx)("svg",{className:"w-12 h-12 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:0===e.length?"No Products Yet":"No Matching Products"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:0===e.length?"Start building your sustainable product catalog to showcase your eco-friendly manufacturing capabilities.":"Try adjusting your filters to find the products you're looking for."}),0===e.length&&(0,Ys.jsxs)("button",{className:"inline-flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",onClick:()=>d(!0),children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Your First Product"]})]}):(0,Ys.jsx)("div",{className:"p-6",children:"grid"===j?(0,Ys.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P.map(e=>{var t;return(0,Ys.jsxs)("div",{className:"group bg-white rounded-lg border border-gray-200 hover:border-eco-green-300 hover:shadow-lg transition-all duration-300 overflow-hidden",children:[(0,Ys.jsxs)("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[(0,Ys.jsx)("img",{src:(null===(t=e.productInfo.images)||void 0===t?void 0:t[0])||"/uploads/default-product.svg",alt:e.productInfo.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="/uploads/default-product.svg"}}),(0,Ys.jsxs)("div",{className:"absolute top-3 left-3 bg-eco-green-500 text-white text-xs font-medium px-2 py-1 rounded-full flex items-center gap-1",children:[(0,Ys.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),e.sustainability.recycledMaterialPercentage,"%"]}),(0,Ys.jsx)("div",{className:"absolute top-3 right-3",children:(0,Ys.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.availability.isActive?"bg-eco-green-100 text-eco-green-800":"bg-red-100 text-red-800"),children:e.availability.isActive?"Active":"Inactive"})}),(0,Ys.jsxs)("div",{className:"absolute bottom-3 left-3 bg-black/75 backdrop-blur-sm text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,Ys.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"EcoChain Factory"]})]}),(0,Ys.jsxs)("div",{className:"p-4",children:[(0,Ys.jsxs)("div",{className:"mb-3",children:[(0,Ys.jsx)("h3",{className:"font-bold text-lg text-gray-900 mb-1 line-clamp-1",children:e.productInfo.name}),(0,Ys.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-2",children:e.productInfo.description}),(0,Ys.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:e.productInfo.category})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("div",{className:"text-xl font-bold text-eco-green-600",children:["\u20b9",e.pricing.sellingPrice.toLocaleString()]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,Ys.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),e.pricing.ecoTokenDiscount," tokens"]})]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-500",children:"Stock"}),(0,Ys.jsxs)("div",{className:"font-medium text-gray-900 flex items-center gap-1",children:[e.inventory.currentStock,(0,Ys.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.inventory.currentStock>10?"bg-eco-green-500":e.inventory.currentStock>0?"bg-amber-500":"bg-red-500")})]})]})]}),(0,Ys.jsxs)("div",{className:"flex gap-2",children:[(0,Ys.jsxs)("button",{className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-2",onClick:()=>k(e),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,Ys.jsxs)("button",{className:"flex-1 bg-red-500 hover:bg-red-600 text-white px-3 py-2 text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-2",onClick:()=>S(e._id),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})]},e._id)})}):(0,Ys.jsx)("div",{className:"space-y-4",children:P.map(e=>{var t;return(0,Ys.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-eco-green-300 hover:shadow-md transition-all p-4",children:(0,Ys.jsxs)("div",{className:"flex gap-4",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 w-20 h-20 bg-gray-100 rounded-lg overflow-hidden",children:(0,Ys.jsx)("img",{src:(null===(t=e.productInfo.images)||void 0===t?void 0:t[0])||"/uploads/default-product.svg",alt:e.productInfo.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="/uploads/default-product.svg"}})}),(0,Ys.jsx)("div",{className:"flex-1 min-w-0",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ys.jsxs)("div",{className:"flex-1 min-w-0 pr-4",children:[(0,Ys.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:e.productInfo.name}),(0,Ys.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:e.productInfo.description}),(0,Ys.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ys.jsx)("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded text-xs font-medium capitalize",children:e.productInfo.category}),(0,Ys.jsxs)("div",{className:"flex items-center gap-1 text-eco-green-600",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),e.sustainability.recycledMaterialPercentage,"% eco"]})]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0",children:[(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsxs)("div",{className:"text-lg font-bold text-eco-green-600",children:["\u20b9",e.pricing.sellingPrice.toLocaleString()]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-500",children:["+",e.pricing.ecoTokenDiscount," tokens"]})]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-500",children:"Stock"}),(0,Ys.jsxs)("div",{className:"font-medium text-gray-900 flex items-center gap-1",children:[e.inventory.currentStock,(0,Ys.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.inventory.currentStock>10?"bg-eco-green-500":e.inventory.currentStock>0?"bg-amber-500":"bg-red-500")})]})]}),(0,Ys.jsx)("div",{children:(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.availability.isActive?"bg-eco-green-100 text-eco-green-800":"bg-red-100 text-red-800"),children:e.availability.isActive?"Active":"Inactive"})}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 text-xs font-medium rounded-lg transition-colors",onClick:()=>k(e),children:"Edit"}),(0,Ys.jsx)("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 text-xs font-medium rounded-lg transition-colors",onClick:()=>S(e._id),children:"Delete"})]})]})]})})]})},e._id)})})})]})]})]})},ph=()=>{const{user:e}=Ks(),[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[x,p]=(0,a.useState)(!1),g=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fair";const s={plastic:{baseRate:12,qualityMultipliers:{excellent:1.4,good:1.2,fair:1,poor:.7}},paper:{baseRate:8,qualityMultipliers:{excellent:1.3,good:1.1,fair:1,poor:.6}},metal:{baseRate:25,qualityMultipliers:{excellent:1.5,good:1.2,fair:1,poor:.8}},glass:{baseRate:3,qualityMultipliers:{excellent:1.3,good:1.1,fair:1,poor:.5}},electronic:{baseRate:35,qualityMultipliers:{excellent:1.6,good:1.3,fair:1,poor:.7}},organic:{baseRate:2,qualityMultipliers:{excellent:1.2,good:1,fair:.8,poor:.5}},other:{baseRate:5,qualityMultipliers:{excellent:1.2,good:1,fair:.8,poor:.6}}},n=s[e]||s.other;let a=1;t>=200?a=1.2:t>=100?a=1.15:t>=50&&(a=1.1);const i=n.baseRate*t*(n.qualityMultipliers[r]||n.qualityMultipliers.fair)*a;return Math.round(100*i)/100},[f,y]=(0,a.useState)({todayPickups:0,totalEarnings:0,routeStops:0,completedCollections:0,pendingCollections:0,totalEarningsINR:0,pendingPaymentsINR:0});(0,a.useEffect)(()=>{"collector"===(null===e||void 0===e?void 0:e.role)?(async()=>{try{var e,t;u(!0);const s=await tn.getAvailableCollections(1,20);console.log("Available collections response:",s);const a=(null===(e=s.data)||void 0===e?void 0:e.collections)||[];console.log("Available collections:",a);const i=a.map(e=>({_id:e._id,collectionId:e.collectionId,location:e.location,collectionDetails:e.collectionDetails,scheduling:e.scheduling,status:e.status,userId:{personalInfo:{name:"User",phone:"N/A"}}}));console.log("Transformed pickup requests:",i.length,"items"),r(i);const l=(null===(t=(await tn.getMyAssignedCollections(1,20)).data)||void 0===t?void 0:t.collections)||[];console.log("=== COLLECTOR DASHBOARD DEBUG ==="),console.log("Assigned collections fetched:",l.length),console.log("Sample assigned collection:",l[0]),console.log("All assigned collections statuses:",l.map(e=>({id:e.collectionId,status:e.status}))),console.log("================================"),c(l);const d=l.filter(e=>["completed","delivered","verified"].includes(e.status)).map(e=>({_id:e._id,collectionId:e.collectionId,location:e.location,collectionDetails:e.collectionDetails,scheduling:e.scheduling,tokenCalculation:e.tokenCalculation,status:e.status}));n(d);const m=(new Date).toISOString().split("T")[0],h=l.filter(e=>!!e.scheduling.scheduledDate&&new Date(e.scheduling.scheduledDate).toISOString().split("T")[0]===m).map(e=>({_id:e._id,time:e.scheduling.preferredTimeSlot||"TBD",scheduledDate:e.scheduling.scheduledDate,requestedDate:e.scheduling.requestedDate,location:e.location,collectionDetails:e.collectionDetails,status:"scheduled"===e.status?"scheduled":"in_progress"===e.status?"in_progress":"completed"}));h.sort((e,t)=>{const r=e=>{if(!e||"TBD"===e)return 24;const t=e.match(/(\d+):(\d+)\s*(AM|PM)/i);if(!t)return 24;let r=parseInt(t[1]);return"PM"===t[3].toUpperCase()&&12!==r&&(r+=12),"AM"===t[3].toUpperCase()&&12===r&&(r=0),r};return r(e.time)-r(t.time)}),o(h);const x=d.reduce((e,t)=>{var r;return e+((null===(r=t.tokenCalculation)||void 0===r?void 0:r.totalTokensIssued)||0)},0),p=d.reduce((e,t)=>e+g(t.collectionDetails.type,t.collectionDetails.weight,t.collectionDetails.quality||"fair"),0),f=l.filter(e=>"collected"===e.status).reduce((e,t)=>e+g(t.collectionDetails.type,t.collectionDetails.weight,t.collectionDetails.quality||"fair"),0);y({todayPickups:h.length,totalEarnings:x,routeStops:h.length,completedCollections:d.length,pendingCollections:i.length,totalEarningsINR:p,pendingPaymentsINR:f}),u(!1)}catch(m){var s;console.error("Error fetching collector data:",m),console.error("Error details:",(null===(s=m.response)||void 0===s?void 0:s.data)||m.message),h("Failed to load collector data: "+(m.message||"Unknown error")),u(!1)}})():(h("Access denied. Collector role required."),u(!1))},[e]);const v=async(e,t)=>{try{if(console.log("Updating collection ".concat(e," to status: ").concat(t)),"collected"===t){await tn.markAsCollected(e);const t=l.find(t=>t._id===e);if(t){const e=g(t.collectionDetails.type,t.collectionDetails.weight,t.collectionDetails.quality);alert("Collection marked as collected! Expected payment: \u20b9".concat(e,". This will now be sent to admin for approval and payment processing."))}else alert("Collection marked as collected! This will now be sent to admin for processing collector payment.")}else await tn.updateCollectionStatus(e,t),alert("Status updated successfully!");await b()}catch(m){console.error("Error updating status:",m),alert(m.message||"Failed to update status")}},b=async()=>{try{var e,t;console.log("Refreshing collector dashboard data...");const s=await tn.getAvailableCollections(1,20),a=((null===(e=s.data)||void 0===e?void 0:e.collections)||[]).map(e=>({_id:e._id,collectionId:e.collectionId,location:e.location,collectionDetails:e.collectionDetails,scheduling:e.scheduling,status:e.status,userId:{personalInfo:{name:"User",phone:"N/A"}}}));r(a);const i=(null===(t=(await tn.getMyAssignedCollections(1,20)).data)||void 0===t?void 0:t.collections)||[];console.log("=== REFRESH COLLECTOR DEBUG ==="),console.log("Refresh - Assigned collections fetched:",i.length),console.log("Refresh - All assigned collections:",i.map(e=>{var t;return{id:e.collectionId,status:e.status,scheduledDate:null===(t=e.scheduling)||void 0===t?void 0:t.scheduledDate}})),console.log("==============================="),c(i);const l=(new Date).toISOString().split("T")[0],d=i.filter(e=>{if(!e.scheduling.scheduledDate)return!1;return new Date(e.scheduling.scheduledDate).toISOString().split("T")[0]===l}).map(e=>({_id:e._id,time:e.scheduling.preferredTimeSlot||"TBD",scheduledDate:e.scheduling.scheduledDate,requestedDate:e.scheduling.requestedDate,location:e.location,collectionDetails:e.collectionDetails,status:"scheduled"===e.status?"scheduled":"in_progress"===e.status?"in_progress":"completed"}));d.sort((e,t)=>{const r=e=>{if(!e||"TBD"===e)return 24;const t=e.match(/(\d+):(\d+)\s*(AM|PM)/i);if(!t)return 24;let r=parseInt(t[1]);return"PM"===t[3].toUpperCase()&&12!==r&&(r+=12),"AM"===t[3].toUpperCase()&&12===r&&(r=0),r};return r(e.time)-r(t.time)}),o(d);const u=i.filter(e=>["completed","delivered","verified"].includes(e.status)).map(e=>({_id:e._id,collectionId:e.collectionId,location:e.location,collectionDetails:e.collectionDetails,scheduling:e.scheduling,tokenCalculation:e.tokenCalculation,status:e.status}));n(u);const m=u.reduce((e,t)=>{var r;return e+((null===(r=t.tokenCalculation)||void 0===r?void 0:r.totalTokensIssued)||0)},0),h=u.reduce((e,t)=>e+g(t.collectionDetails.type,t.collectionDetails.weight,t.collectionDetails.quality||"fair"),0),x=i.filter(e=>"collected"===e.status).reduce((e,t)=>e+g(t.collectionDetails.type,t.collectionDetails.weight,t.collectionDetails.quality||"fair"),0);y({todayPickups:d.length,totalEarnings:m,routeStops:d.length,completedCollections:u.length,pendingCollections:a.length,totalEarningsINR:h,pendingPaymentsINR:x}),console.log("Collector data refresh completed")}catch(m){console.error("Error refreshing collector data:",m)}};if(d)return(0,Ys.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Ys.jsx)("div",{children:"Loading collector dashboard..."})});if(m)return(0,Ys.jsx)("div",{style:{margin:"16px"},children:(0,Ys.jsxs)("div",{style:{color:"red",padding:"10px",backgroundColor:"#ffebee",borderRadius:"4px"},children:["Error: ",m]})});return(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Collector Dashboard"}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500",children:["Welcome back, ",null===e||void 0===e?void 0:e.name,"! Manage your waste collection routes"]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium bg-eco-green-50 text-eco-green-700 border border-eco-green-200",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,Ys.jsxs)("span",{children:[(null===l||void 0===l?void 0:l.length)||0," Active Collections"]})]}),(0,Ys.jsxs)("button",{onClick:async()=>{p(!0);try{h(null)}catch(e){console.error("Error refreshing dashboard:",e),h("Failed to refresh data. Please try again.")}finally{p(!1)}},disabled:x,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(x?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-600 hover:bg-gray-700 text-white shadow-sm hover:shadow-md"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 ".concat(x?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),x?"Refreshing...":"Refresh"]})]})]})})}),m&&(0,Ys.jsx)("div",{className:"bg-red-50 border-b border-red-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Ys.jsx)("p",{className:"text-red-800 font-medium text-sm",children:m})]}),(0,Ys.jsx)("button",{onClick:()=>h(null),className:"text-red-600 hover:text-red-800 transition-colors",children:(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),(null===f||void 0===f?void 0:f.pendingPaymentsINR)>0&&(0,Ys.jsx)("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-4 h-4 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Ys.jsx)("div",{className:"flex-1",children:(0,Ys.jsxs)("p",{className:"text-amber-800 font-medium text-sm",children:["Payment Pending: \u20b9",f.pendingPaymentsINR," awaiting admin approval"]})})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Today's Pickups"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(null===f||void 0===f?void 0:f.todayPickups)||0})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-blue-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Earnings"}),(0,Ys.jsxs)("p",{className:"text-3xl font-bold text-eco-green-600 mt-2",children:["\u20b9",(null===f||void 0===f?void 0:f.totalEarningsINR)||0]}),(0,Ys.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null===f||void 0===f?void 0:f.totalEarnings)||0," EcoTokens"]})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-eco-green-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),(0,Ys.jsxs)("div",{className:"rounded-xl border p-6 ".concat((null===f||void 0===f?void 0:f.pendingPaymentsINR)>0?"bg-amber-50 border-amber-200":"bg-white border-gray-200"),children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Payments"}),(0,Ys.jsxs)("p",{className:"text-3xl font-bold mt-2 ".concat((null===f||void 0===f?void 0:f.pendingPaymentsINR)>0?"text-amber-600":"text-gray-900"),children:["\u20b9",(null===f||void 0===f?void 0:f.pendingPaymentsINR)||0]})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center ".concat((null===f||void 0===f?void 0:f.pendingPaymentsINR)>0?"bg-amber-100":"bg-gray-50"),children:(null===f||void 0===f?void 0:f.pendingPaymentsINR)>0?(0,Ys.jsx)("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):(0,Ys.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),(null===f||void 0===f?void 0:f.pendingPaymentsINR)>0&&(0,Ys.jsx)("p",{className:"text-sm text-amber-600 font-medium mt-4",children:"Awaiting admin approval"})]}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Route Stops"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(null===f||void 0===f?void 0:f.routeStops)||0})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-purple-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsxs)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1 1 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8",children:[(0,Ys.jsx)("div",{className:"xl:col-span-1",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),(0,Ys.jsxs)("div",{className:"p-6 space-y-3",children:[(0,Ys.jsxs)("button",{className:"w-full flex items-center gap-3 p-4 bg-eco-green-50 hover:bg-eco-green-100 rounded-xl transition-all duration-200 hover:shadow-md border border-eco-green-100 hover:border-eco-green-200",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-eco-green-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),(0,Ys.jsxs)("div",{className:"text-left",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:"Start Route"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:"Begin collection route"})]})]}),(0,Ys.jsxs)("button",{className:"w-full flex items-center gap-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 hover:shadow-md border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11a6 6 0 11-12 0v-1m12 1a6 6 0 11-12 0v-1m0 1v4a2 2 0 002 2h8a2 2 0 002-2v-4m0 0V9a2 2 0 00-2-2H10a2 2 0 00-2 2v6.5"})})}),(0,Ys.jsxs)("div",{className:"text-left",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:"Scan Waste"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:"QR code scanner"})]})]}),(0,Ys.jsxs)("button",{className:"w-full flex items-center gap-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 hover:shadow-md border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,Ys.jsxs)("div",{className:"text-left",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:"Report Issue"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:"Submit problem report"})]})]}),(0,Ys.jsxs)("button",{className:"w-full flex items-center gap-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 hover:shadow-md border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),(0,Ys.jsxs)("div",{className:"text-left",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:"View Map"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:"Route optimization"})]})]})]})]})}),(0,Ys.jsx)("div",{className:"xl:col-span-2",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Schedule"}),(0,Ys.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:(new Date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})}),(0,Ys.jsx)("div",{className:"p-6",children:i&&0!==i.length?(0,Ys.jsx)("div",{className:"space-y-4",children:i.map((e,t)=>(0,Ys.jsxs)("div",{className:"p-4 rounded-lg border-l-4 ".concat("completed"===e.status?"bg-eco-green-50 border-eco-green-500":"in_progress"===e.status?"bg-blue-50 border-blue-500":"bg-amber-50 border-amber-500"),children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["\ud83d\udd50 ",e.time]}),(0,Ys.jsxs)("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:["#",t+1]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-eco-green-100 text-eco-green-800":"in_progress"===e.status?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800"),children:"completed"===e.status?"\u2705 Completed":"in_progress"===e.status?"\ud83d\ude9b In Progress":"\u23f0 Scheduled"}),"scheduled"===e.status&&(0,Ys.jsx)("button",{onClick:()=>v(e._id,"in_progress"),className:"bg-amber-500 hover:bg-amber-600 text-white px-3 py-1 text-xs font-medium rounded-lg transition-colors",children:"\ud83d\ude80 Start"}),"in_progress"===e.status&&(0,Ys.jsx)("button",{onClick:()=>v(e._id,"collected"),className:"bg-eco-green-500 hover:bg-eco-green-600 text-white px-3 py-1 text-xs font-medium rounded-lg transition-colors",children:"\u2705 Complete"})]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:e.location.pickupAddress})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16l-3-9m3 9l3-9"})}),(0,Ys.jsx)("span",{children:(0,Ys.jsx)("strong",{children:e.collectionDetails.type})})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16l-3-9m3 9l3-9"})}),(0,Ys.jsxs)("span",{children:[e.collectionDetails.weight,"kg"]})]})]})]},e._id))}):(0,Ys.jsxs)("div",{className:"text-center py-12",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No collections scheduled"}),(0,Ys.jsx)("p",{className:"text-gray-600",children:"Check back later or accept new pickup requests"})]})})]})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden mb-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Available Pickup Requests"}),(0,Ys.jsxs)("span",{className:"text-sm text-gray-500",children:[(null===t||void 0===t?void 0:t.length)||0," requests available"]})]})}),t&&0!==t.length?(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waste Details"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.location.pickupAddress})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsxs)("div",{className:"text-sm",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900",children:e.collectionDetails.type}),(0,Ys.jsxs)("div",{className:"text-gray-500",children:[e.collectionDetails.weight,"kg"]})]})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsxs)("div",{className:"text-sm",children:[(0,Ys.jsx)("div",{className:"text-gray-900",children:e.scheduling.requestedDate?new Date(e.scheduling.requestedDate).toLocaleDateString():"TBD"}),(0,Ys.jsx)("div",{className:"text-gray-500",children:e.scheduling.preferredTimeSlot})]})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("requested"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,Ys.jsx)("td",{className:"px-6 py-4",children:"requested"===e.status?(0,Ys.jsx)("button",{onClick:()=>(async e=>{try{var r;const s=t.find(t=>t._id===e);if(s){const e=g(s.collectionDetails.type,s.collectionDetails.weight,s.collectionDetails.quality||"fair");if(!window.confirm("Are you sure you want to accept this collection request?\n\n"+"Waste Type: ".concat(s.collectionDetails.type,"\n")+"Weight: ".concat(s.collectionDetails.weight," kg\n")+"Quality: ".concat(s.collectionDetails.quality||"fair","\n")+"Expected Payment: \u20b9".concat(e,"\n\n")+"Upon completion, this amount will be sent to admin for approval and payment processing."))return}const n=await tn.assignCollector(e);n.success&&null!==(r=n.data)&&void 0!==r&&r.tokensAwarded?alert("Collection request accepted successfully! User has been awarded ".concat(n.data.tokensAwarded," EcoTokens. Collection is now scheduled.")):alert("Collection request accepted successfully! Collection is now scheduled."),await b()}catch(m){console.error("Error accepting request:",m),alert(m.message||"Failed to accept collection request")}})(e._id),className:"bg-eco-green-500 hover:bg-eco-green-600 text-white px-3 py-1.5 text-xs font-medium rounded-lg transition-colors",children:"Accept"}):(0,Ys.jsx)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 text-xs font-medium rounded-lg transition-colors",children:"View Details"})})]},e._id))})]})}):(0,Ys.jsxs)("div",{className:"p-12 text-center",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No pickup requests"}),(0,Ys.jsx)("p",{className:"text-gray-600",children:"New requests will appear here automatically"})]})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Metrics"})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900",children:"Collections Completed"}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-600",children:[(null===f||void 0===f?void 0:f.completedCollections)||0," collections"]})]}),(0,Ys.jsxs)("span",{className:"bg-eco-green-100 text-eco-green-800 px-2.5 py-0.5 rounded-full text-xs font-medium",children:[(null===f||void 0===f?void 0:f.completedCollections)||0," / ",((null===f||void 0===f?void 0:f.completedCollections)||0)+((null===f||void 0===f?void 0:f.pendingCollections)||0)]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900",children:"Average Collection Time"}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600",children:"15 minutes per collection"})]}),(0,Ys.jsx)("span",{className:"bg-eco-green-100 text-eco-green-800 px-2.5 py-0.5 rounded-full text-xs font-medium",children:"On Target"})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900",children:"Waste Quality Rating"}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600",children:"High quality recyclables"})]}),(0,Ys.jsx)("span",{className:"bg-eco-green-100 text-eco-green-800 px-2.5 py-0.5 rounded-full text-xs font-medium",children:"4.8/5"})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900",children:"Route Efficiency"}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600",children:"Optimized for minimum fuel"})]}),(0,Ys.jsx)("span",{className:"bg-eco-green-100 text-eco-green-800 px-2.5 py-0.5 rounded-full text-xs font-medium",children:"92%"})]})]})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Collections"}),(0,Ys.jsx)("button",{className:"text-sm text-eco-green-600 hover:text-eco-green-700 font-medium",children:"View All"})]})}),(0,Ys.jsx)("div",{className:"p-6",children:s&&0!==s.length?(0,Ys.jsx)("div",{className:"space-y-4",children:s.slice(0,3).map(e=>{var t;return(0,Ys.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("div",{className:"font-medium text-gray-900 text-sm",children:[e.collectionDetails.type," - ",e.collectionDetails.weight,"kg"]}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:e.scheduling.actualPickupDate?new Date(e.scheduling.actualPickupDate).toLocaleDateString():"N/A"})]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsxs)("div",{className:"font-bold text-eco-green-600 text-sm",children:["\u20b9",g?g(e.collectionDetails.type,e.collectionDetails.weight,e.collectionDetails.quality||"fair"):"0"]}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:[(null===(t=e.tokenCalculation)||void 0===t?void 0:t.totalTokensIssued)||0," tokens"]})]})]},e._id)})}):(0,Ys.jsxs)("div",{className:"text-center py-8",children:[(0,Ys.jsx)("div",{className:"text-gray-500 mb-2",children:"No collections yet"}),(0,Ys.jsx)("div",{className:"text-sm text-gray-400",children:"Completed collections will appear here"})]})})]})]})]})]})},gh=()=>{const e=te(),{cart:t,cartTotal:r,tokenTotal:s,clearCart:n}=Zs(),{user:i}=Ks(),{totalEcoTokens:o}=mn(),[l,c]=(0,a.useState)({fullName:(null===i||void 0===i?void 0:i.name)||"",address:"",city:"",state:"",zipCode:"",country:"India",phone:""}),[d,u]=(0,a.useState)("money"),[m,h]=(0,a.useState)(0),[x,p]=(0,a.useState)(""),[g,f]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[b,j]=(0,a.useState)(1),w=(Math.min(s,o),Math.round(2*m*100)/100);let N=0,k=0;switch(d){case"money":N=Math.round(100*r)/100,k=0;break;case"tokens":N=0,k=Math.round(s);break;case"mixed":k=Math.round(m),N=Math.max(0,Math.round(100*(r-w))/100)}const S=Math.round(.18*r*100)/100,C=r>500?0:50;let P=0;switch(d){case"money":P=Math.round(100*(r+S+C))/100;break;case"tokens":const e=2*Math.round(s);P=Math.max(0,Math.round(100*(r+S+C-e))/100);break;case"mixed":P=Math.max(0,Math.round(100*(r+S+C-w))/100)}const E=e=>{const{name:t,value:r}=e.target;c(Jt(Jt({},l),{},{[t]:r}))},T=async r=>{if(r.preventDefault(),1===b)return l.fullName&&l.address&&l.city&&l.state&&l.zipCode&&l.phone?(v(null),void j(2)):void v("Please fill in all required shipping information.");if(2===b)try{f(!0),v(null);const r={items:t.map(e=>({productId:e.product.id,quantity:e.quantity})),payment:{method:"money"===d?"cash":"tokens"===d?"token":"cash",tokensUsed:k},shipping:{fullName:l.fullName,address:l.address,city:l.city,state:l.state,zipCode:l.zipCode,country:l.country,phone:l.phone},notes:x},s=await Fs(r);if(!s.data.success)throw new Error(s.data.message||"Failed to create order");n(),e("/order-confirmation/".concat(s.data.data._id))}catch(i){var s,a;console.error("Error creating order:",i);let e="Failed to process your order. Please try again.";null!==(s=i.response)&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.message?e=i.response.data.message:i.message&&(e=i.message),v(e)}finally{f(!1)}};return 0===t.length?(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Checkout"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Complete your eco-friendly purchase"})]})})})}),(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ys.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v5a2 2 0 002 2h2a2 2 0 002-2v-5"})})}),(0,Ys.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),(0,Ys.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Add some products to your cart before checking out."}),(0,Ys.jsxs)("button",{className:"inline-flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-8 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",onClick:()=>e("/marketplace"),children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Browse Products"]})]})})]}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Checkout"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Complete your eco-friendly purchase"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium bg-eco-green-50 text-eco-green-700 border border-eco-green-200",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v5a2 2 0 002 2h2a2 2 0 002-2v-5"})}),(0,Ys.jsxs)("span",{children:[t.length," Items"]})]}),(0,Ys.jsxs)("button",{onClick:()=>e("/cart"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Cart"]})]})]})})}),(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Ys.jsx)("div",{className:"flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(b>=1?"bg-eco-green-500 text-white":"bg-gray-300 text-gray-500"),children:b>1?(0,Ys.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,Ys.jsx)("span",{className:"font-semibold",children:"1"})}),(0,Ys.jsx)("span",{className:"ml-3 font-medium ".concat(b>=1?"text-eco-green-600":"text-gray-500"),children:"Shipping Info"})]}),(0,Ys.jsx)("div",{className:"w-16 h-1 ".concat(b>=2?"bg-eco-green-500":"bg-gray-300")}),(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(b>=2?"bg-eco-green-500 text-white":"bg-gray-300 text-gray-500"),children:b>2?(0,Ys.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,Ys.jsx)("span",{className:"font-semibold",children:"2"})}),(0,Ys.jsx)("span",{className:"ml-3 font-medium ".concat(b>=2?"text-eco-green-600":"text-gray-500"),children:"Review & Payment"})]}),(0,Ys.jsx)("div",{className:"w-16 h-1 ".concat(b>=3?"bg-eco-green-500":"bg-gray-300")}),(0,Ys.jsxs)("div",{className:"flex items-center",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(b>=3?"bg-eco-green-500 text-white":"bg-gray-300 text-gray-500"),children:(0,Ys.jsx)("span",{className:"font-semibold",children:"3"})}),(0,Ys.jsx)("span",{className:"ml-3 font-medium ".concat(b>=3?"text-eco-green-600":"text-gray-500"),children:"Confirmation"})]})]})})})}),y&&(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:(0,Ys.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("p",{className:"text-red-800 font-medium text-sm",children:y})]})})}),(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Ys.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ys.jsxs)("div",{className:"lg:col-span-2",children:[1===b&&(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Shipping Information"})}),(0,Ys.jsxs)("form",{onSubmit:T,className:"p-6 space-y-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,Ys.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:l.fullName,onChange:E,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),(0,Ys.jsx)("textarea",{id:"address",name:"address",value:l.address,onChange:E,required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,Ys.jsx)("input",{type:"text",id:"city",name:"city",value:l.city,onChange:E,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,Ys.jsx)("input",{type:"text",id:"state",name:"state",value:l.state,onChange:E,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent"})]})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),(0,Ys.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:l.zipCode,onChange:E,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,Ys.jsxs)("select",{id:"country",name:"country",value:l.country,onChange:E,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent",children:[(0,Ys.jsx)("option",{value:"India",children:"India"}),(0,Ys.jsx)("option",{value:"USA",children:"USA"}),(0,Ys.jsx)("option",{value:"UK",children:"UK"}),(0,Ys.jsx)("option",{value:"Canada",children:"Canada"}),(0,Ys.jsx)("option",{value:"Australia",children:"Australia"})]})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),(0,Ys.jsx)("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:E,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,Ys.jsxs)("button",{type:"button",className:"flex items-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg transition-all",onClick:()=>e("/cart"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Cart"]}),(0,Ys.jsxs)("button",{type:"submit",className:"flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all",children:["Continue to Review",(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),2===b&&(0,Ys.jsxs)("div",{className:"space-y-8",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Items"})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Ys.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-white rounded-lg overflow-hidden shadow-sm",children:(0,Ys.jsx)("img",{src:e.product.imageUrl||"/uploads/default-product.svg",alt:e.product.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="/uploads/default-product.svg"}})}),(0,Ys.jsxs)("div",{className:"flex-1",children:[(0,Ys.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:e.product.name}),(0,Ys.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-1",children:e.product.description}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsxs)("div",{className:"text-sm",children:[(0,Ys.jsxs)("span",{className:"text-eco-green-600",children:["\u20b9",Math.round(100*e.product.price)/100]}),(0,Ys.jsx)("span",{className:"text-gray-400 mx-1",children:"+"}),(0,Ys.jsxs)("span",{className:"text-eco-green-600",children:[Math.round(e.product.tokenPrice)," tokens"]})]}),(0,Ys.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Qty: ",e.quantity]})]})]})]},e.product.id))})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Shipping Address"})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ys.jsx)("div",{className:"font-semibold text-gray-900 mb-1",children:l.fullName}),(0,Ys.jsxs)("div",{className:"text-gray-600 space-y-1",children:[(0,Ys.jsx)("div",{children:l.address}),(0,Ys.jsxs)("div",{children:[l.city,", ",l.state," ",l.zipCode]}),(0,Ys.jsx)("div",{children:l.country}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,Ys.jsx)("span",{children:l.phone})]})]})]})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Method"})}),(0,Ys.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ys.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ys.jsx)("input",{type:"radio",name:"paymentMethod",value:"money",checked:"money"===d,onChange:()=>u("money"),className:"mt-1 text-eco-green-600 focus:ring-eco-green-500"}),(0,Ys.jsxs)("div",{className:"flex-1",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v2a2 2 0 002 2z"})}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:"Pay with Money"})]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-600",children:["Total: \u20b9",Math.round(100*r)/100]})]})]}),(0,Ys.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors ".concat(o<Math.round(s)?"opacity-50 cursor-not-allowed":""),children:[(0,Ys.jsx)("input",{type:"radio",name:"paymentMethod",value:"tokens",checked:"tokens"===d,onChange:()=>u("tokens"),disabled:o<Math.round(s),className:"mt-1 text-eco-green-600 focus:ring-eco-green-500"}),(0,Ys.jsxs)("div",{className:"flex-1",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:"Pay with EcoTokens"})]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-600",children:["Total: ",Math.round(s)," tokens (You have: ",o,")"]}),o<Math.round(s)&&(0,Ys.jsx)("div",{className:"text-xs text-red-500 mt-1",children:"Insufficient tokens"})]})]}),(0,Ys.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ys.jsx)("input",{type:"radio",name:"paymentMethod",value:"mixed",checked:"mixed"===d,onChange:()=>u("mixed"),className:"mt-1 text-eco-green-600 focus:ring-eco-green-500"}),(0,Ys.jsxs)("div",{className:"flex-1",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:"Mix Payment (Tokens + Money)"})]}),(0,Ys.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"Use both tokens and money"}),"mixed"===d&&(0,Ys.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ys.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tokens to use: ",m," (Value: \u20b9",w.toFixed(2),")"]}),(0,Ys.jsx)("input",{type:"range",min:"0",max:Math.min(o,s),value:m,onChange:e=>h(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,Ys.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,Ys.jsx)("span",{children:"0 tokens"}),(0,Ys.jsxs)("span",{children:[Math.min(o,s)," tokens max"]})]}),(0,Ys.jsx)("div",{className:"mt-3 p-3 bg-white rounded border",children:(0,Ys.jsxs)("div",{className:"text-sm space-y-1",children:[(0,Ys.jsxs)("div",{className:"flex justify-between",children:[(0,Ys.jsx)("span",{children:"Tokens:"}),(0,Ys.jsxs)("span",{className:"text-eco-green-600",children:[m," tokens (\u20b9",w.toFixed(2),")"]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between",children:[(0,Ys.jsx)("span",{children:"Money:"}),(0,Ys.jsxs)("span",{className:"text-eco-green-600",children:["\u20b9",N.toFixed(2)]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between font-semibold border-t pt-1 mt-2",children:[(0,Ys.jsx)("span",{children:"Total Value:"}),(0,Ys.jsxs)("span",{children:["\u20b9",(N+w).toFixed(2)]})]})]})})]})]})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Notes (Optional)"})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsx)("textarea",{value:x,onChange:e=>p(e.target.value),rows:3,placeholder:"Any special instructions for your order?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green-500 focus:border-transparent"})})]}),(0,Ys.jsxs)("div",{className:"flex justify-between",children:[(0,Ys.jsxs)("button",{type:"button",className:"flex items-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg transition-all",onClick:()=>{b>1&&(j(b-1),v(null))},children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Shipping"]}),(0,Ys.jsx)("button",{type:"button",className:"flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all ".concat(g?"opacity-50 cursor-not-allowed":""),onClick:T,disabled:g,children:g?(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Place Order"]})})]})]})]}),(0,Ys.jsx)("div",{className:"lg:col-span-1",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden sticky top-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Summary"})}),(0,Ys.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ys.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,Ys.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ys.jsxs)("span",{className:"text-gray-600",children:[e.product.name," \xd7 ",e.quantity]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsxs)("div",{className:"text-eco-green-600 font-medium",children:["\u20b9",Math.round(e.product.price*e.quantity*100)/100]}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:[Math.round(e.product.tokenPrice*e.quantity)," tokens"]})]})]},e.product.id))}),(0,Ys.jsxs)("div",{className:"border-t pt-4 space-y-3",children:[(0,Ys.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,Ys.jsxs)("span",{className:"font-medium",children:["\u20b9",Math.round(100*r)/100]})]}),"money"!==d&&(0,Ys.jsxs)("div",{className:"flex justify-between text-sm text-eco-green-600",children:[(0,Ys.jsx)("span",{children:"EcoTokens Used"}),(0,Ys.jsxs)("span",{className:"font-medium",children:["tokens"===d?Math.round(s):m," tokens"," (-\u20b9".concat((2*("tokens"===d?Math.round(s):m)).toFixed(2),")")]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Taxes (18% GST)"}),(0,Ys.jsxs)("span",{className:"font-medium",children:["\u20b9",S.toFixed(2)]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,Ys.jsx)("span",{className:"font-medium",children:0===C?"Free":"\u20b9".concat(C.toFixed(2))})]}),(0,Ys.jsxs)("div",{className:"border-t pt-3",children:[(0,Ys.jsxs)("div",{className:"flex justify-between",children:[(0,Ys.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),(0,Ys.jsxs)("span",{className:"text-xl font-bold text-eco-green-600",children:["\u20b9",P.toFixed(2)]})]}),"money"!==d&&(0,Ys.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-right",children:"tokens"===d?"Paid with ".concat(Math.round(s)," tokens"):"".concat(m," tokens + \u20b9").concat(P.toFixed(2))})]})]}),(0,Ys.jsxs)("div",{className:"bg-eco-green-50 p-4 rounded-lg border border-eco-green-200",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Ys.jsx)("span",{className:"text-sm font-medium text-eco-green-800",children:"Your EcoTokens"})]}),(0,Ys.jsxs)("div",{className:"text-lg font-bold text-eco-green-600",children:[o," tokens available"]})]})]})]})})]})})]})},fh=()=>{const{cart:e,removeFromCart:t,updateQuantity:r,clearCart:s,cartTotal:n,tokenTotal:i}=Zs(),{totalEcoTokens:o}=mn(),l=te(),[c,d]=(0,a.useState)(!1),u=(e,t)=>{const s=parseInt(t.toString());!isNaN(s)&&s>=0&&r(e,s)},m=Math.round(100*n)/100,h=Math.round(i);return 0===e.length?(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Shopping Cart"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Review your eco-friendly selections"})]})})})}),(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ys.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v5a2 2 0 002 2h2a2 2 0 002-2v-5"})})}),(0,Ys.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),(0,Ys.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Discover amazing eco-friendly products and pay with money or EcoTokens!"}),(0,Ys.jsxs)("button",{className:"inline-flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-8 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",onClick:()=>l("/marketplace"),children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Browse Products"]})]})})]}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Shopping Cart"}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500",children:[e.length," item",1!==e.length?"s":""," in your cart"]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium bg-eco-green-50 text-eco-green-700 border border-eco-green-200",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v5a2 2 0 002 2h2a2 2 0 002-2v-5"})}),(0,Ys.jsxs)("span",{children:[e.length," Items"]})]}),e.length>0&&(0,Ys.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to clear all items from your cart?")){d(!0);try{s()}finally{d(!1)}}},disabled:c,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(c?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white shadow-sm hover:shadow-md"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),c?"Clearing...":"Clear All"]})]})]})})}),(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Ys.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ys.jsx)("div",{className:"lg:col-span-2",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Cart Items"})}),(0,Ys.jsx)("div",{className:"divide-y divide-gray-200",children:e.map(e=>(0,Ys.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,Ys.jsxs)("div",{className:"flex gap-6",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-100 rounded-lg overflow-hidden",children:(0,Ys.jsx)("img",{src:e.product.imageUrl||"/uploads/default-product.svg",alt:e.product.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="/uploads/default-product.svg"}})}),(0,Ys.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.product.name}),(0,Ys.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.product.description})]}),(0,Ys.jsx)("button",{className:"text-red-500 hover:text-red-700 p-2 -m-2 transition-colors",onClick:()=>t(e.product.id),title:"Remove from cart",children:(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("div",{className:"text-lg font-bold text-eco-green-600",children:["\u20b9",e.product.price]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:[(0,Ys.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),e.product.tokenPrice," tokens"]}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"or mix both"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg",children:[(0,Ys.jsx)("button",{className:"w-10 h-10 flex items-center justify-center hover:bg-gray-200 rounded-l-lg transition-colors",onClick:()=>u(e.product.id,e.quantity-1),children:(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,Ys.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:t=>u(e.product.id,parseInt(t.target.value)||1),className:"w-16 h-10 text-center bg-transparent border-0 focus:outline-none"}),(0,Ys.jsx)("button",{className:"w-10 h-10 flex items-center justify-center hover:bg-gray-200 rounded-r-lg transition-colors",onClick:()=>u(e.product.id,e.quantity+1),children:(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsxs)("div",{className:"text-lg font-bold text-eco-green-600",children:["\u20b9",Math.round(e.product.price*e.quantity*100)/100]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-600",children:[Math.round(e.product.tokenPrice*e.quantity)," tokens"]})]})]})]})]})]})},e.product.id))})]})}),(0,Ys.jsx)("div",{className:"lg:col-span-1",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden sticky top-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Summary"})}),(0,Ys.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Money Total"}),(0,Ys.jsxs)("span",{className:"text-xl font-bold text-eco-green-600",children:["\u20b9",m]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Token Total"}),(0,Ys.jsxs)("span",{className:"text-xl font-bold text-eco-green-600",children:[h," tokens"]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Ys.jsx)("span",{className:"text-gray-500",children:"Items in Cart"}),(0,Ys.jsxs)("span",{className:"font-medium",children:[e.length," ",1===e.length?"item":"items"]})]})]}),(0,Ys.jsxs)("div",{className:"bg-eco-green-50 p-4 rounded-lg border border-eco-green-200",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Ys.jsx)("span",{className:"font-medium text-eco-green-800",children:"Your EcoTokens"})]}),(0,Ys.jsxs)("div",{className:"text-2xl font-bold text-eco-green-600 mb-1",children:[o," tokens"]}),(0,Ys.jsx)("div",{className:"text-sm font-medium ".concat(o>=h?"text-eco-green-700":"text-amber-600"),children:o>=h?"\u2713 You have enough tokens!":"Need ".concat(h-o," more tokens")})]}),(0,Ys.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ys.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Payment Options"}),(0,Ys.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("div",{className:"w-2 h-2 bg-eco-green-500 rounded-full"}),(0,Ys.jsxs)("span",{children:["Pay with money (\u20b9",m,")"]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("div",{className:"w-2 h-2 bg-eco-green-500 rounded-full"}),(0,Ys.jsxs)("span",{children:["Pay with tokens (",h," tokens)"]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("div",{className:"w-2 h-2 bg-eco-green-500 rounded-full"}),(0,Ys.jsx)("span",{children:"Mix both payment methods"})]})]})]}),(0,Ys.jsxs)("div",{className:"space-y-3",children:[(0,Ys.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-4 rounded-lg transition-all shadow-sm hover:shadow-md",onClick:()=>l("/checkout"),children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v2a2 2 0 002 2z"})}),"Proceed to Checkout"]}),(0,Ys.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-4 rounded-lg transition-all shadow-sm hover:shadow-md",onClick:()=>l("/marketplace"),children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Continue Shopping"]})]})]})]})})]})})]})},yh=()=>{var e,t,r,s,n,i,o,l,c;const{orderId:d}=re(),u=te(),[m,h]=(0,a.useState)(null),[x,p]=(0,a.useState)(!0),[g,f]=(0,a.useState)(null);return(0,a.useEffect)(()=>{d&&(async()=>{try{p(!0);const e=await Os(d||"");if(!e.data.success)throw new Error(e.data.message||"Failed to fetch order");h(e.data.data)}catch(e){console.error("Error fetching order:",e),f("Failed to load order details. Please try again.")}finally{p(!1)}})()},[d]),x?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading order details..."})]})}):g?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Order"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:g}),(0,Ys.jsx)("button",{onClick:()=>u("/dashboard"),className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Back to Dashboard"})]})})}):m?(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Confirmation"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Thank you for your eco-friendly purchase!"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium ".concat("completed"===m.status?"bg-eco-green-50 text-eco-green-700 border border-eco-green-200":"processing"===m.status?"bg-blue-50 text-blue-700 border border-blue-200":"shipped"===m.status?"bg-purple-50 text-purple-700 border border-purple-200":"bg-amber-50 text-amber-700 border border-amber-200"),children:(0,Ys.jsx)("span",{className:"capitalize",children:m.status})}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(null===(e=m.shipping)||void 0===e?void 0:e.trackingNumber)&&(0,Ys.jsxs)("button",{className:"flex items-center gap-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-3 rounded-lg transition-all text-sm",onClick:()=>{var e;return u("/order-tracking/".concat((null===(e=m.shipping)||void 0===e?void 0:e.trackingNumber)||m._id))},children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),"Track"]}),(0,Ys.jsxs)("button",{onClick:()=>u("/dashboard"),className:"flex items-center gap-1 px-3 py-2 rounded-lg font-medium text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Dashboard"]})]})]})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ys.jsxs)("div",{className:"text-center mb-12",children:[(0,Ys.jsx)("div",{className:"w-20 h-20 bg-eco-green-500 text-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,Ys.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Ys.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Order Confirmed!"}),(0,Ys.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Thank you for your purchase. Your order has been received and is being processed. You'll receive updates via email as your order progresses."})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Details"})}),(0,Ys.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Order Number"}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:m.orderId})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Order Date"}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:new Date(m.createdAt).toLocaleDateString()})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Status"}),(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("completed"===m.status?"bg-eco-green-100 text-eco-green-800":"processing"===m.status?"bg-blue-100 text-blue-800":"shipped"===m.status?"bg-purple-100 text-purple-800":"bg-amber-100 text-amber-800"),children:m.status})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Payment Method"}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:"token"===m.payment.method?"EcoTokens":"cash"===m.payment.method?"Cash on Delivery":"Card Payment"})]}),(null===(t=m.shipping)||void 0===t?void 0:t.trackingNumber)&&(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Tracking Number"}),(0,Ys.jsx)("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:m.shipping.trackingNumber})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Shipping Information"})}),(0,Ys.jsxs)("div",{className:"p-6",children:[(0,Ys.jsxs)("div",{className:"mb-6",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 mb-2",children:(null===(r=m.shipping.address)||void 0===r?void 0:r.name)||"N/A"}),(0,Ys.jsxs)("div",{className:"text-gray-600 space-y-1",children:[(0,Ys.jsx)("div",{children:(null===(s=m.shipping.address)||void 0===s?void 0:s.street)||"N/A"}),(0,Ys.jsxs)("div",{children:[(null===(n=m.shipping.address)||void 0===n?void 0:n.city)||"N/A",", ",(null===(i=m.shipping.address)||void 0===i?void 0:i.state)||"N/A"," ",(null===(o=m.shipping.address)||void 0===o?void 0:o.zipCode)||"N/A"]}),(0,Ys.jsx)("div",{children:(null===(l=m.shipping.address)||void 0===l?void 0:l.country)||"N/A"}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,Ys.jsx)("span",{children:(null===(c=m.shipping.address)||void 0===c?void 0:c.phone)||"N/A"})]})]})]}),(0,Ys.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-2 text-eco-green-600",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ys.jsxs)("span",{className:"font-medium",children:["Estimated Delivery: ",m.shipping.estimatedDelivery?new Date(m.shipping.estimatedDelivery).toLocaleDateString():"3-5 business days"]})]})})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden mb-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Items in Your Order"})}),(0,Ys.jsx)("div",{className:"p-6",children:m.orderItems&&m.orderItems.length>0?(0,Ys.jsx)("div",{className:"space-y-6",children:m.orderItems.map((e,t)=>{var r,s,n,a,i,o,l,c,d;return(0,Ys.jsxs)("div",{className:"flex gap-6 p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 w-20 h-20 bg-white rounded-lg overflow-hidden shadow-sm",children:(0,Ys.jsx)("img",{src:(null===(r=e.productId)||void 0===r||null===(s=r.productInfo)||void 0===s||null===(n=s.images)||void 0===n?void 0:n[0])||"/uploads/default-product.svg",alt:(null===(a=e.productId)||void 0===a||null===(i=a.productInfo)||void 0===i?void 0:i.name)||"Product",className:"w-full h-full object-cover",onError:e=>{e.target.src="/uploads/default-product.svg"}})}),(0,Ys.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(null===(o=e.productId)||void 0===o||null===(l=o.productInfo)||void 0===l?void 0:l.name)||"Unknown Product"}),(0,Ys.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:(null===(c=e.productId)||void 0===c||null===(d=c.productInfo)||void 0===d?void 0:d.description)||"No description available"}),(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Ys.jsx)("span",{className:"font-medium",children:"Quantity:"})," ",e.quantity]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["\u20b9",Math.round(100*(e.totalPrice||0))/100]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-600",children:["\u20b9",Math.round(100*(e.unitPrice||0))/100," each"]}),e.ecoTokensUsed&&e.ecoTokensUsed>0&&(0,Ys.jsxs)("div",{className:"text-xs text-eco-green-600 font-medium mt-1",children:["+ ",Math.round(e.ecoTokensUsed)," tokens used"]})]})]})]})]},t)})}):(0,Ys.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items found in this order."})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden mb-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Summary"})}),(0,Ys.jsxs)("div",{className:"p-6",children:[(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,Ys.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",Math.round(100*(m.billing.subtotal||0))/100]})]}),m.billing.ecoTokensApplied>0&&(0,Ys.jsxs)("div",{className:"flex justify-between items-center text-eco-green-600",children:[(0,Ys.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"EcoTokens Discount"]}),(0,Ys.jsxs)("span",{className:"font-medium",children:[Math.round(m.billing.ecoTokensApplied||0)," tokens (-\u20b9",Math.round(100*(m.billing.ecoTokenValue||0))/100,")"]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Taxes (18% GST)"}),(0,Ys.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",Math.round(100*(m.billing.taxes||0))/100]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,Ys.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",Math.round(100*(m.billing.shippingCharges||0))/100]})]}),m.billing.discount>0&&(0,Ys.jsxs)("div",{className:"flex justify-between items-center text-eco-green-600",children:[(0,Ys.jsx)("span",{children:"Discount"}),(0,Ys.jsxs)("span",{className:"font-medium",children:["-\u20b9",Math.round(100*(m.billing.discount||0))/100]})]}),(0,Ys.jsx)("div",{className:"border-t border-gray-200 pt-4",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total Paid"}),(0,Ys.jsxs)("span",{className:"text-xl font-bold text-eco-green-600",children:["\u20b9",Math.round(100*(m.billing.finalAmount||0))/100]})]})})]}),m.billing.ecoTokensApplied>0&&(0,Ys.jsx)("div",{className:"mt-6 p-4 bg-eco-green-50 rounded-lg border border-eco-green-200",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-eco-green-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("div",{className:"font-semibold text-eco-green-800",children:"EcoToken Savings!"}),(0,Ys.jsxs)("div",{className:"text-sm text-eco-green-700",children:["You saved \u20b9",Math.round(100*(m.billing.ecoTokenValue||0))/100," by using ",Math.round(m.billing.ecoTokensApplied||0)," EcoTokens"]})]})]})})]})]}),(0,Ys.jsx)("div",{className:"text-center",children:(0,Ys.jsxs)("button",{className:"inline-flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-8 rounded-lg transition-all shadow-lg hover:shadow-xl transform hover:scale-105",onClick:()=>u("/marketplace"),children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Continue Shopping"]})})]})]}):(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Order Not Found"}),(0,Ys.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"We couldn't find the order you're looking for."}),(0,Ys.jsx)("button",{onClick:()=>u("/dashboard"),className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Back to Dashboard"})]})})})},vh=()=>{var e,t,r,s,n,i,o,l;const{trackingNumber:c}=re(),d=te(),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null),f=(0,a.useCallback)(e=>{"sync"===e.type&&"order"===e.entityType&&"update"===e.changeType&&u&&e.changes.forEach(e=>{e._id===u._id&&m(Jt(Jt({},u),{},{status:e.status,timeline:e.timeline?Jt(Jt({},u.timeline),e.timeline):u.timeline}))})},[u]);(0,a.useEffect)(()=>(c&&(async()=>{try{if(x(!0),c)try{const e=await zs(c);if(e.data.success)return void m(e.data.data)}catch(e){const t=await Is();if(t.data.success){const e=t.data.data.find(e=>{var t;return(null===(t=e.shipping)||void 0===t?void 0:t.trackingNumber)===c||e._id===c});if(e)return void m(e)}try{const e=await Os(c);if(e.data.success)return void m(e.data.data)}catch(e){}}throw new Error("Order not found")}catch(e){console.error("Error fetching order:",e),g("Failed to load order details. Please try again.")}finally{x(!1)}})(),on.subscribe(["order"]),on.on("sync",f),()=>{on.off("sync",f)}),[c,f]);if(h)return(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading order tracking..."})]})});if(p)return(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tracking Error"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:p}),(0,Ys.jsx)("button",{onClick:()=>d("/dashboard"),className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Back to Dashboard"})]})})});if(!u)return(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Order Not Found"}),(0,Ys.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"We couldn't find the order you're tracking."}),(0,Ys.jsx)("button",{onClick:()=>d("/dashboard"),className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Back to Dashboard"})]})})});const y=(()=>{const e=[{id:"placed",label:"Order Placed",completed:!1},{id:"confirmed",label:"Confirmed",completed:!1},{id:"processing",label:"Processing",completed:!1},{id:"shipped",label:"Shipped",completed:!1},{id:"delivered",label:"Delivered",completed:!1}],t=(null===u||void 0===u?void 0:u.status.toLowerCase())||"",r=e.findIndex(e=>e.id===t);if(r>=0)for(let s=0;s<=r;s++)e[s].completed=!0;return e})();return(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Tracking"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Track your eco-friendly purchase journey"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-200",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Ys.jsxs)("span",{children:["#",(null===(e=u.shipping)||void 0===e?void 0:e.trackingNumber)||u.orderId]})]}),(0,Ys.jsxs)("button",{onClick:()=>d("/dashboard"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Dashboard"]})]})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden mb-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Progress"})}),(0,Ys.jsx)("div",{className:"p-8",children:(0,Ys.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-center relative",children:y.map((e,t)=>(0,Ys.jsxs)("div",{className:"flex flex-col items-center relative z-10 mb-8 md:mb-0",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl mb-3 transition-all duration-300 ".concat(e.completed?"bg-eco-green-500 text-white shadow-lg":"bg-gray-200 text-gray-400"),children:e.completed?(0,Ys.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,Ys.jsx)("span",{className:"text-sm font-bold",children:t+1})}),(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"font-medium ".concat(e.completed?"text-eco-green-600":"text-gray-500"),children:e.label}),e.completed&&(0,Ys.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"\u2713 Completed"})]}),t<y.length-1&&(0,Ys.jsx)("div",{className:"absolute top-8 left-16 w-full h-1 hidden md:block transition-all duration-300 ".concat(e.completed?"bg-eco-green-500":"bg-gray-300"),style:{width:"calc(100vw / 5)"}})]},e.id))})})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Information"})}),(0,Ys.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Order Number"}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:u.orderId})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Order Date"}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:new Date(u.createdAt).toLocaleDateString()})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Current Status"}),(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("delivered"===u.status?"bg-eco-green-100 text-eco-green-800":"shipped"===u.status?"bg-purple-100 text-purple-800":"processing"===u.status?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800"),children:u.status})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Payment Method"}),(0,Ys.jsx)("span",{className:"font-medium text-gray-900",children:"token"===u.payment.method?"EcoTokens":"cash"===u.payment.method?"Cash on Delivery":"Card Payment"})]}),u.shipping.estimatedDelivery&&(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Estimated Delivery"}),(0,Ys.jsx)("span",{className:"font-medium text-eco-green-600",children:new Date(u.shipping.estimatedDelivery).toLocaleDateString()})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Shipping Address"})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsxs)("div",{className:"space-y-2",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900",children:(null===(t=u.shipping.address)||void 0===t?void 0:t.name)||"N/A"}),(0,Ys.jsx)("div",{className:"text-gray-600",children:(null===(r=u.shipping.address)||void 0===r?void 0:r.street)||"N/A"}),(0,Ys.jsxs)("div",{className:"text-gray-600",children:[(null===(s=u.shipping.address)||void 0===s?void 0:s.city)||"N/A",", ",(null===(n=u.shipping.address)||void 0===n?void 0:n.state)||"N/A"," ",(null===(i=u.shipping.address)||void 0===i?void 0:i.zipCode)||"N/A"]}),(0,Ys.jsx)("div",{className:"text-gray-600",children:(null===(o=u.shipping.address)||void 0===o?void 0:o.country)||"N/A"}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mt-3",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,Ys.jsx)("span",{children:(null===(l=u.shipping.address)||void 0===l?void 0:l.phone)||"N/A"})]})]})})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden mb-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Items Being Tracked"})}),(0,Ys.jsx)("div",{className:"p-6",children:u.orderItems&&u.orderItems.length>0?(0,Ys.jsx)("div",{className:"space-y-6",children:u.orderItems.map((e,t)=>{var r,s,n,a,i,o,l,c,d;return(0,Ys.jsxs)("div",{className:"flex gap-6 p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,Ys.jsx)("div",{className:"flex-shrink-0 w-20 h-20 bg-white rounded-lg overflow-hidden shadow-sm",children:(0,Ys.jsx)("img",{src:(null===(r=e.productId)||void 0===r||null===(s=r.productInfo)||void 0===s||null===(n=s.images)||void 0===n?void 0:n[0])||"/uploads/default-product.svg",alt:(null===(a=e.productId)||void 0===a||null===(i=a.productInfo)||void 0===i?void 0:i.name)||"Product",className:"w-full h-full object-cover",onError:e=>{e.target.src="/uploads/default-product.svg"}})}),(0,Ys.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(null===(o=e.productId)||void 0===o||null===(l=o.productInfo)||void 0===l?void 0:l.name)||"Unknown Product"}),(0,Ys.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:(null===(c=e.productId)||void 0===c||null===(d=c.productInfo)||void 0===d?void 0:d.description)||"No description available"}),(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Ys.jsx)("span",{className:"font-medium",children:"Quantity:"})," ",e.quantity]}),(0,Ys.jsxs)("div",{className:"text-right",children:[(0,Ys.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["\u20b9",Math.round(100*(e.totalPrice||0))/100]}),(0,Ys.jsxs)("div",{className:"text-sm text-gray-600",children:["\u20b9",Math.round(100*(e.unitPrice||0))/100," each"]}),e.ecoTokensUsed&&e.ecoTokensUsed>0&&(0,Ys.jsxs)("div",{className:"text-xs text-eco-green-600 font-medium mt-1",children:["+ ",Math.round(e.ecoTokensUsed)," tokens used"]})]})]})]})]},t)})}):(0,Ys.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No items found in this order."})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden mb-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Order Summary"})}),(0,Ys.jsxs)("div",{className:"p-6",children:[(0,Ys.jsxs)("div",{className:"space-y-3",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,Ys.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",Math.round(100*(u.billing.subtotal||0))/100]})]}),u.billing.ecoTokensApplied>0&&(0,Ys.jsxs)("div",{className:"flex justify-between items-center text-eco-green-600",children:[(0,Ys.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"EcoTokens Discount"]}),(0,Ys.jsxs)("span",{className:"font-medium",children:[Math.round(u.billing.ecoTokensApplied||0)," tokens (-\u20b9",Math.round(100*(u.billing.ecoTokenValue||0))/100,")"]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Taxes (18% GST)"}),(0,Ys.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",Math.round(100*(u.billing.taxes||0))/100]})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,Ys.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",Math.round(100*(u.billing.shippingCharges||0))/100]})]}),u.billing.discount>0&&(0,Ys.jsxs)("div",{className:"flex justify-between items-center text-eco-green-600",children:[(0,Ys.jsx)("span",{children:"Discount"}),(0,Ys.jsxs)("span",{className:"font-medium",children:["-\u20b9",Math.round(100*(u.billing.discount||0))/100]})]}),(0,Ys.jsx)("div",{className:"border-t border-gray-200 pt-3",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Total Paid"}),(0,Ys.jsxs)("span",{className:"text-xl font-bold text-eco-green-600",children:["\u20b9",Math.round(100*(u.billing.finalAmount||0))/100]})]})})]}),u.billing.ecoTokensApplied>0&&(0,Ys.jsx)("div",{className:"mt-4 p-3 bg-eco-green-50 rounded-lg border border-eco-green-200",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Ys.jsxs)("div",{className:"text-sm text-eco-green-800",children:[(0,Ys.jsx)("span",{className:"font-semibold",children:"EcoToken Savings:"})," You saved \u20b9",Math.round(100*(u.billing.ecoTokenValue||0))/100," using ",Math.round(u.billing.ecoTokensApplied||0)," EcoTokens!"]})]})})]})]}),(0,Ys.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,Ys.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg transition-all shadow-sm hover:shadow-md",onClick:()=>d("/dashboard"),children:[(0,Ys.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h2a2 2 0 012 2v2H8V5z"})]}),"Back to Dashboard"]}),(0,Ys.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all shadow-sm hover:shadow-md",onClick:()=>window.print(),children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Tracking Info"]})]})]})]})},bh=()=>{var e,t,r;const{collectionId:s}=re(),{user:n}=Ks(),{collectionHistory:i,refreshCollections:o}=mn(),l=te(),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),[h,x]=(0,a.useState)(null),[p,g]=(0,a.useState)(""),[f,y]=(0,a.useState)(""),[v,b]=(0,a.useState)([]),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(()=>{const e=[],t=new Date;for(let r=1;r<=10;r++){const s=new Date(t);if(s.setDate(t.getDate()+r),0===s.getDay())continue;const n=s.toISOString().split("T")[0],a=[{id:"".concat(n,"-9"),time:"09:00 - 11:00",available:!0},{id:"".concat(n,"-11"),time:"11:00 - 13:00",available:!0},{id:"".concat(n,"-14"),time:"14:00 - 16:00",available:!0},{id:"".concat(n,"-16"),time:"16:00 - 18:00",available:!0}];if(e.push({date:n,slots:a}),e.length>=7)break}b(e)})()},[]),(0,a.useEffect)(()=>{if(i&&s){const e=i.find(e=>e._id===s);if(e)d(e),x(null);else{(async()=>{try{const e=await Ds(s);d(e.data),x(null)}catch(e){console.error("Error fetching collection:",e),x("Collection not found")}})()}m(!1)}},[i,s]);return u?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading pickup scheduling..."})]})}):h&&!c?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Collection Not Found"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:h}),(0,Ys.jsx)("button",{onClick:()=>l("/dashboard"),className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Back to Dashboard"})]})})}):N?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-eco-green-200",children:[(0,Ys.jsx)("div",{className:"w-20 h-20 bg-eco-green-500 text-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,Ys.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Ys.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pickup Scheduled!"}),(0,Ys.jsx)("p",{className:"text-lg text-gray-600 mb-2",children:"Your waste collection pickup has been successfully scheduled."}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Redirecting to dashboard..."}),(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-eco-green-600 mx-auto"})]})})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Schedule Pickup"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Schedule your waste collection pickup"})]}),(0,Ys.jsx)("div",{className:"flex items-center gap-4",children:(0,Ys.jsxs)("button",{onClick:()=>l("/dashboard"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]})})}),(0,Ys.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden mb-8",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Collection Details"})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Waste Type"}),(0,Ys.jsx)("span",{className:"text-sm font-semibold text-gray-900 capitalize",children:c.wasteType})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Weight"}),(0,Ys.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[c.weight," kg"]})]})]}),(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("scheduled"===c.status?"bg-eco-green-100 text-eco-green-800":"requested"===c.status?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"),children:c.status})]}),(0,Ys.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ys.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Submission Date"}),(0,Ys.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:new Date(c.submissionDate).toLocaleDateString()})]})]})]})})]}),h&&(0,Ys.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-8",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("p",{className:"text-red-800 font-medium text-sm",children:h})]})}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Schedule Your Pickup"})}),(0,Ys.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p&&f)if(c)try{var t,r;w(!0),x(null),await Rs(c._id,{status:"scheduled",notes:"Pickup scheduled for ".concat(p," at ").concat(null===(t=v.find(e=>e.date===p))||void 0===t||null===(r=t.slots.find(e=>e.id===f))||void 0===r?void 0:r.time)}),k(!0),await o(),setTimeout(()=>{l("/dashboard")},2e3)}catch(a){var s,n;console.error("Error scheduling pickup:",a),x((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to schedule pickup. Please try again.")}finally{w(!1)}else x("Collection not found");else x("Please select both a date and time slot")},className:"p-6 space-y-8",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-4",children:"Select Pickup Date"}),(0,Ys.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:v.map(e=>(0,Ys.jsx)("button",{type:"button",onClick:()=>{return t=e.date,g(t),void y("");var t},className:"p-4 rounded-lg border-2 transition-all hover:shadow-md ".concat(p===e.date?"border-eco-green-500 bg-eco-green-50 text-eco-green-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"),children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"font-semibold",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short"})}),(0,Ys.jsx)("div",{className:"text-sm",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})},e.date))})]}),p&&(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-4",children:"Select Time Slot"}),(0,Ys.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:null===(e=v.find(e=>e.date===p))||void 0===e?void 0:e.slots.map(e=>(0,Ys.jsx)("button",{type:"button",disabled:!e.available,onClick:()=>{return e.available&&(t=e.id,void y(t));var t},className:"p-4 rounded-lg border-2 transition-all ".concat(e.available?f===e.id?"border-eco-green-500 bg-eco-green-50 text-eco-green-700 shadow-md":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:shadow-sm":"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed"),children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ys.jsx)("span",{className:"font-medium",children:e.time})]}),!e.available&&(0,Ys.jsx)("span",{className:"text-xs text-red-500 font-medium",children:"Unavailable"}),f===e.id&&(0,Ys.jsx)("svg",{className:"w-5 h-5 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})},e.id))})]}),p&&f&&(0,Ys.jsxs)("div",{className:"bg-eco-green-50 p-4 rounded-lg border border-eco-green-200",children:[(0,Ys.jsx)("h4",{className:"font-semibold text-eco-green-800 mb-2",children:"Pickup Summary"}),(0,Ys.jsxs)("div",{className:"text-sm text-eco-green-700 space-y-1",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Ys.jsxs)("span",{children:["Date: ",new Date(p).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ys.jsxs)("span",{children:["Time: ",null===(t=v.find(e=>e.date===p))||void 0===t||null===(r=t.slots.find(e=>e.id===f))||void 0===r?void 0:r.time]})]})]})]}),(0,Ys.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-4 pt-6 border-t border-gray-200",children:[(0,Ys.jsxs)("button",{type:"button",onClick:()=>l("/dashboard"),className:"flex items-center justify-center gap-2 bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg transition-all shadow-sm hover:shadow-md",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),(0,Ys.jsx)("button",{type:"submit",disabled:!p||!f||j,className:"flex items-center justify-center gap-2 font-medium py-3 px-8 rounded-lg transition-all shadow-sm hover:shadow-md ".concat(p&&f&&!j?"bg-eco-green-600 hover:bg-eco-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:j?(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Scheduling..."]}):(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Schedule Pickup"]})})]})]})]})]})]})},jh=()=>{const{user:e}=Ks(),[t,r]=(0,a.useState)(""),[s,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(null),l=()=>{if(""===t.trim())return;const e={sender:"You",text:t,timestamp:new Date};n([...s,e]),r(""),setTimeout(()=>{const e={sender:"EcoChain Support",text:"Thank you for your message. Our support team will get back to you within 24 hours. In the meantime, you might find an answer in our FAQ section.",timestamp:new Date};n(t=>[...t,e])},1e3)};return(0,Ys.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px 16px"},children:[(0,Ys.jsx)("h1",{children:"Customer Help Center"}),(0,Ys.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:"24px"},children:[(0,Ys.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",height:"fit-content"},children:[(0,Ys.jsx)("h3",{children:"Support Categories"}),(0,Ys.jsx)("ul",{style:{listStyle:"none",padding:0},children:[{title:"Account Issues",count:12},{title:"Pickup Problems",count:8},{title:"Marketplace Questions",count:15},{title:"Token System",count:10},{title:"Technical Support",count:7}].map((e,t)=>(0,Ys.jsxs)("li",{style:{padding:"12px",borderBottom:"1px solid #eee",cursor:"pointer",borderRadius:"4px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,Ys.jsx)("div",{style:{fontWeight:"bold"},children:e.title}),(0,Ys.jsxs)("div",{style:{fontSize:"0.875rem",color:"#666"},children:[e.count," articles"]})]},t))})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",marginBottom:"24px"},children:[(0,Ys.jsx)("h3",{children:"Frequently Asked Questions"}),[{question:"How do I schedule a waste pickup?",answer:'You can schedule a waste pickup from your dashboard. Navigate to the "Schedule Pickup" section, select the waste type, quantity, and preferred pickup date.'},{question:"How are EcoTokens calculated?",answer:"EcoTokens are calculated based on the type and quantity of waste you recycle. Different materials have different token rates based on their environmental impact and recycling value."},{question:"Can I use EcoTokens for all marketplace purchases?",answer:"Yes, you can use EcoTokens for up to 30% of the purchase value on any product in our marketplace."},{question:"How do I track my environmental impact?",answer:"Your environmental impact is displayed on your dashboard. It shows metrics like CO2 saved, trees equivalent, and water saved based on your recycling activities."},{question:"What types of waste can I recycle through EcoChain?",answer:"EcoChain accepts plastic, paper, glass, metal, and electronics for recycling. Each category has specific guidelines for preparation before pickup."}].map((e,t)=>(0,Ys.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",marginBottom:"8px"},children:[(0,Ys.jsxs)("button",{onClick:()=>(e=>{o(i===e?null:e)})(t),style:{width:"100%",padding:"16px",backgroundColor:"transparent",border:"none",textAlign:"left",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:"bold"},children:[e.question,(0,Ys.jsx)("span",{style:{fontSize:"1.2rem"},children:i===t?"\u2212":"+"})]}),i===t&&(0,Ys.jsx)("div",{style:{padding:"16px",borderTop:"1px solid #ddd",backgroundColor:"#f9f9f9"},children:e.answer})]},t))]}),(0,Ys.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ys.jsx)("h3",{children:"Live Support Chat"}),(0,Ys.jsx)("div",{style:{height:"300px",overflowY:"auto",marginBottom:"16px",padding:"16px",backgroundColor:"#f5f5f5",borderRadius:"4px"},children:0===s.length?(0,Ys.jsx)("div",{style:{textAlign:"center",color:"#666",marginTop:"100px"},children:"Start a conversation with our support team"}):s.map((e,t)=>(0,Ys.jsx)("div",{style:{display:"flex",justifyContent:"You"===e.sender?"flex-end":"flex-start",marginBottom:"16px"},children:(0,Ys.jsxs)("div",{style:{padding:"12px",maxWidth:"70%",backgroundColor:"You"===e.sender?"#e3f2fd":"white",borderRadius:"8px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:[(0,Ys.jsx)("div",{style:{fontWeight:"bold",fontSize:"0.875rem"},children:e.sender}),(0,Ys.jsx)("div",{style:{margin:"4px 0"},children:e.text}),(0,Ys.jsx)("div",{style:{fontSize:"0.75rem",color:"#666"},children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},t))}),(0,Ys.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Ys.jsx)("input",{type:"text",style:{flex:1,padding:"12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"},placeholder:"Type your message here...",value:t,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&l()}),(0,Ys.jsx)("button",{onClick:l,style:{padding:"12px 24px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"Send"})]})]})]})]}),(0,Ys.jsxs)("div",{style:{marginTop:"32px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:[(0,Ys.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ys.jsx)("h4",{children:"Email Support"}),(0,Ys.jsx)("p",{children:"For detailed inquiries, email us at:"}),(0,Ys.jsx)("a",{href:"mailto:support@ecochain.com",style:{color:"#1976d2",textDecoration:"none"},children:"support@ecochain.com"})]}),(0,Ys.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ys.jsx)("h4",{children:"Phone Support"}),(0,Ys.jsx)("p",{children:"Call us during business hours:"}),(0,Ys.jsx)("strong",{children:"1-800-ECO-CHAIN"}),(0,Ys.jsx)("br",{}),(0,Ys.jsx)("small",{children:"Mon-Fri: 9AM-6PM EST"})]}),(0,Ys.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ys.jsx)("h4",{children:"Community Forum"}),(0,Ys.jsx)("p",{children:"Join our community discussions:"}),(0,Ys.jsx)("a",{href:"/forum",style:{color:"#1976d2",textDecoration:"none"},children:"Visit EcoChain Forum"})]})]})]})},wh=e=>{let{children:t}=e;return(0,Ys.jsx)(om.div,{initial:"initial",animate:"in",exit:"out",variants:{initial:{opacity:0,y:10},in:{opacity:1,y:0},out:{opacity:0,y:-10}},transition:{type:"tween",ease:"easeInOut",duration:.3},className:"w-full",children:t})},Nh=En("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),kh=En("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Sh=En("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ch=()=>{const{login:e,isLoading:t,isAuthenticated:r}=Ks(),s=te(),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(r){const e=nn();s("admin"===e?"/admin-dashboard":"factory"===e?"/factory-dashboard":"collector"===e?"/collector-dashboard":"/dashboard")}},[r,s]);return(0,Ys.jsx)(wh,{children:(0,Ys.jsxs)("div",{className:"min-h-screen grid md:grid-cols-2 bg-eco-beige",children:[(0,Ys.jsxs)("div",{className:"relative hidden md:block overflow-hidden",children:[(0,Ys.jsx)("div",{className:"absolute inset-0 [background-image:linear-gradient(#16a34a14_1px,transparent_1px),linear-gradient(90deg,#16a34a14_1px,transparent_1px)] [background-size:28px_28px]"}),(0,Ys.jsxs)(om.svg,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.6},viewBox:"0 0 600 600",className:"absolute -left-24 -top-24 w-[750px] h-[750px]",children:[(0,Ys.jsx)("defs",{children:(0,Ys.jsxs)("linearGradient",{id:"ecoGrad",x1:"0",x2:"1",children:[(0,Ys.jsx)("stop",{offset:"0%",stopColor:"#22c55e"}),(0,Ys.jsx)("stop",{offset:"100%",stopColor:"#16a34a"})]})}),(0,Ys.jsx)(om.path,{d:"M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z",fill:"url(#ecoGrad)",opacity:"0.16",animate:{d:["M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z","M410 130c70 40 115 119 95 179s-92 106-162 145-152 60-205 30-73-114-45-184 101-121 173-160 142-50 144-10z","M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z"]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),(0,Ys.jsx)("div",{className:"relative h-full flex items-center justify-center px-12",children:(0,Ys.jsxs)("div",{className:"max-w-md",children:[(0,Ys.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-eco-green-light/50 bg-eco-green-light/20 px-3 py-1 mb-4",children:[(0,Ys.jsx)(Wn,{className:"h-4 w-4 text-eco-green"}),(0,Ys.jsx)("span",{className:"text-eco-green-dark text-xs font-medium",children:"EcoChain"})]}),(0,Ys.jsx)("h2",{className:"text-4xl font-semibold tracking-tight text-eco-green-dark",children:"Welcome back"}),(0,Ys.jsx)("p",{className:"mt-3 text-eco-green",children:"Sign in to your account to continue your eco journey."}),(0,Ys.jsxs)(om.svg,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},viewBox:"0 0 500 160",className:"mt-8 w-full h-auto",children:[(0,Ys.jsx)("circle",{cx:"60",cy:"40",r:"12",fill:"#22c55e",opacity:"0.25"}),(0,Ys.jsx)("circle",{cx:"460",cy:"30",r:"10",fill:"#facc15",opacity:"0.45"}),(0,Ys.jsx)("circle",{cx:"420",cy:"120",r:"14",fill:"#16a34a",opacity:"0.25"}),[{x:110,y:90,r:24,c:"#22c55e"},{x:170,y:110,r:22,c:"#16a34a"},{x:230,y:95,r:24,c:"#facc15"},{x:290,y:110,r:22,c:"#22c55e"},{x:350,y:95,r:24,c:"#16a34a"}].map((e,t)=>(0,Ys.jsxs)("g",{children:[(0,Ys.jsx)("circle",{cx:e.x,cy:e.y,r:e.r,fill:e.c}),(0,Ys.jsx)("rect",{x:e.x-.55*e.r,y:e.y-.55*e.r,width:1.1*e.r,height:1.1*e.r,fill:"white",transform:"rotate(45 ".concat(e.x," ").concat(e.y,")")})]},t))]})]})})]}),(0,Ys.jsx)("div",{className:"flex items-center justify-center px-4 py-12",children:(0,Ys.jsx)(om.div,{initial:{y:16,opacity:0},animate:{y:0,opacity:1},transition:{duration:.45},className:"w-full max-w-md",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[(0,Ys.jsx)("div",{className:"flex justify-center mb-6",children:(0,Ys.jsx)("div",{className:"h-14 w-14 rounded-xl bg-eco-green-light/30 flex items-center justify-center ring-1 ring-eco-green-light/50",children:(0,Ys.jsx)(Nh,{className:"h-7 w-7 text-eco-green"})})}),(0,Ys.jsx)("h1",{className:"text-[28px] font-semibold text-center text-gray-900",children:"Welcome back"}),(0,Ys.jsx)("p",{className:"text-center text-gray-600 mt-1",children:"Sign in to your EcoChain account"}),(0,Ys.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(null);try{await e(n,o)}catch(t){var r,s,a,i,l,c;if(401===(null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.status))d("Invalid email or password. Please try again.");else if(403===(null===t||void 0===t||null===(s=t.response)||void 0===s?void 0:s.status))d("Your account is not authorized. Please contact support.");else if(429===(null===t||void 0===t||null===(a=t.response)||void 0===a?void 0:a.status))d("Too many login attempts. Please try again later.");else if(400===(null===t||void 0===t||null===(i=t.response)||void 0===i?void 0:i.status)){var u,m;const e=null===t||void 0===t||null===(u=t.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message;e?e.toLowerCase().includes("email")?d("Please enter a valid email address"):e.toLowerCase().includes("password")?d("Password must be at least 6 characters long"):d(e):d("Invalid login credentials. Please check your information.")}else null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&c.message?d(t.response.data.message):null!==t&&void 0!==t&&t.message?d(t.message):d("Login failed. Please check your connection and try again.")}},className:"space-y-5 mt-7",children:[c&&(0,Ys.jsx)(om.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},className:"bg-eco-red/10 border border-eco-red text-eco-red-dark px-4 py-3 rounded-lg",children:c}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)(qn,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"}),(0,Ys.jsx)("input",{placeholder:"Email",value:n,onChange:e=>i(e.target.value),required:!0,className:"w-full pl-10 pr-3 py-3.5 rounded-lg border border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-eco-green focus:border-eco-green outline-none transition"})]}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)(kh,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"}),(0,Ys.jsx)("input",{placeholder:"Password",type:u?"text":"password",value:o,onChange:e=>l(e.target.value),required:!0,className:"w-full pl-10 pr-10 py-3.5 rounded-lg border border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-eco-green focus:border-eco-green outline-none transition"}),(0,Ys.jsx)("button",{type:"button",onClick:()=>m(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?(0,Ys.jsx)(Sh,{className:"h-5 w-5"}):(0,Ys.jsx)(km,{className:"h-5 w-5"})})]}),(0,Ys.jsx)(om.button,{whileHover:{y:-1},whileTap:{scale:.98},type:"submit",disabled:t,className:"w-full py-3.5 rounded-lg text-white font-semibold bg-eco-green-dark hover:brightness-105 transition shadow-lg disabled:opacity-60",children:t?"Logging in...":"Login"}),(0,Ys.jsx)("div",{className:"text-center text-sm",children:(0,Ys.jsx)(wn,{to:"/signup",className:"text-eco-green hover:text-eco-green-dark underline-offset-4 hover:underline",children:"Don't have an account? Sign up"})})]}),(0,Ys.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-700 mb-3 font-medium",children:"Quick accounts"}),(0,Ys.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Admin",email:"admin@ecochain.com",pass:"Admin@123"},{label:"Factory",email:"factory@ecochain.com",pass:"Factory@123"},{label:"Collector",email:"collector@ecochain.com",pass:"Collector@123"},{label:"User",email:"user@ecochain.com",pass:"User@123"}].map(e=>(0,Ys.jsxs)(om.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{return t=e.email,r=e.pass,i(t),void l(r);var t,r},className:"text-xs bg-eco-green-light/10 hover:bg-eco-green-light/20 text-eco-green-dark py-2 px-3 rounded-lg border border-eco-green-light/30 flex items-center justify-center gap-1",children:[(0,Ys.jsx)(Wn,{className:"h-3 w-3 text-eco-green"}),e.label]},e.label))})]})]})})})]})})},Ph=En("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Eh=()=>{const{register:e,verifyOTP:t,resendOTP:r,isLoading:s}=Ks(),n=te(),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)("user"),[g,f]=(0,a.useState)(null),[y,v]=(0,a.useState)(""),[b,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[C,P]=(0,a.useState)(!1),[E,T]=(0,a.useState)({companyName:"",serviceArea:"",vehicleDetails:"",licenseNumber:"",contactPerson:{name:"",email:"",phone:""},businessDetails:{establishedYear:"",website:"",description:""}}),[L,M]=(0,a.useState)({factoryName:"",gstNumber:"",address:{street:"",city:"",state:"",zipCode:"",country:"India"},contactPerson:{name:"",email:"",phone:""},businessDetails:{establishedYear:"",website:"",description:""}}),A=e=>{const{name:t,value:r}=e.target;if(t.includes(".")){const[e,s]=t.split(".");T(t=>"contactPerson"===e?Jt(Jt({},t),{},{contactPerson:Jt(Jt({},t.contactPerson),{},{[s]:r})}):"businessDetails"===e?Jt(Jt({},t),{},{businessDetails:Jt(Jt({},t.businessDetails),{},{[s]:r})}):t)}else T(e=>Jt(Jt({},e),{},{[t]:r}))},D=e=>{const{name:t,value:r}=e.target;if(t.includes(".")){const[e,s]=t.split(".");M(t=>"contactPerson"===e?Jt(Jt({},t),{},{contactPerson:Jt(Jt({},t.contactPerson),{},{[s]:r})}):"businessDetails"===e?Jt(Jt({},t),{},{businessDetails:Jt(Jt({},t.businessDetails),{},{[s]:r})}):"address"===e?Jt(Jt({},t),{},{address:Jt(Jt({},t.address),{},{[s]:r})}):t)}else M(e=>Jt(Jt({},e),{},{[t]:r}))},R=async t=>{if(t.preventDefault(),f(null),!i.trim())return void f("Name is required");if(!l.trim())return void f("Email is required");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l))if(d)if(d.length<6)f("Password must be at least 6 characters long");else if(C||"user"===x){if(C&&("collector"===x||"factory"===x)){if("collector"===x){if(!E.companyName.trim())return void f("Company name is required for collectors");if(!E.serviceArea.trim())return void f("Service area is required for collectors");if(!E.vehicleDetails.trim())return void f("Vehicle details are required for collectors");if(!E.licenseNumber.trim())return void f("License number is required for collectors")}if("factory"===x){if(!L.factoryName.trim())return void f("Factory name is required for factories");if(!L.gstNumber.trim())return void f("GST number is required for factories");if(!L.address.street.trim())return void f("Street address is required for factories");if(!L.address.city.trim())return void f("City is required for factories");if(!L.address.state.trim())return void f("State is required for factories");if(!L.address.zipCode.trim())return void f("ZIP code is required for factories")}}try{const t="collector"===x?{collectorInfo:E}:"factory"===x?{factoryInfo:L}:{};(await e(i,l,d,void 0,x,t)).requiresEmailVerification?j(!0):window.location.href="/dashboard"}catch(t){var r,s,n,a;if(console.error("Signup error:",t),409===(null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.status))f("An account with this email already exists. Please try logging in instead.");else if(400===(null===t||void 0===t||null===(s=t.response)||void 0===s?void 0:s.status)){var o,c;const e=null===t||void 0===t||null===(o=t.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message;e?e.toLowerCase().includes("email")?f("Please enter a valid email address"):e.toLowerCase().includes("password")?f("Password must be at least 6 characters long"):e.toLowerCase().includes("name")?f("Please enter a valid name"):e.toLowerCase().includes("company")?f("Please enter a valid company name"):e.toLowerCase().includes("service")?f("Please enter a valid service area"):e.toLowerCase().includes("vehicle")?f("Please provide vehicle details"):e.toLowerCase().includes("license")?f("Please enter a valid license number"):e.toLowerCase().includes("gst")?f("Please enter a valid GST number"):e.toLowerCase().includes("address")?f("Please enter a valid address"):e.toLowerCase().includes("city")?f("Please enter a valid city"):e.toLowerCase().includes("state")?f("Please enter a valid state"):e.toLowerCase().includes("zip")?f("Please enter a valid ZIP code"):f(e):f("Please check your information and try again")}else if(422===(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)){var u,m;const e=null===t||void 0===t||null===(u=t.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.errors;if(e&&Array.isArray(e)&&e.length>0){const t=e[0];t.msg?f(t.msg):t.param?f("Invalid ".concat(t.param,": ").concat(t.msg||"Please check this field")):f("Please check your information and try again")}else f("Please check your information and try again")}else 500===(null===t||void 0===t||null===(a=t.response)||void 0===a?void 0:a.status)?f("Server error. Please try again later."):null!==t&&void 0!==t&&t.message?f(t.message):f("Signup failed. Please check your connection and try again.")}}else P(!0);else f("Password is required");else f("Please enter a valid email address")},F=async e=>{e.preventDefault(),f(null),N(!0);try{await t(l,y),"collector"===x||"factory"===x?setTimeout(()=>{n("/pending-approval")},1e3):setTimeout(()=>{n("/dashboard")},1e3)}catch(e){var r,s,a,i,o;400===(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status)?f("Invalid OTP code. Please check the code and try again."):404===(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.status)?f("Email not found. Please check your email address."):410===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?f("OTP has expired. Please request a new code."):null!==e&&void 0!==e&&null!==(i=e.response)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.message?f(e.response.data.message):null!==e&&void 0!==e&&e.message?f(e.message):f("OTP verification failed. Please try again.")}finally{N(!1)}},I=async()=>{f(null),S(!0);try{await r(l),f("OTP resent successfully. Please check your email.")}catch(Kh){var e,t,s,n;429===(null===Kh||void 0===Kh||null===(e=Kh.response)||void 0===e?void 0:e.status)?f("Too many requests. Please wait before requesting another code."):404===(null===Kh||void 0===Kh||null===(t=Kh.response)||void 0===t?void 0:t.status)?f("Email not found. Please check your email address."):null!==Kh&&void 0!==Kh&&null!==(s=Kh.response)&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.message?f(Kh.response.data.message):null!==Kh&&void 0!==Kh&&Kh.message?f(Kh.message):f("Failed to resend OTP. Please try again.")}finally{S(!1)}};return b?(0,Ys.jsx)(wh,{children:(0,Ys.jsxs)("div",{className:"min-h-screen grid md:grid-cols-2 bg-eco-beige",children:[(0,Ys.jsxs)("div",{className:"hidden md:block",children:[" ",(0,Ys.jsxs)("div",{className:"relative sticky top-0 h-screen overflow-hidden",children:[(0,Ys.jsx)("div",{className:"absolute inset-0 [background-image:linear-gradient(#16a34a14_1px,transparent_1px),linear-gradient(90deg,#16a34a14_1px,transparent_1px)] [background-size:28px_28px]"}),(0,Ys.jsxs)(om.svg,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.6},viewBox:"0 0 600 600",className:"absolute -left-24 -top-24 w-[750px] h-[750px] pointer-events-none",children:[(0,Ys.jsx)("defs",{children:(0,Ys.jsxs)("linearGradient",{id:"ecoGrad",x1:"0",x2:"1",children:[(0,Ys.jsx)("stop",{offset:"0%",stopColor:"#22c55e"}),(0,Ys.jsx)("stop",{offset:"100%",stopColor:"#16a34a"})]})}),(0,Ys.jsx)(om.path,{d:"M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z",fill:"url(#ecoGrad)",opacity:"0.16",animate:{d:["M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z","M410 130c70 40 115 119 95 179s-92 106-162 145-152 60-205 30-73-114-45-184 101-121 173-160 142-50 144-10z","M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z"]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),(0,Ys.jsx)("div",{className:"relative h-full flex items-center justify-center px-12",children:(0,Ys.jsxs)("div",{className:"max-w-md",children:[(0,Ys.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-eco-green-light/50 bg-eco-green-light/20 px-3 py-1 mb-4",children:[(0,Ys.jsx)(Wn,{className:"h-4 w-4 text-eco-green"}),(0,Ys.jsx)("span",{className:"text-eco-green-dark text-xs font-medium",children:"EcoChain"})]}),(0,Ys.jsx)("h2",{className:"text-4xl font-semibold tracking-tight text-eco-green-dark",children:"Secure your account"}),(0,Ys.jsx)("p",{className:"mt-3 text-eco-green",children:"Verify your email to complete registration and start your eco journey."}),(0,Ys.jsxs)(om.svg,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},viewBox:"0 0 500 160",className:"mt-8 w-full h-auto",children:[(0,Ys.jsx)("circle",{cx:"60",cy:"40",r:"12",fill:"#22c55e",opacity:"0.25"}),(0,Ys.jsx)("circle",{cx:"460",cy:"30",r:"10",fill:"#facc15",opacity:"0.45"}),(0,Ys.jsx)("circle",{cx:"420",cy:"120",r:"14",fill:"#16a34a",opacity:"0.25"}),[{x:110,y:90,r:24,c:"#22c55e"},{x:170,y:110,r:22,c:"#16a34a"},{x:230,y:95,r:24,c:"#facc15"},{x:290,y:110,r:22,c:"#22c55e"},{x:350,y:95,r:24,c:"#16a34a"}].map((e,t)=>(0,Ys.jsxs)("g",{children:[(0,Ys.jsx)("circle",{cx:e.x,cy:e.y,r:e.r,fill:e.c}),(0,Ys.jsx)("rect",{x:e.x-.55*e.r,y:e.y-.55*e.r,width:1.1*e.r,height:1.1*e.r,fill:"white",transform:"rotate(45 ".concat(e.x," ").concat(e.y,")")})]},t))]})]})})]})]}),(0,Ys.jsx)("div",{className:"flex items-center justify-center px-4 py-12",children:(0,Ys.jsx)(om.div,{initial:{y:16,opacity:0},animate:{y:0,opacity:1},transition:{duration:.45},className:"w-full max-w-md",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[(0,Ys.jsx)("div",{className:"flex justify-center mb-6",children:(0,Ys.jsx)("div",{className:"h-14 w-14 rounded-xl bg-eco-green-light/30 flex items-center justify-center ring-1 ring-eco-green-light/50",children:(0,Ys.jsx)(Ph,{className:"h-7 w-7 text-eco-green"})})}),(0,Ys.jsx)("h1",{className:"text-[28px] font-semibold text-center text-gray-900",children:"Verify Email"}),(0,Ys.jsx)("p",{className:"text-center text-gray-600 mt-1",children:"Enter the 6-digit code sent to your email"}),(0,Ys.jsxs)("form",{onSubmit:F,className:"space-y-5 mt-7",children:[g&&(0,Ys.jsx)(om.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},className:"bg-eco-red/10 border border-eco-red text-eco-red-dark px-4 py-3 rounded-lg",children:g}),(0,Ys.jsx)("div",{className:"relative",children:(0,Ys.jsx)("input",{placeholder:"Enter 6-digit code",value:y,onChange:e=>v(e.target.value.replace(/\D/g,"").slice(0,6)),required:!0,maxLength:6,className:"w-full px-4 py-3.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eco-green focus:border-eco-green outline-none transition bg-gray-50 text-center text-2xl tracking-widest"})}),(0,Ys.jsx)(om.button,{whileHover:{y:-1},whileTap:{scale:.98},type:"submit",disabled:w||6!==y.length,className:"w-full py-3.5 rounded-lg text-white font-semibold bg-eco-green-dark hover:brightness-105 transition shadow-lg disabled:opacity-60",children:w?"Verifying...":"Verify Email"}),(0,Ys.jsx)("div",{className:"text-center mt-4",children:(0,Ys.jsx)("button",{type:"button",onClick:I,disabled:k,className:"text-sm text-eco-green hover:text-eco-green-dark font-medium disabled:opacity-50",children:k?"Resending...":"Resend Code"})})]}),(0,Ys.jsx)("div",{className:"text-center mt-6 text-gray-600",children:(0,Ys.jsx)("button",{onClick:()=>j(!1),className:"text-eco-green hover:text-eco-green-dark transition",children:"\u2190 Back to Sign Up"})})]})})})]})}):(0,Ys.jsx)(wh,{children:(0,Ys.jsxs)("div",{className:"min-h-screen grid md:grid-cols-2 bg-eco-beige",children:[(0,Ys.jsxs)("div",{className:"hidden md:block",children:[" ",(0,Ys.jsxs)("div",{className:"relative sticky top-0 h-screen overflow-hidden",children:[(0,Ys.jsx)("div",{className:"absolute inset-0 [background-image:linear-gradient(#16a34a14_1px,transparent_1px),linear-gradient(90deg,#16a34a14_1px,transparent_1px)] [background-size:28px_28px]"}),(0,Ys.jsxs)(om.svg,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.6},viewBox:"0 0 600 600",className:"absolute -left-24 -top-24 w-[750px] h-[750px] pointer-events-none",children:[(0,Ys.jsx)("defs",{children:(0,Ys.jsxs)("linearGradient",{id:"ecoGrad",x1:"0",x2:"1",children:[(0,Ys.jsx)("stop",{offset:"0%",stopColor:"#22c55e"}),(0,Ys.jsx)("stop",{offset:"100%",stopColor:"#16a34a"})]})}),(0,Ys.jsx)(om.path,{d:"M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z",fill:"url(#ecoGrad)",opacity:"0.16",animate:{d:["M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z","M410 130c70 40 115 119 95 179s-92 106-162 145-152 60-205 30-73-114-45-184 101-121 173-160 142-50 144-10z","M423 115c54 32 96 101 86 165s-78 118-150 164-151 82-204 56-78-109-60-182 79-131 147-168 127-66 181-35z"]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),(0,Ys.jsx)("div",{className:"relative h-full flex items-center justify-center px-12",children:(0,Ys.jsxs)("div",{className:"max-w-md",children:[(0,Ys.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full border border-eco-green-light/50 bg-eco-green-light/20 px-3 py-1 mb-4",children:[(0,Ys.jsx)(Wn,{className:"h-4 w-4 text-eco-green"}),(0,Ys.jsx)("span",{className:"text-eco-green-dark text-xs font-medium",children:"EcoChain"})]}),(0,Ys.jsx)("h2",{className:"text-4xl font-semibold tracking-tight text-eco-green-dark",children:"Join our eco community"}),(0,Ys.jsx)("p",{className:"mt-3 text-eco-green",children:"Create an account to start your recycling journey and earn eco rewards."}),(0,Ys.jsxs)(om.svg,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},viewBox:"0 0 500 160",className:"mt-8 w-full h-auto",children:[(0,Ys.jsx)("circle",{cx:"60",cy:"40",r:"12",fill:"#22c55e",opacity:"0.25"}),(0,Ys.jsx)("circle",{cx:"460",cy:"30",r:"10",fill:"#facc15",opacity:"0.45"}),(0,Ys.jsx)("circle",{cx:"420",cy:"120",r:"14",fill:"#16a34a",opacity:"0.25"}),[{x:110,y:90,r:24,c:"#22c55e"},{x:170,y:110,r:22,c:"#16a34a"},{x:230,y:95,r:24,c:"#facc15"},{x:290,y:110,r:22,c:"#22c55e"},{x:350,y:95,r:24,c:"#16a34a"}].map((e,t)=>(0,Ys.jsxs)("g",{children:[(0,Ys.jsx)("circle",{cx:e.x,cy:e.y,r:e.r,fill:e.c}),(0,Ys.jsx)("rect",{x:e.x-.55*e.r,y:e.y-.55*e.r,width:1.1*e.r,height:1.1*e.r,fill:"white",transform:"rotate(45 ".concat(e.x," ").concat(e.y,")")})]},t))]})]})})]})]}),(0,Ys.jsx)("div",{className:"flex items-center justify-center px-4 py-12",children:(0,Ys.jsx)(om.div,{initial:{y:16,opacity:0},animate:{y:0,opacity:1},transition:{duration:.45},className:"w-full max-w-md",children:(0,Ys.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:(0,Ys.jsx)(qe,{mode:"wait",children:C?(0,Ys.jsxs)(om.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3},children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ys.jsxs)("button",{type:"button",onClick:()=>P(!1),className:"flex items-center gap-1 text-eco-green hover:text-eco-green-dark",children:[(0,Ys.jsx)(wm,{className:"h-5 w-5"}),"Back"]}),(0,Ys.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"collector"===x?"Collector Info":"Factory Info"}),(0,Ys.jsx)("button",{type:"button",onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Ys.jsx)($n,{className:"h-5 w-5"})})]}),(0,Ys.jsxs)("form",{onSubmit:R,className:"space-y-5",children:[g&&(0,Ys.jsx)(om.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},className:"bg-eco-red/10 border border-eco-red text-eco-red-dark px-4 py-3 rounded-lg",children:g}),"collector"===x?(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),(0,Ys.jsx)("input",{type:"text",name:"companyName",value:E.companyName,onChange:A,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Area *"}),(0,Ys.jsx)("input",{type:"text",name:"serviceArea",value:E.serviceArea,onChange:A,required:!0,placeholder:"Enter city or area name",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Details *"}),(0,Ys.jsx)("textarea",{name:"vehicleDetails",value:E.vehicleDetails,onChange:A,required:!0,rows:3,placeholder:"Describe your vehicle(s) - type, capacity, registration, etc.",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number *"}),(0,Ys.jsx)("input",{type:"text",name:"licenseNumber",value:E.licenseNumber,onChange:A,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]})]}),(0,Ys.jsx)("h4",{className:"text-md font-medium text-gray-800 mt-6 mb-3",children:"Contact Person"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,Ys.jsx)("input",{type:"text",name:"contactPerson.name",value:E.contactPerson.name,onChange:A,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Ys.jsx)("input",{type:"email",name:"contactPerson.email",value:E.contactPerson.email,onChange:A,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Ys.jsx)("input",{type:"tel",name:"contactPerson.phone",value:E.contactPerson.phone,onChange:A,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]})]}),(0,Ys.jsx)("h4",{className:"text-md font-medium text-gray-800 mt-6 mb-3",children:"Business Details"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established Year"}),(0,Ys.jsx)("input",{type:"number",name:"businessDetails.establishedYear",value:E.businessDetails.establishedYear,onChange:A,min:"1900",max:(new Date).getFullYear(),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,Ys.jsx)("input",{type:"url",name:"businessDetails.website",value:E.businessDetails.website,onChange:A,placeholder:"https://example.com",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ys.jsx)("textarea",{name:"businessDetails.description",value:E.businessDetails.description,onChange:A,rows:2,placeholder:"Brief description of your business",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]})]})]}):(0,Ys.jsxs)("div",{className:"space-y-4",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Factory Name *"}),(0,Ys.jsx)("input",{type:"text",name:"factoryName",value:L.factoryName,onChange:D,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number *"}),(0,Ys.jsx)("input",{type:"text",name:"gstNumber",value:L.gstNumber,onChange:D,required:!0,placeholder:"e.g., 22AAAAA0000A1Z5",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsx)("div",{className:"md:col-span-2",children:(0,Ys.jsx)("h4",{className:"text-md font-medium text-gray-800 mt-4 mb-3",children:"Factory Address"})}),(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),(0,Ys.jsx)("input",{type:"text",name:"address.street",value:L.address.street,onChange:D,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,Ys.jsx)("input",{type:"text",name:"address.city",value:L.address.city,onChange:D,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,Ys.jsx)("input",{type:"text",name:"address.state",value:L.address.state,onChange:D,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),(0,Ys.jsx)("input",{type:"text",name:"address.zipCode",value:L.address.zipCode,onChange:D,required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,Ys.jsx)("input",{type:"text",name:"address.country",value:L.address.country,onChange:D,readOnly:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent bg-gray-100"})]})]}),(0,Ys.jsx)("h4",{className:"text-md font-medium text-gray-800 mt-6 mb-3",children:"Contact Person"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,Ys.jsx)("input",{type:"text",name:"contactPerson.name",value:L.contactPerson.name,onChange:D,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Ys.jsx)("input",{type:"email",name:"contactPerson.email",value:L.contactPerson.email,onChange:D,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Ys.jsx)("input",{type:"tel",name:"contactPerson.phone",value:L.contactPerson.phone,onChange:D,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]})]}),(0,Ys.jsx)("h4",{className:"text-md font-medium text-gray-800 mt-6 mb-3",children:"Business Details"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established Year"}),(0,Ys.jsx)("input",{type:"number",name:"businessDetails.establishedYear",value:L.businessDetails.establishedYear,onChange:D,min:"1900",max:(new Date).getFullYear(),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,Ys.jsx)("input",{type:"url",name:"businessDetails.website",value:L.businessDetails.website,onChange:D,placeholder:"https://example.com",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ys.jsx)("textarea",{name:"businessDetails.description",value:L.businessDetails.description,onChange:D,rows:2,placeholder:"Brief description of your factory",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]})]})]}),(0,Ys.jsx)(om.button,{whileHover:{y:-1},whileTap:{scale:.98},type:"submit",disabled:s,className:"w-full py-3.5 rounded-lg text-white font-semibold bg-eco-green-dark hover:brightness-105 transition shadow-lg disabled:opacity-60",children:s?"Creating Account...":"Create Account"})]})]},"role-form"):(0,Ys.jsxs)(om.div,{initial:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.2},children:[(0,Ys.jsx)("div",{className:"flex justify-center mb-6",children:(0,Ys.jsx)("div",{className:"h-14 w-14 rounded-xl bg-eco-green-light/30 flex items-center justify-center ring-1 ring-eco-green-light/50",children:(0,Ys.jsx)(Ph,{className:"h-7 w-7 text-eco-green"})})}),(0,Ys.jsx)("h1",{className:"text-[28px] font-semibold text-center text-gray-900",children:"Join EcoChain"}),(0,Ys.jsx)("p",{className:"text-center text-gray-600 mt-1",children:"Create your account to get started"}),(0,Ys.jsxs)("form",{onSubmit:R,className:"space-y-5 mt-7",children:[g&&(0,Ys.jsx)(om.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},className:"bg-eco-red/10 border border-eco-red text-eco-red-dark px-4 py-3 rounded-lg",children:g}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)(qn,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"}),(0,Ys.jsx)("input",{placeholder:"Full Name",value:i,onChange:e=>o(e.target.value),required:!0,className:"w-full pl-10 pr-3 py-3.5 rounded-lg border border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-eco-green focus:border-eco-green outline-none transition"})]}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)(oa,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"}),(0,Ys.jsx)("input",{placeholder:"Email",type:"email",value:l,onChange:e=>c(e.target.value),required:!0,className:"w-full pl-10 pr-3 py-3.5 rounded-lg border border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-eco-green focus:border-eco-green outline-none transition"})]}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)(kh,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"}),(0,Ys.jsx)("input",{placeholder:"Password",type:m?"text":"password",value:d,onChange:e=>u(e.target.value),required:!0,className:"w-full pl-10 pr-10 py-3.5 rounded-lg border border-gray-300 bg-gray-50 focus:bg-white focus:ring-2 focus:ring-eco-green focus:border-eco-green outline-none transition"}),(0,Ys.jsx)("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?(0,Ys.jsx)(Sh,{className:"h-5 w-5"}):(0,Ys.jsx)(km,{className:"h-5 w-5"})})]}),(0,Ys.jsxs)("div",{className:"space-y-3",children:[(0,Ys.jsxs)("div",{className:"flex gap-2",children:[(0,Ys.jsxs)(om.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>p("user"),className:"flex-1 flex flex-col items-center justify-center gap-2 py-3 rounded-lg border transition-all ".concat("user"===x?"border-eco-green bg-eco-green-light/20 text-eco-green-dark":"border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700"),children:[(0,Ys.jsx)(qn,{className:"h-5 w-5"}),(0,Ys.jsx)("span",{className:"text-sm font-medium",children:"User"})]}),(0,Ys.jsxs)(om.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>p("collector"),className:"flex-1 flex flex-col items-center justify-center gap-2 py-3 rounded-lg border transition-all ".concat("collector"===x?"border-eco-green bg-eco-green-light/20 text-eco-green-dark":"border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700"),children:[(0,Ys.jsx)(On,{className:"h-5 w-5"}),(0,Ys.jsx)("span",{className:"text-sm font-medium",children:"Collector"})]}),(0,Ys.jsxs)(om.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>p("factory"),className:"flex-1 flex flex-col items-center justify-center gap-2 py-3 rounded-lg border transition-all ".concat("factory"===x?"border-eco-green bg-eco-green-light/20 text-eco-green-dark":"border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-700"),children:[(0,Ys.jsx)(An,{className:"h-5 w-5"}),(0,Ys.jsx)("span",{className:"text-sm font-medium",children:"Factory"})]})]}),(0,Ys.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:"hidden",children:[(0,Ys.jsx)("option",{value:"user",children:"User"}),(0,Ys.jsx)("option",{value:"collector",children:"Collector"}),(0,Ys.jsx)("option",{value:"factory",children:"Factory"})]})]}),(0,Ys.jsx)(om.button,{whileHover:{y:-1},whileTap:{scale:.98},type:"submit",disabled:s,className:"w-full py-3.5 rounded-lg text-white font-semibold bg-eco-green-dark hover:brightness-105 transition shadow-lg disabled:opacity-60",children:s?"Creating Account...":"user"!==x?"Continue":"Create Account"})]}),(0,Ys.jsxs)("div",{className:"text-center mt-6 text-gray-600",children:["Already have an account? ",(0,Ys.jsx)(wn,{to:"/login",className:"text-eco-green hover:text-eco-green-dark underline-offset-4 hover:underline",children:"Sign In"})]})]},"main-form")})})})})]})})},Th=()=>{const{user:e}=Ks(),{collectionHistory:t,totalEcoTokens:r,environmentalImpact:s}=mn(),[n,i]=(0,a.useState)("all"),[o]=(0,a.useState)([{id:"first_collection",title:"Starter Recycler",description:"Complete your first waste collection",icon:"\ud83c\udf31",progress:(null===t||void 0===t?void 0:t.length)>0?1:0,maxProgress:1,isUnlocked:(null===t||void 0===t?void 0:t.length)>0,unlockedAt:(null===t||void 0===t?void 0:t.length)>0?new Date:void 0,category:"recycling",rarity:"common",reward:{tokens:50}},{id:"eco_saver",title:"Eco Saver",description:"Earn 500 EcoTokens",icon:"\ud83d\udcb0",progress:Math.min(r||0,500),maxProgress:500,isUnlocked:(r||0)>=500,unlockedAt:(r||0)>=500?new Date:void 0,category:"tokens",rarity:"common",reward:{tokens:100}},{id:"plastic_hero",title:"Plastic Hero",description:"Recycle 50kg of plastic waste",icon:"\u267b\ufe0f",progress:Math.min(25,50),maxProgress:50,isUnlocked:!1,category:"recycling",rarity:"rare",reward:{tokens:200,badge:"Plastic Warrior"}},{id:"carbon_saver",title:"Carbon Crusher",description:"Save 100kg of CO2 through recycling",icon:"\ud83c\udf0d",progress:Math.min((null===s||void 0===s?void 0:s.co2Saved)||0,100),maxProgress:100,isUnlocked:((null===s||void 0===s?void 0:s.co2Saved)||0)>=100,category:"environmental",rarity:"epic",reward:{tokens:500,badge:"Earth Protector"}},{id:"token_master",title:"Token Master",description:"Accumulate 2000 EcoTokens",icon:"\ud83d\udc51",progress:Math.min(r||0,2e3),maxProgress:2e3,isUnlocked:(r||0)>=2e3,category:"tokens",rarity:"legendary",reward:{tokens:1e3,badge:"Token King"}},{id:"consistency_champion",title:"Consistency Champion",description:"Complete collections for 7 consecutive days",icon:"\u2b50",progress:3,maxProgress:7,isUnlocked:!1,category:"community",rarity:"epic",reward:{tokens:300,badge:"Dedicated Recycler"}}]),l="all"===n?o:o.filter(e=>e.category===n),c=o.filter(e=>e.isUnlocked).length,d=o.reduce((e,t)=>e+t.progress/t.maxProgress*100,0)/o.length,u=e=>{switch(e){case"common":default:return"border-gray-300 bg-gray-50";case"rare":return"border-blue-300 bg-blue-50";case"epic":return"border-purple-300 bg-purple-50";case"legendary":return"border-amber-300 bg-amber-50"}},m=e=>{switch(e){case"common":default:return"text-gray-700";case"rare":return"text-blue-700";case"epic":return"text-purple-700";case"legendary":return"text-amber-700"}};return(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Achievements"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Track your eco-friendly milestones and earn rewards"})]}),(0,Ys.jsx)("div",{className:"flex items-center gap-4",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium bg-eco-green-50 text-eco-green-700 border border-eco-green-200",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),(0,Ys.jsxs)("span",{children:[c,"/",o.length," Unlocked"]})]})})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Achievements"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:c}),(0,Ys.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["of ",o.length," available"]})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-amber-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overall Progress"}),(0,Ys.jsxs)("p",{className:"text-3xl font-bold text-eco-green-600 mt-2",children:[Math.round(d),"%"]}),(0,Ys.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"completion rate"})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-eco-green-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rewards Earned"}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:o.filter(e=>e.isUnlocked).reduce((e,t)=>{var r;return e+((null===(r=t.reward)||void 0===r?void 0:r.tokens)||0)},0)}),(0,Ys.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"bonus tokens"})]}),(0,Ys.jsx)("div",{className:"h-12 w-12 bg-purple-50 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-8",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filter by Category"}),(0,Ys.jsx)("div",{className:"flex flex-wrap gap-3",children:[{id:"all",label:"All Achievements"},{id:"recycling",label:"Recycling"},{id:"tokens",label:"EcoTokens"},{id:"environmental",label:"Environmental"},{id:"community",label:"Community"}].map(e=>(0,Ys.jsx)("button",{onClick:()=>i(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat(n===e.id?"bg-eco-green-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:(0,Ys.jsx)("span",{children:e.label})},e.id))})]}),(0,Ys.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>(0,Ys.jsxs)("div",{className:"relative rounded-xl border-2 overflow-hidden transition-all duration-300 hover:shadow-lg hover:scale-[1.02] ".concat(e.isUnlocked?"".concat(u(e.rarity)," shadow-md"):"bg-white border-gray-200 opacity-75"),children:[e.isUnlocked&&(0,Ys.jsx)("div",{className:"absolute top-4 right-4 w-8 h-8 bg-eco-green-500 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Ys.jsxs)("div",{className:"p-6",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Ys.jsx)("div",{className:"text-4xl",children:e.icon}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h3",{className:"text-lg font-bold ".concat(e.isUnlocked?m(e.rarity):"text-gray-600"),children:e.title}),(0,Ys.jsx)("div",{className:"text-xs font-medium uppercase tracking-wider ".concat(m(e.rarity)),children:e.rarity})]})]}),(0,Ys.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,Ys.jsxs)("div",{className:"mb-4",children:[(0,Ys.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[(0,Ys.jsx)("span",{children:"Progress"}),(0,Ys.jsxs)("span",{children:[e.progress," / ",e.maxProgress]})]}),(0,Ys.jsx)("div",{className:"w-full bg-gray-200 rounded-sm h-2",children:(0,Ys.jsx)("div",{className:"h-2 rounded-sm transition-all duration-300 ".concat(e.isUnlocked?"bg-eco-green-500":"bg-gray-400"),style:{width:"".concat(e.progress/e.maxProgress*100,"%")}})}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:[Math.round(e.progress/e.maxProgress*100),"% Complete"]})]}),e.reward&&(0,Ys.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Ys.jsx)("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Reward"}),(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Ys.jsxs)("span",{className:"text-eco-green-600 font-medium",children:[e.reward.tokens," tokens"]})]}),e.reward.badge&&(0,Ys.jsxs)("div",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded-full",children:["\ud83c\udfc6 ",e.reward.badge]})]})]}),e.isUnlocked&&e.unlockedAt&&(0,Ys.jsxs)("div",{className:"mt-3 text-xs text-gray-500 text-center",children:["Unlocked ",e.unlockedAt.toLocaleDateString()]})]})]},e.id))}),0===l.length&&(0,Ys.jsxs)("div",{className:"text-center py-12",children:[(0,Ys.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ys.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No achievements in this category"}),(0,Ys.jsx)("p",{className:"text-gray-600",children:"Try selecting a different category to see more achievements."})]})]})]})},Lh={getWalletInfo:async()=>{try{const e=await Bs();if(e.data.success)return e.data.data.wallet;throw new Error("Failed to fetch wallet information")}catch(r){var e,t;throw console.error("Error fetching wallet info:",r),new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||r.message||"Failed to fetch wallet information")}},getTransactionHistory:async e=>{try{const t=await _s(e);if(t.data.success)return{transactions:t.data.data,pagination:t.data.pagination};throw new Error("Failed to fetch transaction history")}catch(s){var t,r;throw console.error("Error fetching transaction history:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||s.message||"Failed to fetch transaction history")}},getTransactionById:async e=>{try{const t=await Us(e);if(t.data.success)return t.data.data;throw new Error("Failed to fetch transaction")}catch(s){var t,r;throw console.error("Error fetching transaction ".concat(e,":"),s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||s.message||"Failed to fetch transaction")}},getEarningStats:async e=>{try{const t=await qs(e);if(t.data.success)return t.data.data;throw new Error("Failed to fetch earning stats")}catch(s){var t,r;throw console.error("Error fetching earning stats:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||s.message||"Failed to fetch earning stats")}},getSpendingStats:async e=>{try{const t=await Vs(e);if(t.data.success)return t.data.data;throw new Error("Failed to fetch spending stats")}catch(s){var t,r;throw console.error("Error fetching spending stats:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||s.message||"Failed to fetch spending stats")}},getImpactStats:async()=>{try{const e=await Ws();if(e.data.success)return e.data.data;throw new Error("Failed to fetch impact stats")}catch(r){var e,t;throw console.error("Error fetching impact stats:",r),new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||r.message||"Failed to fetch impact stats")}}},Mh=()=>{const{user:e}=Ks(),[t,r]=(0,a.useState)(null),[s,n]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)("overview"),x=(0,a.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var s;t?c(!0):o(!0);const a=await Lh.getWalletInfo();r(a);const i=await Lh.getTransactionHistory({limit:20});n(i.transactions),u(null),a.currentBalance,null===e||void 0===e||null===(s=e.ecoWallet)||void 0===s||s.currentBalance}catch(Kh){console.error("Failed to load wallet:",Kh),u(Kh.message||"Failed to load wallet information")}finally{o(!1),c(!1)}},[e]);(0,a.useEffect)(()=>{x()},[x]);const p=e=>{if("earned"!==e.transactionType)return(0,Ys.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})});switch(e.metadata.source){case"garbage_collection":return(0,Ys.jsx)("div",{className:"w-10 h-10 bg-eco-green-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})});case"bonus":case"referral":return(0,Ys.jsx)("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})});default:return(0,Ys.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}};return i?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading your EcoWallet..."})]})}):d?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Wallet Error"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:d}),(0,Ys.jsx)("button",{onClick:()=>x(),className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Try Again"})]})})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"EcoWallet"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your EcoTokens and view transaction history"})]}),(0,Ys.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ys.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-eco-green-50 text-eco-green-700 border border-eco-green-200",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Ys.jsxs)("span",{children:[(null===t||void 0===t?void 0:t.currentBalance)||0," EcoTokens"]})]}),(0,Ys.jsxs)("button",{onClick:()=>x(!0),disabled:l,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(l?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-600 hover:bg-gray-700 text-white shadow-sm hover:shadow-md"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 ".concat(l?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l?"Refreshing...":"Refresh"]})]})]})})}),(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex space-x-8",children:[(0,Ys.jsx)("button",{onClick:()=>h("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("overview"===m?"border-eco-green-500 text-eco-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Overview"}),(0,Ys.jsx)("button",{onClick:()=>h("transactions"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("transactions"===m?"border-eco-green-500 text-eco-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Transaction History"})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===m&&t&&(0,Ys.jsxs)("div",{className:"space-y-8",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 relative overflow-hidden",children:[(0,Ys.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-eco-green-50 rounded-full -mr-10 -mt-10"}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ys.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Current Balance"}),(0,Ys.jsx)("div",{className:"w-10 h-10 bg-eco-green-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-eco-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})})]}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:t.currentBalance}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"EcoTokens available"})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 relative overflow-hidden",children:[(0,Ys.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-blue-50 rounded-full -mr-10 -mt-10"}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ys.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Total Earned"}),(0,Ys.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:t.totalEarned}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"EcoTokens earned"})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 relative overflow-hidden",children:[(0,Ys.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-purple-50 rounded-full -mr-10 -mt-10"}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ys.jsx)("h3",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),(0,Ys.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})]}),(0,Ys.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:t.totalSpent}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"EcoTokens spent"})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),(0,Ys.jsx)("div",{className:"p-6",children:(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Ys.jsxs)("button",{className:"flex items-center gap-3 p-4 bg-eco-green-50 hover:bg-eco-green-100 rounded-xl transition-all duration-200 border border-eco-green-100 hover:border-eco-green-200",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-eco-green-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Ys.jsxs)("div",{className:"text-left",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:"Shop Products"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:"Use your tokens"})]})]}),(0,Ys.jsxs)("button",{className:"flex items-center gap-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Ys.jsxs)("div",{className:"text-left",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:"Submit Waste"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:"Earn more tokens"})]})]}),(0,Ys.jsxs)("button",{className:"flex items-center gap-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 002 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Ys.jsxs)("div",{className:"text-left",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:"View Stats"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:"Track progress"})]})]}),(0,Ys.jsxs)("button",{className:"flex items-center gap-3 p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-all duration-200 border border-gray-100 hover:border-gray-200",children:[(0,Ys.jsx)("div",{className:"w-10 h-10 bg-gray-600 rounded-lg flex items-center justify-center",children:(0,Ys.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Ys.jsxs)("div",{className:"text-left",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:"Earn Bonus"}),(0,Ys.jsx)("div",{className:"text-xs text-gray-600",children:"Complete tasks"})]})]})]})})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),(0,Ys.jsx)("button",{onClick:()=>h("transactions"),className:"text-sm text-eco-green-600 hover:text-eco-green-700 font-medium",children:"View All \u2192"})]})}),(0,Ys.jsx)("div",{className:"p-6",children:s.slice(0,3).length>0?(0,Ys.jsx)("div",{className:"space-y-4",children:s.slice(0,3).map(e=>(0,Ys.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[p(e),(0,Ys.jsxs)("div",{className:"flex-1",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:e.details.description}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,Ys.jsxs)("div",{className:"text-sm font-semibold ".concat("earned"===e.transactionType?"text-eco-green-600":"text-red-600"),children:["earned"===e.transactionType?"+":"-",e.details.amount," tokens"]})]},e._id))}):(0,Ys.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Ys.jsx)("p",{children:"No recent activity"})]})})]})]}),"transactions"===m&&(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction History"})}),(0,Ys.jsx)("div",{className:"p-6",children:s.length>0?(0,Ys.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,Ys.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[p(e),(0,Ys.jsxs)("div",{className:"flex-1",children:[(0,Ys.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ys.jsx)("div",{className:"font-medium text-gray-900",children:e.details.description}),(0,Ys.jsxs)("div",{className:"text-lg font-bold ".concat("earned"===e.transactionType?"text-eco-green-600":"text-red-600"),children:["earned"===e.transactionType?"+":"-",e.details.amount," tokens"]})]}),(0,Ys.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ys.jsxs)("div",{className:"text-sm text-gray-500",children:[new Date(e.createdAt).toLocaleDateString()," \u2022 ",e.metadata.source]}),(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-eco-green-100 text-eco-green-800":"bg-amber-100 text-amber-800"),children:e.status})]})]})]},e._id))}):(0,Ys.jsxs)("div",{className:"text-center py-12",children:[(0,Ys.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Ys.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No transactions yet"}),(0,Ys.jsx)("p",{className:"text-gray-600",children:"Start earning EcoTokens by submitting waste collections!"})]})})]})]})]})},Ah={createOrder:async e=>{const t=await Hs.post("/orders",e);if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to create order")},getUserOrders:async()=>{const e=await Hs.get("/orders/user");if(e.data.success)return e.data.data||[];throw new Error(e.data.message||"Failed to fetch orders")},getOrderById:async e=>{const t=await Hs.get("/orders/".concat(e));if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to fetch order")},cancelOrder:async e=>{const t=await Hs.put("/orders/".concat(e,"/cancel"));if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to cancel order")},calculateOrderSummary:async(e,t)=>{const r=await Hs.post("/orders/calculate",{items:e,tokenAmount:t});if(r.data.success)return r.data.data;throw new Error(r.data.message||"Failed to calculate order")},trackOrder:async e=>{const t=await Hs.get("/orders/track/".concat(e));if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to track order")}},Dh=e=>{switch(e){case"completed":case"delivered":return"bg-eco-green-100 text-eco-green-800";case"pending":return"bg-amber-100 text-amber-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Rh=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,i]=(0,a.useState)(null),o=te();(0,a.useEffect)(()=>{l()},[]);const l=async()=>{try{s(!0);const e=await Ah.getUserOrders();t(e),i(null)}catch(e){console.error("Error fetching orders:",e),i(e.message||"Failed to load orders")}finally{s(!1)}};return r?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading your orders..."})]})}):n?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Orders"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:n}),(0,Ys.jsx)("button",{onClick:()=>o("/dashboard"),className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Back to Dashboard"})]})})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"My Orders"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"View and manage your order history"})]}),(0,Ys.jsx)("div",{className:"flex items-center gap-4",children:(0,Ys.jsxs)("button",{onClick:()=>o("/marketplace"),className:"flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Browse Marketplace"]})})]})})}),(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===e.length?(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,Ys.jsxs)("div",{className:"p-12 text-center",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v5a2 2 0 002 2h2a2 2 0 002-2v-5"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No orders yet"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-6",children:"Explore our eco-friendly marketplace to find sustainable products."}),(0,Ys.jsxs)("button",{onClick:()=>o("/marketplace"),className:"inline-flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Browse Marketplace"]})]})}):(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Order History"}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.length," orders found"]})]}),(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens Used"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var t,r,s;return(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e._id.substring(0,8)]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.createdAt).toLocaleDateString()}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(Dh(e.status)),children:e.status})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["\u20b9",(null===(t=e.billing)||void 0===t||null===(r=t.finalAmount)||void 0===r?void 0:r.toFixed(2))||e.totalPrice||"0.00"]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-eco-green-600",children:(null===(s=e.billing)||void 0===s?void 0:s.ecoTokensApplied)||e.totalTokenPrice||0}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Ys.jsxs)("div",{className:"flex gap-2",children:[(0,Ys.jsx)(wn,{to:"/order-confirmation/".concat(e._id),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 text-xs font-medium rounded-lg transition-colors",children:"View"}),e.trackingNumber&&(0,Ys.jsx)(wn,{to:"/order-tracking/".concat(e.trackingNumber),className:"bg-eco-green-500 hover:bg-eco-green-600 text-white px-3 py-1 text-xs font-medium rounded-lg transition-colors",children:"Track"})]})})]},e._id)})})]})})]})})]})},Fh=()=>{const{user:e}=Ks(),[t,r]=(te(),(0,a.useState)([])),[s,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),m=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?o(!0):n(!0);const t=await Hs.get("/orders/factory");if(!t.data.success)throw new Error(t.data.message||"Failed to fetch orders");r(t.data.data),c(null)}catch(t){console.error("Error fetching orders:",t);let e="Failed to load orders. ";t.response?(e+="Server responded with status ".concat(t.response.status,". "),t.response.data&&t.response.data.message&&(e+=t.response.data.message)):t.request?e+="No response received from server. Please check your connection.":e+=t.message,c(e)}finally{n(!1),o(!1)}},[]),h=(0,a.useCallback)(e=>{if("sync"===e.type&&"order"===e.entityType&&"update"===e.changeType){const s=[...t];let n=!1;e.changes.forEach(e=>{const t=s.findIndex(t=>t._id===e._id);-1!==t&&(s[t]=Jt(Jt({},s[t]),{},{status:e.status,timeline:e.timeline?Jt(Jt({},s[t].timeline),e.timeline):s[t].timeline}),n=!0)}),n&&r(s)}},[t]);(0,a.useEffect)(()=>(m(),on.subscribe(["order"]),on.on("sync",h),()=>{on.off("sync",h)}),[m,h]);return s?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading factory orders..."})]})}):l?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connection Error"}),(0,Ys.jsx)("p",{className:"text-red-600 text-sm mb-6 leading-relaxed",children:l}),(0,Ys.jsx)("button",{onClick:()=>m(),disabled:s,className:"bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:s?"Retrying...":"Try Again"})]})})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Factory Orders"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Manage and track customer orders for your products"})]}),(0,Ys.jsx)("div",{className:"flex items-center gap-4",children:(0,Ys.jsxs)("button",{onClick:()=>m(!0),disabled:i,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all ".concat(i?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-eco-green-500 hover:bg-eco-green-600 text-white shadow-sm hover:shadow-md"),children:[(0,Ys.jsx)("svg",{className:"w-4 h-4 ".concat(i?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),i?"Refreshing...":"Refresh"]})})]})})}),(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===t.length?(0,Ys.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:(0,Ys.jsxs)("div",{className:"p-12 text-center",children:[(0,Ys.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ys.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Ys.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Orders Yet"}),(0,Ys.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have any customer orders for your products yet."}),(0,Ys.jsxs)(wn,{to:"/factory-product-management",className:"inline-flex items-center gap-2 bg-eco-green-600 hover:bg-eco-green-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[(0,Ys.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ys.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Manage Your Products"]})]})}):(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Customer Orders"}),(0,Ys.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[t.length," orders found"]})]}),(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>{var t,s,n,a,i,o,l,c;return(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.orderId]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,Ys.jsx)("div",{className:"font-medium",children:(null===(t=e.userId)||void 0===t||null===(s=t.personalInfo)||void 0===s?void 0:s.name)||"Unknown Customer"}),(0,Ys.jsx)("div",{className:"text-gray-500 text-xs",children:(null===(n=e.userId)||void 0===n||null===(a=n.personalInfo)||void 0===a?void 0:a.email)||"N/A"})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.createdAt).toLocaleDateString()}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Ys.jsxs)("div",{className:"flex -space-x-2",children:[e.orderItems.slice(0,3).map((e,t)=>{var r,s,n,a,i;return(0,Ys.jsx)("img",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-white",src:(null===(r=e.productId)||void 0===r||null===(s=r.productInfo)||void 0===s||null===(n=s.images)||void 0===n?void 0:n[0])||"/uploads/default-product.svg",alt:null===(a=e.productId)||void 0===a||null===(i=a.productInfo)||void 0===i?void 0:i.name,onError:e=>{e.target.src="/uploads/default-product.svg"}},t)}),e.orderItems.length>3&&(0,Ys.jsxs)("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-gray-100 text-xs font-medium text-gray-800 ring-2 ring-white",children:["+",e.orderItems.length-3]})]})}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ys.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("delivered"===e.status?"bg-eco-green-100 text-eco-green-800":"shipped"===e.status?"bg-purple-100 text-purple-800":"processing"===e.status?"bg-blue-100 text-blue-800":"confirmed"===e.status?"bg-amber-100 text-amber-800":"placed"===e.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:e.status})}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["\u20b9",(null===(i=e.billing)||void 0===i||null===(o=i.finalAmount)||void 0===o?void 0:o.toFixed(2))||"0.00"]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Ys.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Ys.jsx)(wn,{to:"/order-tracking/".concat((null===(l=e.shipping)||void 0===l?void 0:l.trackingNumber)||e._id),className:"text-eco-green-600 hover:text-eco-green-800 font-medium text-sm",children:"View Details"}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsxs)("select",{value:"",onChange:t=>(async(e,t)=>{try{u(e);const s=await Hs.put("/orders/".concat(e,"/status"),{status:t});if(!s.data.success)throw new Error(s.data.message||"Failed to update order status");r(r=>r.map(r=>r._id===e?Jt(Jt({},r),{},{status:t}):r)),alert("Order status updated to ".concat(t))}catch(s){console.error("Error updating order status:",s);let e="Failed to update order status. ";s.response?(e+="Server responded with status ".concat(s.response.status,". "),s.response.data&&s.response.data.message&&(e+=s.response.data.message)):s.request?e+="No response received from server. Please check your connection.":e+=s.message,alert(e)}finally{u(null)}})(e._id,t.target.value),disabled:d===e._id,className:"block w-full pl-3 pr-10 py-1 text-sm border-gray-300 focus:outline-none focus:ring-eco-green-500 focus:border-eco-green-500 rounded-md ".concat(d===e._id?"bg-gray-100":""),children:[(0,Ys.jsx)("option",{value:"",children:"Update Status"}),(c=e.status,{placed:["confirmed","cancelled"],confirmed:["processing","cancelled"],processing:["shipped","cancelled"],shipped:["delivered","returned"],delivered:["returned"],cancelled:[],returned:[]}[c]||[]).map(e=>(0,Ys.jsxs)("option",{value:e,children:["Mark as ",e.charAt(0).toUpperCase()+e.slice(1)]},e))]}),d===e._id&&(0,Ys.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-eco-green-600"})})]})]})})]},e._id)})})]})})]})})]})},Ih=En("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Oh=En("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),zh=e=>{if(!e||"string"!==typeof e)return null;const t=e.trim();return t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/uploads/")?t:t.includes("/")||t.includes("\\")?"/uploads".concat(t.startsWith("/")?t:"/"+t):"/uploads/profile-images/".concat(t):null},Bh=()=>{const{user:e,updateUser:t}=Ks(),[r,s]=(te(),(0,a.useState)({name:"",email:"",phone:"",address:{street:"",city:"",state:"",zipCode:"",country:""}})),[n,i]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),[p,g]=(0,a.useState)(null),[f,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(e){var t,r,n,a,i;const o=e;s({name:o.name||"",email:o.email||"",phone:o.phone||"",address:{street:(null===(t=o.address)||void 0===t?void 0:t.street)||"",city:(null===(r=o.address)||void 0===r?void 0:r.city)||"",state:(null===(n=o.address)||void 0===n?void 0:n.state)||"",zipCode:(null===(a=o.address)||void 0===a?void 0:a.zipCode)||"",country:(null===(i=o.address)||void 0===i?void 0:i.country)||""}}),o.profileImage&&x(zh(o.profileImage))}},[e]);const N=e=>{const{name:t,value:r}=e.target;if(t.includes("address.")){const e=t.split(".")[1];s(t=>Jt(Jt({},t),{},{address:Jt(Jt({},t.address),{},{[e]:r})}))}else s(e=>Jt(Jt({},e),{},{[t]:r}))},k=e=>{const{name:t,value:r}=e.target;i(e=>Jt(Jt({},e),{},{[t]:r}))},S=(e,t)=>{w({type:t,text:e}),setTimeout(()=>{w(null)},5e3)},C=async e=>{e.preventDefault(),b(!0),w(null);try{let e;const s=(()=>{const e=[];var t,s;return r.name.trim()?r.name.trim().length<2&&e.push("Name must be at least 2 characters long"):e.push("Name is required"),r.email.trim()?(t=r.email.trim(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||e.push("Please enter a valid email address")):e.push("Email is required"),r.phone.trim()&&(s=r.phone.trim()).trim()&&!/^[+]?[1-9][\d]{0,15}$/.test(s.replace(/[\s\-()]/g,""))&&e.push("Please enter a valid phone number"),r.address.zipCode.trim()&&r.address.zipCode.trim().length<3&&e.push("ZIP code should be at least 3 characters"),{isValid:0===e.length,errors:e}})();if(!s.isValid)return S(s.errors[0],"error"),void b(!1);if(f){const t=new FormData;t.append("name",r.name.trim()),t.append("email",r.email.trim()),r.phone.trim()&&t.append("phone",r.phone.trim()),r.address.street.trim()&&t.append("address[street]",r.address.street.trim()),r.address.city.trim()&&t.append("address[city]",r.address.city.trim()),r.address.state.trim()&&t.append("address[state]",r.address.state.trim()),r.address.zipCode.trim()&&t.append("address[zipCode]",r.address.zipCode.trim()),r.address.country.trim()&&t.append("address[country]",r.address.country.trim()),t.append("profileImage",f),e=await Ms(t)}else{const t={name:r.name.trim(),email:r.email.trim()};r.phone.trim()&&(t.phone=r.phone.trim());const s={street:r.address.street.trim(),city:r.address.city.trim(),state:r.address.state.trim(),zipCode:r.address.zipCode.trim(),country:r.address.country.trim()},n=Object.fromEntries(Object.entries(s).filter(e=>{let[t,r]=e;return""!==r}));Object.keys(n).length>0&&(delete n.location,t.address=n),e=await Ls(t)}if(!e.data.success)throw new Error(e.data.message||"Failed to update profile");{if(t(e.data.data),S("Profile updated successfully","success"),e.data.data.profileImage){const t=zh(e.data.data.profileImage);t&&(x(t),(e=>new Promise((t,r)=>{const s=new Image;s.onload=()=>{t()},s.onerror=()=>{r(new Error("Failed to load image: ".concat(e)))},s.src=e}))(t).then(()=>{console.log("Profile image loaded successfully:",t)}).catch(()=>{console.warn("Profile image failed to load after upload:",t),S("Profile updated but image may not display correctly. Please refresh the page.","warning")}))}y(null),g(null);const r=document.querySelector('input[type="file"]');r&&(r.value="")}}catch(a){var s,n;console.error("Profile update error:",a);const e=(null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||a.message||"Failed to update profile";S(e,"error")}finally{b(!1)}};return(0,Ys.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,Ys.jsxs)("div",{className:"mb-8",children:[(0,Ys.jsx)("h1",{className:"text-3xl font-bold text-green-800 mb-2",children:"Profile Settings"}),(0,Ys.jsx)("p",{className:"text-green-600",children:"Manage your personal information and account settings"})]}),j&&(0,Ys.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-center gap-3 ".concat("success"===j.type?"bg-green-100 text-green-800 border border-green-200":"warning"===j.type?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-red-100 text-red-800 border border-red-200"),children:["success"===j.type?(0,Ys.jsx)(cm,{size:20,className:"text-green-600"}):"warning"===j.type?(0,Ys.jsx)(Dm,{size:20,className:"text-yellow-600"}):(0,Ys.jsx)(Dm,{size:20,className:"text-red-600"}),(0,Ys.jsx)("span",{children:j.text})]}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ys.jsx)("div",{className:"lg:col-span-1",children:(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-green-100",children:[(0,Ys.jsx)("h2",{className:"text-xl font-semibold text-green-800 mb-4",children:"Profile Picture"}),(0,Ys.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Ys.jsxs)("div",{className:"relative mb-4",children:[(0,Ys.jsx)("div",{className:"w-32 h-32 rounded-full bg-green-100 flex items-center justify-center overflow-hidden border-2 border-green-200 relative",children:p?(0,Ys.jsx)("img",{src:p,alt:"Profile Preview",className:"w-full h-full object-cover"}):h?(0,Ys.jsxs)(Ys.Fragment,{children:[(0,Ys.jsx)("img",{src:h,alt:"Profile",className:"w-full h-full object-cover",onError:e=>{console.warn("Profile image failed to load:",h);const t=e.currentTarget;t.style.display="none";const r=t.parentElement;if(r){const e=r.querySelector(".absolute.inset-0");e&&(e.style.display="flex")}S("Profile image failed to load. Please try uploading again.","warning")}}),(0,Ys.jsx)("div",{className:"absolute inset-0 flex items-center justify-center hidden",children:(0,Ys.jsx)(qn,{size:48,className:"text-green-500"})})]}):(0,Ys.jsx)(qn,{size:48,className:"text-green-500"})}),(0,Ys.jsxs)("label",{className:"absolute bottom-2 right-2 bg-green-500 rounded-full p-2 cursor-pointer hover:bg-green-600 transition-colors shadow-md",children:[(0,Ys.jsx)(Ih,{size:16,className:"text-white"}),(0,Ys.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;const s=(e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)?e.size>2097152?{isValid:!1,error:"Image size should be less than 2MB"}:{isValid:!0}:{isValid:!1,error:"Please select a valid image file (JPG, PNG, GIF, or WebP)"})(r);if(s.isValid){y(r);try{const e=await(e=>new Promise((t,r)=>{const s=new FileReader;s.onload=e=>{var s;const n=null===(s=e.target)||void 0===s?void 0:s.result;n?t(n):r(new Error("Failed to read image file"))},s.onerror=()=>{r(new Error("Failed to read image file"))},s.readAsDataURL(e)}))(r);g(e)}catch(n){S("Failed to read image file","error"),y(null)}}else S(s.error,"error")}})]})]}),f?(0,Ys.jsxs)("div",{className:"space-y-2",children:[(0,Ys.jsxs)("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",disabled:v,onClick:C,children:[(0,Ys.jsx)(Bn,{size:16}),v?"Uploading...":"Upload Photo"]}),(0,Ys.jsx)("button",{className:"w-full py-2 px-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",onClick:()=>{y(null),g(null);const e=document.querySelector('input[type="file"]');e&&(e.value="")},children:"Cancel"})]}):(0,Ys.jsx)("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",disabled:v,onClick:()=>{const e=document.querySelector('input[type="file"]');null===e||void 0===e||e.click()},children:"Upload New Photo"}),(0,Ys.jsx)("p",{className:"text-sm text-green-600 mt-2 text-center",children:"JPG, GIF or PNG. Max size of 2MB"})]})]})}),(0,Ys.jsxs)("div",{className:"lg:col-span-2",children:[(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-green-100 mb-8",children:[(0,Ys.jsx)("h2",{className:"text-xl font-semibold text-green-800 mb-4",children:"Personal Information"}),(0,Ys.jsxs)("form",{onSubmit:C,children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Full Name"}),(0,Ys.jsx)("input",{type:"text",name:"name",value:r.name,onChange:N,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your full name",required:!0})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Email Address"}),(0,Ys.jsx)("input",{type:"email",name:"email",value:r.email,onChange:N,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your email",required:!0})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Phone Number"}),(0,Ys.jsx)("input",{type:"tel",name:"phone",value:r.phone,onChange:N,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your phone number"})]})]}),(0,Ys.jsxs)("div",{className:"border-t border-green-100 pt-6",children:[(0,Ys.jsx)("h3",{className:"text-lg font-medium text-green-800 mb-4",children:"Address Information"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Street Address"}),(0,Ys.jsx)("input",{type:"text",name:"address.street",value:r.address.street,onChange:N,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your street address"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"City"}),(0,Ys.jsx)("input",{type:"text",name:"address.city",value:r.address.city,onChange:N,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your city"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"State/Province"}),(0,Ys.jsx)("input",{type:"text",name:"address.state",value:r.address.state,onChange:N,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your state"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"ZIP/Postal Code"}),(0,Ys.jsx)("input",{type:"text",name:"address.zipCode",value:r.address.zipCode,onChange:N,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your ZIP code"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Country"}),(0,Ys.jsx)("input",{type:"text",name:"address.country",value:r.address.country,onChange:N,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter your country"})]})]})]}),(0,Ys.jsx)("div",{className:"mt-8",children:(0,Ys.jsxs)("button",{type:"submit",disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:[(0,Ys.jsx)(Oh,{size:18}),v?"Saving...":"Save Changes"]})})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-green-100",children:[(0,Ys.jsx)("h2",{className:"text-xl font-semibold text-green-800 mb-4",children:"Change Password"}),(0,Ys.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),w(null),n.currentPassword.trim())if(n.newPassword.trim())if(n.newPassword.length<8)S("Password must be at least 8 characters long","error");else if(n.newPassword===n.confirmPassword)if(n.currentPassword!==n.newPassword){b(!0);try{const e=await As({currentPassword:n.currentPassword,newPassword:n.newPassword});if(!e.data.success)throw new Error(e.data.message||"Failed to change password");i({currentPassword:"",newPassword:"",confirmPassword:""}),S("Password changed successfully","success")}catch(s){var t,r;console.error("Password change error:",s);const e=(null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||s.message||"Failed to change password";S(e,"error")}finally{b(!1)}}else S("New password must be different from current password","error");else S("New passwords do not match","error");else S("Please enter a new password","error");else S("Please enter your current password","error")},children:(0,Ys.jsxs)("div",{className:"space-y-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Current Password"}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)("input",{type:o?"text":"password",name:"currentPassword",value:n.currentPassword,onChange:k,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 pr-12",placeholder:"Enter current password",required:!0}),(0,Ys.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:()=>l(!o),children:o?(0,Ys.jsx)(Sh,{size:20,className:"text-green-500"}):(0,Ys.jsx)(km,{size:20,className:"text-green-500"})})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"New Password"}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)("input",{type:c?"text":"password",name:"newPassword",value:n.newPassword,onChange:k,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 pr-12",placeholder:"Enter new password",required:!0}),(0,Ys.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:()=>d(!c),children:c?(0,Ys.jsx)(Sh,{size:20,className:"text-green-500"}):(0,Ys.jsx)(km,{size:20,className:"text-green-500"})})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Confirm New Password"}),(0,Ys.jsxs)("div",{className:"relative",children:[(0,Ys.jsx)("input",{type:u?"text":"password",name:"confirmPassword",value:n.confirmPassword,onChange:k,className:"w-full px-4 py-2 border border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 pr-12",placeholder:"Confirm new password",required:!0}),(0,Ys.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center",onClick:()=>m(!u),children:u?(0,Ys.jsx)(Sh,{size:20,className:"text-green-500"}):(0,Ys.jsx)(km,{size:20,className:"text-green-500"})})]})]}),(0,Ys.jsx)("div",{className:"mt-4",children:(0,Ys.jsxs)("button",{type:"submit",disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:[(0,Ys.jsx)(kh,{size:18}),v?"Updating...":"Update Password"]})})]})})]})]})]})]})},_h=()=>{const{user:e}=Ks(),[t,r]=(0,a.useState)(0);(0,a.useEffect)(()=>{const e=setInterval(()=>{r(e=>e+1)},1e3);return()=>clearInterval(e)},[]);return(0,Ys.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:(0,Ys.jsx)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-md overflow-hidden p-8",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"mx-auto bg-yellow-100 rounded-full p-4 w-24 h-24 flex items-center justify-center mb-6",children:(0,Ys.jsx)(Wn,{className:"w-12 h-12 text-yellow-500"})}),(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Pending Approval"}),(0,Ys.jsxs)("p",{className:"text-gray-600 mb-6",children:["Your ",null===e||void 0===e?void 0:e.role," account is currently pending admin approval. You will receive an email notification once your account has been approved."]}),(0,Ys.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,Ys.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Ys.jsx)("span",{className:"font-medium",children:"Note:"})," This process may take up to 24-48 hours. If you have any questions, please contact our support team."]})}),(0,Ys.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Ys.jsxs)("p",{className:"text-gray-700 text-sm",children:[(0,Ys.jsx)("span",{className:"font-medium",children:"Waiting time:"})," ",(e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r<10?"0":"").concat(r)})(t)]}),(0,Ys.jsx)("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:(0,Ys.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(Math.min(100,t/300*100),"%")}})}),(0,Ys.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Please keep this page open while waiting for approval"})]}),(0,Ys.jsx)("button",{onClick:()=>window.location.href="/",className:"w-full bg-gradient-to-r from-green-500 to-teal-400 hover:from-green-600 hover:to-teal-500 text-white font-medium py-3 rounded-lg shadow-sm hover:shadow transition-all duration-300",children:"Back to Home"})]})})})},Uh=()=>{const{user:e}=Ks(),t=te(),[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)({factoryName:"",gstNumber:"",address:{street:"",city:"",state:"",zipCode:"",country:"India"},contactPerson:{name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:""},businessDetails:{establishedYear:"",website:"",description:""}}),u=e=>{const{name:t,value:r}=e.target;if(t.includes(".")){const[e,s]=t.split(".");d(t=>Jt(Jt({},t),{},{[e]:Jt(Jt({},t[e]),{},{[s]:r})}))}else d(e=>Jt(Jt({},e),{},{[t]:r}))};return(0,Ys.jsx)("div",{className:"flex flex-col items-center justify-center p-8 max-w-2xl mx-auto",children:(0,Ys.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-md border border-gray-100 p-8",children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-center mb-2 bg-gradient-to-r from-green-600 to-teal-500 bg-clip-text text-transparent",children:"Factory Application"}),(0,Ys.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Please provide your factory details for admin approval"}),n&&(0,Ys.jsxs)("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-red-700 flex items-center mb-6",children:[(0,Ys.jsx)("span",{className:"text-red-500 mr-2",children:"\u26a0\ufe0f"}),(0,Ys.jsx)("p",{className:"text-sm font-medium",children:n})]}),o&&(0,Ys.jsxs)("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200 text-green-700 flex items-center mb-6",children:[(0,Ys.jsx)("span",{className:"text-green-500 mr-2",children:"\u2705"}),(0,Ys.jsx)("p",{className:"text-sm font-medium",children:o})]}),(0,Ys.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0),i(null),l(null);try{const e=await fetch("/api/auth/factory-application",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))},body:JSON.stringify(c)}),r=await e.json();r.success?(l("Factory application submitted successfully! Awaiting admin approval."),setTimeout(()=>{t("/pending-approval")},3e3)):i(r.message||"Failed to submit factory application")}catch(r){i(r.message||"Failed to submit factory application")}finally{s(!1)}},className:"w-full flex flex-col gap-6",children:[(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Factory Information"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Factory Name *"}),(0,Ys.jsx)("input",{type:"text",name:"factoryName",value:c.factoryName,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number *"}),(0,Ys.jsx)("input",{type:"text",name:"gstNumber",value:c.gstNumber,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),(0,Ys.jsx)("input",{type:"text",name:"address.street",value:c.address.street,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,Ys.jsx)("input",{type:"text",name:"address.city",value:c.address.city,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,Ys.jsx)("input",{type:"text",name:"address.state",value:c.address.state,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),(0,Ys.jsx)("input",{type:"text",name:"address.zipCode",value:c.address.zipCode,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,Ys.jsx)("input",{type:"text",name:"address.country",value:c.address.country,onChange:u,readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]})]})]}),(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Person"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Ys.jsx)("input",{type:"text",name:"contactPerson.name",value:c.contactPerson.name,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Ys.jsx)("input",{type:"email",name:"contactPerson.email",value:c.contactPerson.email,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),(0,Ys.jsx)("input",{type:"tel",name:"contactPerson.phone",value:c.contactPerson.phone,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Details"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established Year"}),(0,Ys.jsx)("input",{type:"number",name:"businessDetails.establishedYear",value:c.businessDetails.establishedYear,onChange:u,min:"1800",max:(new Date).getFullYear(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,Ys.jsx)("input",{type:"url",name:"businessDetails.website",value:c.businessDetails.website,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Description"}),(0,Ys.jsx)("textarea",{name:"businessDetails.description",value:c.businessDetails.description,onChange:u,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,Ys.jsx)("button",{type:"submit",disabled:r,className:"bg-gradient-to-r from-green-500 to-teal-400 hover:from-green-600 hover:to-teal-500 text-white font-medium py-3 rounded-lg shadow-sm hover:shadow transition-all duration-300 disabled:opacity-50 transform hover:-translate-y-0.5",children:r?(0,Ys.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Ys.jsx)("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2 animate-spin"}),"Submitting Application..."]}):"Submit Factory Application"})]})]})})},qh=()=>{const{user:e}=Ks(),t=te(),[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)({companyName:"",serviceArea:[""],vehicleDetails:"",licenseNumber:"",contactPerson:{name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:""},businessDetails:{establishedYear:"",website:"",description:""}}),u=e=>{const{name:t,value:r}=e.target;if(t.includes(".")){const[e,s]=t.split(".");d(t=>{const n=Jt({},t);return"contactPerson"===e?n.contactPerson=Jt(Jt({},t.contactPerson),{},{[s]:r}):"businessDetails"===e&&(n.businessDetails=Jt(Jt({},t.businessDetails),{},{[s]:r})),n})}else d("serviceArea"===t?e=>Jt(Jt({},e),{},{serviceArea:[r]}):e=>Jt(Jt({},e),{},{[t]:r}))};return(0,Ys.jsx)("div",{className:"flex flex-col items-center justify-center p-8 max-w-2xl mx-auto",children:(0,Ys.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-md border border-gray-100 p-8",children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-center mb-2 bg-gradient-to-r from-green-600 to-teal-500 bg-clip-text text-transparent",children:"Collector Application"}),(0,Ys.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Please provide your collector details for admin approval"}),n&&(0,Ys.jsxs)("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-red-700 flex items-center mb-6",children:[(0,Ys.jsx)("span",{className:"text-red-500 mr-2",children:"\u26a0\ufe0f"}),(0,Ys.jsx)("p",{className:"text-sm font-medium",children:n})]}),o&&(0,Ys.jsxs)("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200 text-green-700 flex items-center mb-6",children:[(0,Ys.jsx)("span",{className:"text-green-500 mr-2",children:"\u2705"}),(0,Ys.jsx)("p",{className:"text-sm font-medium",children:o})]}),(0,Ys.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0),i(null),l(null);try{const e=await fetch("/api/auth/collector-application",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))},body:JSON.stringify(c)}),r=await e.json();r.success?(l("Collector application submitted successfully! Awaiting admin approval."),setTimeout(()=>{t("/pending-approval")},3e3)):i(r.message||"Failed to submit collector application")}catch(r){i(r.message||"Failed to submit collector application")}finally{s(!1)}},className:"w-full flex flex-col gap-6",children:[(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Company Information"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),(0,Ys.jsx)("input",{type:"text",name:"companyName",value:c.companyName,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number *"}),(0,Ys.jsx)("input",{type:"text",name:"licenseNumber",value:c.licenseNumber,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Service Area"}),(0,Ys.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Area *"}),(0,Ys.jsx)("input",{type:"text",name:"serviceArea",value:c.serviceArea[0]||"",onChange:u,required:!0,placeholder:"Enter city or area name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),(0,Ys.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the primary city or area where you provide services"})]})})]}),(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Details"}),(0,Ys.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Details *"}),(0,Ys.jsx)("textarea",{name:"vehicleDetails",value:c.vehicleDetails,onChange:u,required:!0,rows:3,placeholder:"Describe your vehicle(s) - type, capacity, registration, etc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})})]}),(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Person"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Ys.jsx)("input",{type:"text",name:"contactPerson.name",value:c.contactPerson.name,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Ys.jsx)("input",{type:"email",name:"contactPerson.email",value:c.contactPerson.email,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),(0,Ys.jsx)("input",{type:"tel",name:"contactPerson.phone",value:c.contactPerson.phone,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,Ys.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Details"}),(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established Year"}),(0,Ys.jsx)("input",{type:"number",name:"businessDetails.establishedYear",value:c.businessDetails.establishedYear,onChange:u,min:"1800",max:(new Date).getFullYear(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,Ys.jsx)("input",{type:"url",name:"businessDetails.website",value:c.businessDetails.website,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,Ys.jsxs)("div",{className:"md:col-span-2",children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Description"}),(0,Ys.jsx)("textarea",{name:"businessDetails.description",value:c.businessDetails.description,onChange:u,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,Ys.jsx)("button",{type:"submit",disabled:r,className:"bg-gradient-to-r from-green-500 to-teal-400 hover:from-green-600 hover:to-teal-500 text-white font-medium py-3 rounded-lg shadow-sm hover:shadow transition-all duration-300 disabled:opacity-50 transform hover:-translate-y-0.5",children:r?(0,Ys.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Ys.jsx)("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2 animate-spin"}),"Submitting Application..."]}):"Submit Collector Application"})]})]})})},Vh={getMaterialRequests:async()=>{try{return(await Hs.get("/factory/material-requests")).data}catch(r){var e,t;throw console.error("Error fetching material requests:",r),new Error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch material requests")}},createMaterialRequest:async e=>{try{return(await Hs.post("/factory/material-requests",e)).data}catch(s){var t,r;throw console.error("Error creating material request:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to create material request")}},getFactoryCollections:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;Object.entries(e).forEach(e=>{let[r,s]=e;void 0!==s&&null!==s&&t.append(r,s.toString())});return(await Hs.get("/factory/collections?".concat(t.toString()))).data.data}catch(s){var t,r;throw console.error("Error fetching factory collections:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch factory collections")}},updateCollectionStatus:async(e,t,r)=>{try{return(await Hs.put("/collections/".concat(e,"/status"),{status:t,notes:r})).data}catch(a){var s,n;throw console.error("Error updating collection status:",a),new Error((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to update collection status")}},markAsDelivered:async e=>{try{return(await Hs.post("/collections/".concat(e,"/status"),{status:"delivered"})).data}catch(s){var t,r;throw console.error("Error marking collection as delivered:",s),new Error((null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to mark collection as delivered")}},verifyCollection:async(e,t)=>{try{return(await Hs.post("/collections/".concat(e,"/verify"),t)).data}catch(n){var r,s;throw console.error("Error verifying collection:",n),new Error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to verify collection")}}},Wh=()=>{const{user:e}=Ks(),[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({materialType:"plastic",subType:"",quantity:10,qualityRequirements:"fair",budgetPerKg:10,totalBudget:100,requiredBy:"",flexibilityDays:7,deliveryAddress:"",transportationMode:"pickup",specialHandling:"",priority:"medium"});(0,a.useEffect)(()=>{if(null!==e&&void 0!==e&&e.address){let t="";if("string"===typeof e.address)t=e.address;else{const r=[e.address.street,e.address.city,e.address.state,e.address.zipCode,e.address.country].filter(Boolean);t=r.join(", ")}u(e=>Jt(Jt({},e),{},{deliveryAddress:t}))}},[e]);const m=async()=>{try{n(!0);const e=await Vh.getMaterialRequests();if(!e.success||!Array.isArray(e.data))throw new Error("Invalid response format");r(e.data),o(null)}catch(e){console.error("Error fetching material requests:",e),o("Failed to load material requests");const t=[{_id:"1",requestId:"MR001",factoryId:{_id:"factory1",name:"Test Factory",email:"factory@test.com"},materialSpecs:{materialType:"plastic",subType:"PET",quantity:50,qualityRequirements:"good"},timeline:{requestDate:(new Date).toISOString(),requiredBy:new Date(Date.now()+12096e5).toISOString(),flexibilityDays:7},pricing:{budgetPerKg:12,totalBudget:600,paymentTerms:"on_delivery"},logistics:{deliveryAddress:"123 Factory St, Industrial Area",transportationMode:"pickup"},status:"open",matchedCollections:[],priority:"medium",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}];r(t)}finally{n(!1)}};(0,a.useEffect)(()=>{m()},[]);const h=e=>{const{name:t,value:r}=e.target;if(u(e=>Jt(Jt({},e),{},{[t]:"quantity"===t||"budgetPerKg"===t||"totalBudget"===t||"flexibilityDays"===t?Number(r):r})),"quantity"===t||"budgetPerKg"===t){const e="quantity"===t?Number(r):d.quantity,s="budgetPerKg"===t?Number(r):d.budgetPerKg;u(t=>Jt(Jt({},t),{},{totalBudget:e*s}))}},x=e=>{switch(e){case"open":return(0,Ys.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Open"});case"partially_filled":return(0,Ys.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Partially Filled"});case"fulfilled":return(0,Ys.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Fulfilled"});case"expired":return(0,Ys.jsx)("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Expired"});case"cancelled":return(0,Ys.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Cancelled"});default:return(0,Ys.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Unknown"})}};return s?(0,Ys.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,Ys.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Loading material requests..."})]})}):(0,Ys.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ys.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ys.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ys.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Materials Management"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500",children:"Request and track raw materials for production"})]}),(0,Ys.jsxs)("button",{onClick:()=>c(!l),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-all shadow-sm hover:shadow-md",children:[(0,Ys.jsx)(jm,{size:16}),l?"Cancel Request":"New Request"]})]})})}),(0,Ys.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i&&(0,Ys.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Ys.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ys.jsx)(Dm,{className:"text-red-500",size:20}),(0,Ys.jsx)("p",{className:"text-red-700",children:i})]})}),l&&(0,Ys.jsxs)("div",{className:"mb-8 bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"New Material Request"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Fill in the details for your material request"})]}),(0,Ys.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={materialSpecs:{materialType:d.materialType,subType:d.subType||void 0,quantity:d.quantity,qualityRequirements:d.qualityRequirements},timeline:{requiredBy:new Date(d.requiredBy).toISOString(),flexibilityDays:d.flexibilityDays},pricing:{budgetPerKg:d.budgetPerKg,totalBudget:d.totalBudget,paymentTerms:"on_delivery"},logistics:{deliveryAddress:d.deliveryAddress,transportationMode:d.transportationMode,specialHandling:d.specialHandling||void 0},priority:d.priority},t=await Vh.createMaterialRequest(e);console.log("Material request submitted:",t),alert("Material request submitted successfully!"),c(!1),m(),u({materialType:"plastic",subType:"",quantity:10,qualityRequirements:"fair",budgetPerKg:10,totalBudget:100,requiredBy:"",flexibilityDays:7,deliveryAddress:"",transportationMode:"pickup",specialHandling:"",priority:"medium"})}catch(t){console.error("Error submitting material request:",t),alert("Failed to submit material request")}},className:"p-6 space-y-6",children:[(0,Ys.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Type"}),(0,Ys.jsx)("select",{name:"materialType",value:d.materialType,onChange:h,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[{value:"plastic",label:"Plastic"},{value:"paper",label:"Paper"},{value:"metal",label:"Metal"},{value:"glass",label:"Glass"},{value:"electronic",label:"Electronic Waste"},{value:"organic",label:"Organic Waste"},{value:"textile",label:"Textile"},{value:"rubber",label:"Rubber"}].map(e=>(0,Ys.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sub Type (Optional)"}),(0,Ys.jsx)("input",{type:"text",name:"subType",value:d.subType,onChange:h,placeholder:"e.g., PET, HDPE, etc.",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity (kg)"}),(0,Ys.jsx)("input",{type:"number",name:"quantity",value:d.quantity,onChange:h,min:"1",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Requirements"}),(0,Ys.jsx)("select",{name:"qualityRequirements",value:d.qualityRequirements,onChange:h,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[{value:"poor",label:"Poor"},{value:"fair",label:"Fair"},{value:"good",label:"Good"},{value:"excellent",label:"Excellent"}].map(e=>(0,Ys.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Per Kg (\u20b9)"}),(0,Ys.jsx)("input",{type:"number",name:"budgetPerKg",value:d.budgetPerKg,onChange:h,min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Budget (\u20b9)"}),(0,Ys.jsx)("input",{type:"number",name:"totalBudget",value:d.totalBudget,readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-50 focus:outline-none"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required By"}),(0,Ys.jsx)("input",{type:"date",name:"requiredBy",value:d.requiredBy,onChange:h,min:(new Date).toISOString().split("T")[0],className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Flexibility (Days)"}),(0,Ys.jsx)("input",{type:"number",name:"flexibilityDays",value:d.flexibilityDays,onChange:h,min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Ys.jsx)("select",{name:"priority",value:d.priority,onChange:h,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[{value:"low",label:"Low Priority"},{value:"medium",label:"Medium Priority"},{value:"high",label:"High Priority"}].map(e=>(0,Ys.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transportation Mode"}),(0,Ys.jsx)("select",{name:"transportationMode",value:d.transportationMode,onChange:h,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[{value:"pickup",label:"Collector Pickup"},{value:"delivery",label:"Factory Delivery"},{value:"both",label:"Both Options"}].map(e=>(0,Ys.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Address"}),(0,Ys.jsx)("textarea",{name:"deliveryAddress",value:d.deliveryAddress,onChange:h,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Enter the full delivery address"})]}),(0,Ys.jsxs)("div",{children:[(0,Ys.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Handling Instructions (Optional)"}),(0,Ys.jsx)("textarea",{name:"specialHandling",value:d.specialHandling,onChange:h,rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Any special handling requirements"})]}),(0,Ys.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ys.jsx)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Ys.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md",children:"Submit Request"})]})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,Ys.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[(0,Ys.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Material Requests"}),(0,Ys.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"View and manage your material requests"})]}),t&&0===t.length?(0,Ys.jsxs)("div",{className:"p-12 text-center",children:[(0,Ys.jsx)(In,{className:"mx-auto text-gray-400",size:48}),(0,Ys.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No material requests"}),(0,Ys.jsx)("p",{className:"mt-2 text-gray-500",children:"Get started by creating your first material request."}),(0,Ys.jsxs)("button",{onClick:()=>c(!0),className:"mt-4 inline-flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-all shadow-sm hover:shadow-md",children:[(0,Ys.jsx)(jm,{size:16}),"Create Request"]})]}):(0,Ys.jsx)("div",{className:"overflow-x-auto",children:(0,Ys.jsxs)("table",{className:"w-full",children:[(0,Ys.jsx)("thead",{className:"bg-gray-50",children:(0,Ys.jsxs)("tr",{children:[(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request ID"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Required By"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ys.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ys.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t&&t.map(e=>(0,Ys.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.requestId}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm font-medium text-gray-900 capitalize",children:e.materialSpecs.materialType}),e.materialSpecs.subType&&(0,Ys.jsx)("div",{className:"text-xs text-gray-500",children:e.materialSpecs.subType})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsxs)("div",{className:"text-sm text-gray-900",children:[e.materialSpecs.quantity," kg"]}),(0,Ys.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:e.materialSpecs.qualityRequirements})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["\u20b9",e.pricing.totalBudget]}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:["\u20b9",e.pricing.budgetPerKg,"/kg"]})]}),(0,Ys.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ys.jsx)("div",{className:"text-sm text-gray-900",children:new Date(e.timeline.requiredBy).toLocaleDateString()}),(0,Ys.jsxs)("div",{className:"text-xs text-gray-500",children:[e.timeline.flexibilityDays," days flexibility"]})]}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:x(e.status)}),(0,Ys.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ys.jsx)("button",{className:"text-green-600 hover:text-green-900",children:"View Details"})})]},e._id))})]})})]})]})]})},Hh=async()=>{console.log("Testing connections...");try{const e="https://ecochain-j1nj.onrender.com/api";console.log("API Base URL:",e);const t=await fetch("".concat(e,"/health"),{method:"GET",headers:{"Content-Type":"application/json"}});t.ok?console.log("\u2705 API connection successful"):console.error("\u274c API connection failed:",t.status,t.statusText)}catch(e){console.error("\u274c API connection error:",e)}try{const e="wss://ecochain-j1nj.onrender.com".endsWith("/ws")?"wss://ecochain-j1nj.onrender.com":"".concat("wss://ecochain-j1nj.onrender.com","/ws");console.log("WebSocket URL:",e);const t=localStorage.getItem("accessToken");if(t){const r="".concat(e,"?token=").concat(encodeURIComponent(t));console.log("Testing WebSocket connection with URL:",r);const s=new WebSocket(r);s.onopen=()=>{console.log("\u2705 WebSocket connection successful"),s.close()},s.onerror=e=>{console.error("\u274c WebSocket connection error:",e),console.error("WebSocket URL:",r)},s.onclose=e=>{console.log("WebSocket test connection closed:",e.code,e.reason)},setTimeout(()=>{s.readyState===WebSocket.CONNECTING&&(console.log("WebSocket connection timeout"),s.close())},5e3)}else console.log("No auth token available, skipping WebSocket test")}catch(e){console.error("\u274c WebSocket connection error:",e)}},$h=()=>{const[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!1),n=async()=>{s(!0),t(null);const e=console.log,r=console.error,n=[];console.log=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];n.push(r.join(" ")),e.apply(console,r)},console.error=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];n.push("ERROR: "+t.join(" ")),r.apply(console,t)};try{await Hh(),t(n)}catch(a){t(["Test failed with error: "+a.message])}finally{console.log=e,console.error=r,s(!1)}};return(0,a.useEffect)(()=>{n()},[]),(0,Ys.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,Ys.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Connection Test"}),(0,Ys.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,Ys.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ys.jsx)("h2",{className:"text-xl font-semibold",children:"Connection Status"}),(0,Ys.jsx)("button",{onClick:n,disabled:r,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50",children:r?"Testing...":"Run Test"})]}),(0,Ys.jsxs)("div",{className:"mt-6",children:[(0,Ys.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Environment Information:"}),(0,Ys.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,Ys.jsxs)("p",{children:[(0,Ys.jsx)("strong",{children:"Environment:"})," ","production"]}),(0,Ys.jsxs)("p",{children:[(0,Ys.jsx)("strong",{children:"API Base URL:"})," ","https://ecochain-j1nj.onrender.com/api"]}),(0,Ys.jsxs)("p",{children:[(0,Ys.jsx)("strong",{children:"WebSocket URL:"})," ","wss://ecochain-j1nj.onrender.com"]})]})]}),(0,Ys.jsxs)("div",{className:"mt-6",children:[(0,Ys.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Test Results:"}),e?(0,Ys.jsx)("div",{className:"bg-gray-50 p-4 rounded-md max-h-96 overflow-y-auto",children:e.map((e,t)=>(0,Ys.jsx)("div",{className:"font-mono text-sm ".concat(e.includes("ERROR")?"text-red-600":e.includes("\u2705")?"text-green-600":""),children:e},t))}):(0,Ys.jsx)("div",{className:"bg-gray-50 p-4 rounded-md",children:r?"Running tests...":'Click "Run Test" to start testing connections'})]})]}),(0,Ys.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Ys.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Troubleshooting Guide"}),(0,Ys.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,Ys.jsx)("li",{children:"Ensure environment variables are set correctly in your deployment platform"}),(0,Ys.jsx)("li",{children:"Verify that the backend is running and accessible at the specified URLs"}),(0,Ys.jsx)("li",{children:"Check browser console for detailed error messages"}),(0,Ys.jsx)("li",{children:"Make sure CORS is properly configured on the backend"}),(0,Ys.jsx)("li",{children:"For WebSocket issues, ensure the server supports WebSocket upgrades"})]})]})]})},Yh=()=>{const e=te();return(0,a.useEffect)(()=>{e("/")},[e]),(0,Ys.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ys.jsxs)("div",{className:"text-center",children:[(0,Ys.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),(0,Ys.jsx)("p",{className:"mt-4 text-gray-600",children:"Redirecting to home page..."})]})})};const Gh=function(){const e=Z();return(0,a.useEffect)(()=>{window.scrollTo(0,0)},[e.pathname]),(0,a.useEffect)(()=>{0},[]),(0,Ys.jsx)(Qs,{children:(0,Ys.jsx)(un,{children:(0,Ys.jsx)(Xs,{children:(0,Ys.jsxs)(ha,{children:[(0,Ys.jsx)(Gn,{}),(0,Ys.jsx)("main",{className:"flex-grow",children:(0,Ys.jsx)(qe,{mode:"wait",children:(0,Ys.jsxs)(be,{location:e,children:[(0,Ys.jsx)(ye,{path:"/",element:(0,Ys.jsx)(Am,{})}),(0,Ys.jsx)(ye,{path:"/login",element:(0,Ys.jsx)(Ch,{})}),(0,Ys.jsx)(ye,{path:"/signup",element:(0,Ys.jsx)(Eh,{})}),(0,Ys.jsx)(ye,{path:"/pending-approval",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(_h,{}),allowedRoles:["factory","collector"]})}),(0,Ys.jsx)(ye,{path:"/factory-application",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(Uh,{}),allowedRoles:["factory"]})}),(0,Ys.jsx)(ye,{path:"/collector-application",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(qh,{}),allowedRoles:["collector"]})}),(0,Ys.jsx)(ye,{path:"/marketplace",element:(0,Ys.jsx)(Um,{})}),(0,Ys.jsx)(ye,{path:"/cart",element:(0,Ys.jsx)(fh,{})}),(0,Ys.jsx)(ye,{path:"/waste-submission",element:(0,Ys.jsx)(qm,{})}),(0,Ys.jsx)(ye,{path:"/dashboard",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(Gm,{}),allowedRoles:["user"]})}),(0,Ys.jsx)(ye,{path:"/admin-dashboard",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(dh,{}),allowedRoles:["admin"]})}),(0,Ys.jsx)(ye,{path:"/admin-dashboard/analytics",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(Km,{}),allowedRoles:["admin"]})}),(0,Ys.jsx)(ye,{path:"/admin-dashboard/factory",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(nh,{}),allowedRoles:["admin"]})}),(0,Ys.jsx)(ye,{path:"/factory-dashboard",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(uh,{}),allowedRoles:["factory"]})}),(0,Ys.jsx)(ye,{path:"/factory-product-management",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(xh,{}),allowedRoles:["factory"]})}),(0,Ys.jsx)(ye,{path:"/factory-orders",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(Fh,{}),allowedRoles:["factory"]})}),(0,Ys.jsx)(ye,{path:"/materials",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(Wh,{}),allowedRoles:["factory"]})}),(0,Ys.jsx)(ye,{path:"/collector-dashboard",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(ph,{}),allowedRoles:["collector"]})}),(0,Ys.jsx)(ye,{path:"/checkout",element:(0,Ys.jsx)(gh,{})}),(0,Ys.jsx)(ye,{path:"/order-confirmation/:orderId",element:(0,Ys.jsx)(yh,{})}),(0,Ys.jsx)(ye,{path:"/order-tracking/:trackingNumber",element:(0,Ys.jsx)(vh,{})}),(0,Ys.jsx)(ye,{path:"/pickup-scheduling/:collectionId",element:(0,Ys.jsx)(bh,{})}),(0,Ys.jsx)(ye,{path:"/help",element:(0,Ys.jsx)(jh,{})}),(0,Ys.jsx)(ye,{path:"/orders",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(Rh,{}),allowedRoles:["user"]})}),(0,Ys.jsx)(ye,{path:"/achievements",element:(0,Ys.jsx)(Th,{})}),(0,Ys.jsx)(ye,{path:"/wallet",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(Mh,{}),allowedRoles:["user"]})}),(0,Ys.jsx)(ye,{path:"/profile",element:(0,Ys.jsx)(ua,{element:(0,Ys.jsx)(Bh,{}),allowedRoles:["user","admin","factory","collector"]})}),(0,Ys.jsx)(ye,{path:"/connection-test",element:(0,Ys.jsx)($h,{})}),(0,Ys.jsx)(ye,{path:"*",element:(0,Ys.jsx)(Yh,{})})]},e.pathname)})}),(0,Ys.jsx)(da,{})]})})})})},Qh=e=>{e&&e instanceof Function&&r.e(206).then(r.bind(r,206)).then(t=>{let{getCLS:r,getFID:s,getFCP:n,getLCP:a,getTTFB:i}=t;r(e),s(e),n(e),a(e),i(e)})};o.createRoot(document.getElementById("root")).render((0,Ys.jsx)(a.StrictMode,{children:(0,Ys.jsx)(vn,{children:(0,Ys.jsx)(Gh,{})})})),Qh()})();